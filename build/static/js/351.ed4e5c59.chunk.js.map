{"version":3,"file":"static/js/351.ed4e5c59.chunk.js","mappings":"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","sources":["../node_modules/src/area-chart/elements/area-chart-filter.tsx","../node_modules/src/area-chart/elements/area-chart-legend.tsx","../node_modules/@cloudscape-design/components/internal/components/cartesian-chart/styles.css.js","../node_modules/src/internal/components/cartesian-chart/axis-label.tsx","../node_modules/src/internal/components/cartesian-chart/labels-measure.tsx","../node_modules/src/internal/components/cartesian-chart/constants.ts","../node_modules/src/internal/components/cartesian-chart/label-utils.ts","../node_modules/src/internal/components/cartesian-chart/inline-start-labels.tsx","../node_modules/src/internal/components/cartesian-chart/block-end-labels.tsx","../node_modules/src/internal/components/cartesian-chart/emphasized-baseline.tsx","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/src/area-chart/elements/area-series.tsx","../node_modules/d3-shape/src/area.js","../node_modules/src/area-chart/elements/threshold-series.tsx","../node_modules/@cloudscape-design/components/area-chart/styles.css.js","../node_modules/src/area-chart/elements/data-series.tsx","../node_modules/src/area-chart/elements/chart-popover.tsx","../node_modules/src/internal/components/cartesian-chart/highlighted-point.tsx","../node_modules/src/area-chart/elements/highlighted-point.tsx","../node_modules/src/internal/components/cartesian-chart/vertical-marker.tsx","../node_modules/src/area-chart/elements/vertical-marker.tsx","../node_modules/src/internal/components/cartesian-chart/chart-container.tsx","../node_modules/src/area-chart/chart-container.tsx","../node_modules/src/area-chart/elements/use-highlight-details.ts","../node_modules/src/area-chart/model/utils.ts","../node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js","../node_modules/date-fns/esm/differenceInCalendarDays/index.js","../node_modules/date-fns/esm/differenceInDays/index.js","../node_modules/date-fns/esm/add/index.js","../node_modules/src/internal/components/cartesian-chart/ticks.ts","../node_modules/@cloudscape-design/components/internal/vendor/d3-scale.js","../node_modules/src/internal/components/cartesian-chart/scales.ts","../node_modules/src/area-chart/model/compute-chart-props.ts","../node_modules/src/area-chart/model/interactions-store.ts","../node_modules/src/area-chart/model/use-chart-model.ts","../node_modules/src/area-chart/model/create-series-decorator.ts","../node_modules/src/internal/utils/throttle.ts","../node_modules/src/area-chart/internal.tsx","../node_modules/src/area-chart/model/use-filter-props.ts","../node_modules/src/area-chart/model/use-highlight-props.ts","../node_modules/src/area-chart/index.tsx","../node_modules/src/column-layout/index.tsx","../node_modules/src/token-group/internal.tsx","../node_modules/@cloudscape-design/components/multiselect/styles.css.js","../node_modules/src/multiselect/internal.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-filter/styles.css.js","../node_modules/src/internal/components/chart-filter/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-legend/styles.css.js","../node_modules/src/internal/components/chart-legend/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-plot/styles.css.js","../node_modules/src/internal/components/chart-plot/application-controller.tsx","../node_modules/src/internal/components/chart-plot/focus-outline.tsx","../node_modules/src/internal/components/chart-plot/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-popover-footer/styles.css.js","../node_modules/src/internal/components/chart-popover-footer/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-popover/styles.css.js","../node_modules/src/internal/components/chart-popover/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-series-details/styles.css.js","../node_modules/src/internal/components/chart-series-details/index.tsx","../node_modules/src/internal/components/chart-series-details/series-details-text.ts","../node_modules/@cloudscape-design/components/internal/components/chart-series-marker/styles.css.js","../node_modules/src/internal/components/chart-series-marker/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-status-container/styles.css.js","../node_modules/src/internal/components/chart-status-container/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-wrapper/styles.css.js","../node_modules/src/internal/components/chart-wrapper/index.tsx","../node_modules/src/internal/components/responsive-text/responsive-text-utils.ts","../node_modules/src/internal/components/responsive-text/index.tsx","../node_modules/src/internal/hooks/container-queries/use-height-measure.ts","../node_modules/src/internal/styles/colors.ts","../node_modules/src/internal/utils/create-category-color-scale.ts","../node_modules/src/internal/utils/use-container-width.ts","../node_modules/d3-shape/src/descending.js","../node_modules/d3-shape/src/identity.js","../node_modules/d3-shape/src/math.js","../node_modules/d3-shape/src/arc.js","../node_modules/@cloudscape-design/components/pie-chart/styles.css.js","../node_modules/src/pie-chart/utils.ts","../node_modules/src/pie-chart/responsive-text.tsx","../node_modules/src/pie-chart/labels.tsx","../node_modules/src/pie-chart/segments.tsx","../node_modules/src/pie-chart/pie-chart.tsx","../node_modules/src/pie-chart/index.tsx","../node_modules/d3-shape/src/pie.js","../node_modules/src/status-indicator/index.tsx","../node_modules/d3-path/src/path.js","../node_modules/d3-shape/src/constant.js"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\n\nimport { AreaChartProps } from '../interfaces';\nimport { ChartModel } from '../model';\nimport ChartFilter from '../../internal/components/chart-filter';\n\nexport default memo(AreaChartFilter) as typeof AreaChartFilter;\n\nfunction AreaChartFilter<T extends AreaChartProps.DataTypes>({\n  model,\n  filterLabel,\n  filterPlaceholder,\n  filterSelectedAriaLabel,\n}: {\n  model: ChartModel<T>;\n  filterLabel?: string;\n  filterPlaceholder?: string;\n  filterSelectedAriaLabel?: string;\n}) {\n  const filterItems = model.allSeries.map(s => {\n    const { title, color, markerType } = model.getInternalSeries(s);\n    return { label: title, color, type: markerType, datum: s };\n  });\n\n  return (\n    <ChartFilter\n      series={filterItems}\n      onChange={model.handlers.onFilterSeries}\n      selectedSeries={model.series}\n      i18nStrings={{\n        filterLabel,\n        filterPlaceholder,\n        filterSelectedAriaLabel,\n      }}\n    />\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useMemo } from 'react';\n\nimport { AreaChartProps } from '../interfaces';\nimport ChartLegend from '../../internal/components/chart-legend';\nimport { ChartModel } from '../model';\nimport { useSelector } from '../async-store';\n\nexport default memo(AreaChartLegend) as typeof AreaChartLegend;\n\nfunction AreaChartLegend<T extends AreaChartProps.DataTypes>({\n  model,\n  legendTitle,\n  ariaLabel,\n  plotContainerRef,\n}: {\n  model: ChartModel<T>;\n  plotContainerRef: React.RefObject<HTMLDivElement>;\n  legendTitle?: string;\n  ariaLabel?: string;\n}) {\n  const legendItems = useMemo(\n    () =>\n      model.series.map(s => {\n        const { title, color, markerType } = model.getInternalSeries(s);\n        return { label: title, color, type: markerType, datum: s };\n      }),\n    [model]\n  );\n\n  const legendSeries = useSelector(model.interactions, state => state.legendSeries);\n\n  return (\n    <ChartLegend\n      series={legendItems}\n      highlightedSeries={legendSeries}\n      onHighlightChange={model.handlers.onLegendHighlight}\n      legendTitle={legendTitle}\n      ariaLabel={ariaLabel}\n      plotContainerRef={plotContainerRef}\n    />\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"axis\": \"awsui_axis_f0fot_11j60_9\",\n  \"vertical-marker\": \"awsui_vertical-marker_f0fot_11j60_10\",\n  \"axis--emphasized\": \"awsui_axis--emphasized_f0fot_11j60_15\",\n  \"axis-label\": \"awsui_axis-label_f0fot_11j60_19\",\n  \"axis-label--x\": \"awsui_axis-label--x_f0fot_11j60_24\",\n  \"axis-label--y\": \"awsui_axis-label--y_f0fot_11j60_25\",\n  \"grid\": \"awsui_grid_f0fot_11j60_29\",\n  \"ticks__line\": \"awsui_ticks__line_f0fot_11j60_34\",\n  \"ticks__text\": \"awsui_ticks__text_f0fot_11j60_39\",\n  \"ticks--y\": \"awsui_ticks--y_f0fot_11j60_44\",\n  \"ticks--x\": \"awsui_ticks--x_f0fot_11j60_45\",\n  \"ticks--bottom\": \"awsui_ticks--bottom_f0fot_11j60_49\",\n  \"labels-inline-start\": \"awsui_labels-inline-start_f0fot_11j60_54\",\n  \"ticks\": \"awsui_ticks_f0fot_11j60_34\",\n  \"labels-inline-start__label\": \"awsui_labels-inline-start__label_f0fot_11j60_69\",\n  \"labels-inline-start--hidden\": \"awsui_labels-inline-start--hidden_f0fot_11j60_73\",\n  \"labels-block-end\": \"awsui_labels-block-end_f0fot_11j60_81\",\n  \"vertical-marker-circle\": \"awsui_vertical-marker-circle_f0fot_11j60_92\",\n  \"vertical-marker-circle-active\": \"awsui_vertical-marker-circle-active_f0fot_11j60_98\",\n  \"focus-outline\": \"awsui_focus-outline_f0fot_11j60_103\",\n  \"chart-container\": \"awsui_chart-container_f0fot_11j60_111\",\n  \"fit-height\": \"awsui_fit-height_f0fot_11j60_116\",\n  \"chart-container-outer\": \"awsui_chart-container-outer_f0fot_11j60_121\",\n  \"chart-container-inner\": \"awsui_chart-container-inner_f0fot_11j60_128\",\n  \"chart-container-plot-wrapper\": \"awsui_chart-container-plot-wrapper_f0fot_11j60_135\",\n  \"chart-container-plot\": \"awsui_chart-container-plot_f0fot_11j60_135\",\n  \"chart-container-bottom-labels\": \"awsui_chart-container-bottom-labels_f0fot_11j60_147\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\nimport clsx from 'clsx';\n\nimport InternalBox from '../../../box/internal';\n\nimport styles from './styles.css.js';\n\ninterface AxisLabelProps {\n  title?: string;\n  axis: 'x' | 'y';\n  position: 'left' | 'bottom';\n}\n\nexport default memo(AxisLabel) as typeof AxisLabel;\n\nfunction AxisLabel({ title, axis, position }: AxisLabelProps) {\n  if (!title) {\n    return null;\n  }\n\n  return (\n    <InternalBox\n      className={clsx(styles['axis-label'], axis === 'x' ? styles['axis-label--x'] : styles['axis-label--y'])}\n      fontWeight=\"bold\"\n      textAlign={position === 'left' ? 'left' : 'center'}\n      margin={{ bottom: position === 'left' ? 'l' : 'n' }}\n    >\n      <span aria-hidden=\"true\">{title}</span>\n    </InternalBox>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useEffect, Fragment } from 'react';\nimport clsx from 'clsx';\n\nimport { ChartScale, NumericChartScale } from './scales';\n\nimport styles from './styles.css.js';\nimport { ChartDataTypes } from '../../../mixed-line-bar-chart/interfaces';\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\n\ninterface LabelsMeasureProps {\n  scale: ChartScale | NumericChartScale;\n  ticks: readonly ChartDataTypes[];\n  tickFormatter?: (value: ChartDataTypes) => string;\n  autoWidth: (value: number) => void;\n  maxLabelsWidth?: number;\n}\n\nexport default memo(LabelsMeasure) as typeof LabelsMeasure;\n\n// Places the invisible left-hand side labels to calculate their maximum width.\nfunction LabelsMeasure({ scale, ticks, tickFormatter, autoWidth, maxLabelsWidth }: LabelsMeasureProps) {\n  const [width, ref] = useContainerQuery<number>(rect => rect.contentBoxWidth);\n\n  // Tell elements's width to the parent.\n  useEffect(() => {\n    autoWidth(width || 0);\n  }, [autoWidth, width]);\n\n  const labelMapper = (value: ChartDataTypes) => {\n    const scaledValue = scale.d3Scale(value as any);\n    if (scaledValue === undefined || !isFinite(scaledValue)) {\n      return null;\n    }\n\n    const formattedValue = tickFormatter ? tickFormatter(value as any) : value.toString();\n    const lines = (formattedValue + '').split('\\n');\n\n    return (\n      <Fragment key={`${value}`}>\n        {lines.map((line, lineIndex) => (\n          <div key={lineIndex} className={styles['labels-inline-start__label']} aria-hidden=\"true\">\n            {line}\n          </div>\n        ))}\n      </Fragment>\n    );\n  };\n\n  return (\n    <div\n      ref={ref}\n      className={clsx(styles['labels-inline-start'], styles['labels-inline-start--hidden'])}\n      style={{ maxWidth: maxLabelsWidth }}\n    >\n      {ticks.map(labelMapper)}\n    </div>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const TICK_LENGTH = 8;\nexport const TICK_MARGIN = 4;\nexport const TICK_LINE_HEIGHT = 16;\nexport const X_TICK_COUNT_RATIO = 100;\nexport const Y_TICK_COUNT_RATIO = 50;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ChartDataTypes } from './interfaces';\nimport { ChartScale, NumericChartScale } from './scales';\n\nconst SPACE_BETWEEN = 4;\n\nexport interface FormattedTick {\n  position: number;\n  space: number;\n  lines: string[];\n}\n\nexport function formatTicks({\n  ticks,\n  scale,\n  getLabelSpace,\n  tickFormatter,\n}: {\n  ticks: readonly ChartDataTypes[];\n  scale: ChartScale | NumericChartScale;\n  getLabelSpace: (label: string) => number;\n  tickFormatter?: (value: any) => string;\n}): FormattedTick[] {\n  return ticks.map(tick => {\n    const position = scale.d3Scale(tick as any) ?? NaN;\n    const label = tickFormatter ? tickFormatter(tick as any) : tick.toString();\n    const lines = (label + '').split('\\n');\n    return { position, lines, space: Math.max(...lines.map(getLabelSpace)) };\n  });\n}\n\nexport function getVisibleTicks(ticks: readonly FormattedTick[], from: number, until: number, balanceTicks = false) {\n  ticks = getTicksInRange(ticks, from, until);\n  return balanceTicks ? getReducedTicks(ticks) : removeIntersections(ticks);\n}\n\nfunction getTicksInRange(ticks: readonly FormattedTick[], from: number, until: number) {\n  return ticks.filter(tick => from <= tick.position - tick.space / 2 && tick.position + tick.space / 2 <= until);\n}\n\nfunction getReducedTicks(ticks: readonly FormattedTick[]): readonly FormattedTick[] {\n  const reduceLabelRatio = findReduceLabelRatio(ticks);\n\n  const reducedTicks = [];\n  for (let index = 0; index < ticks.length; index += reduceLabelRatio) {\n    reducedTicks.push(ticks[index]);\n  }\n  return reducedTicks;\n}\n\n// Returns a ratio such that all elements can be displayed with no intersections.\nfunction findReduceLabelRatio(ticks: readonly FormattedTick[], ratio = 1): number {\n  if (ratio >= ticks.length) {\n    return ratio;\n  }\n  for (let i = ratio; i < ticks.length; i += ratio) {\n    if (hasIntersection(ticks[i - ratio], ticks[i])) {\n      return findReduceLabelRatio(ticks, ratio + 1);\n    }\n  }\n  return ratio;\n}\n\nfunction removeIntersections(ticks: readonly FormattedTick[]) {\n  const visibleTicks = [];\n  let prevTick = null;\n  for (const tick of ticks) {\n    if (!prevTick || !hasIntersection(prevTick, tick)) {\n      visibleTicks.push(tick);\n      prevTick = tick;\n    }\n  }\n  return visibleTicks;\n}\n\nfunction hasIntersection(a: FormattedTick, b: FormattedTick) {\n  const [left, right] = a.position < b.position ? [a, b] : [b, a];\n  const leftEdge = left.position + left.space / 2 + SPACE_BETWEEN;\n  const rightEdge = right.position - right.space / 2;\n  return leftEdge > rightEdge;\n}\n\n// Ignoring as unsupported in JSDom.\n/* istanbul ignore next */\nexport function getSVGTextSize(element: null | SVGTextElement): undefined | { width: number; height: number } {\n  if (element && element.getBBox) {\n    return element.getBBox();\n  }\n  return undefined;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { ChartScale, NumericChartScale } from './scales';\nimport { TICK_LENGTH, TICK_LINE_HEIGHT, TICK_MARGIN } from './constants';\n\nimport styles from './styles.css.js';\nimport { formatTicks, getSVGTextSize, getVisibleTicks } from './label-utils';\nimport { ChartDataTypes } from '../../../mixed-line-bar-chart/interfaces';\nimport { useInternalI18n } from '../../../i18n/context';\nimport ResponsiveText from '../responsive-text';\nimport { getIsRtl } from '@cloudscape-design/component-toolkit/internal';\n\nconst OFFSET_PX = 12;\n\ninterface InlineStartLabelsProps {\n  axis?: 'x' | 'y';\n  plotWidth: number;\n  plotHeight: number;\n  maxLabelsWidth?: number;\n  scale: ChartScale | NumericChartScale;\n  ticks: readonly ChartDataTypes[];\n  tickFormatter?: (value: number) => string;\n  title?: string;\n  ariaRoleDescription?: string;\n}\n\nexport default memo(InlineStartLabels) as typeof InlineStartLabels;\n\n// Renders the visible tick labels on the value axis, as well as their grid lines.\nfunction InlineStartLabels({\n  axis = 'y',\n  plotWidth,\n  plotHeight,\n  maxLabelsWidth = Number.POSITIVE_INFINITY,\n  scale,\n  ticks,\n  tickFormatter,\n  title,\n  ariaRoleDescription,\n}: InlineStartLabelsProps) {\n  const i18n = useInternalI18n('[charts]');\n  const virtualTextRef = useRef<SVGTextElement>(null);\n\n  const yOffset = axis === 'x' && scale.isCategorical() ? Math.max(0, scale.d3Scale.bandwidth() - 1) / 2 : 0;\n\n  const labelToBoxCache = useRef<{ [label: string]: undefined | { width: number; height: number } }>({});\n  const getLabelSpace = (label: string) => {\n    if (labelToBoxCache.current[label] !== undefined) {\n      return labelToBoxCache.current[label]?.height ?? 0;\n    }\n    if (virtualTextRef.current) {\n      virtualTextRef.current.textContent = label;\n    }\n    labelToBoxCache.current[label] = getSVGTextSize(virtualTextRef.current);\n    return labelToBoxCache.current[label]?.height ?? 0;\n  };\n\n  const formattedTicks = formatTicks({ ticks, scale, getLabelSpace, tickFormatter });\n\n  if (virtualTextRef.current) {\n    virtualTextRef.current.textContent = '';\n  }\n\n  const from = 0 - OFFSET_PX - yOffset;\n  const until = plotHeight + OFFSET_PX - yOffset;\n  const visibleTicks = getVisibleTicks(formattedTicks, from, until);\n\n  const isRtl = virtualTextRef.current ? getIsRtl(virtualTextRef.current) : false;\n\n  return (\n    <g\n      className={styles['labels-inline-start']}\n      aria-label={title}\n      role=\"list\"\n      aria-roledescription={i18n('i18nStrings.chartAriaRoleDescription', ariaRoleDescription)}\n      aria-hidden={true}\n    >\n      {visibleTicks.map(\n        ({ position, lines }, index) =>\n          isFinite(position) && (\n            <g\n              key={index}\n              role=\"listitem\"\n              transform={`translate(0,${position + yOffset})`}\n              className={clsx(styles.ticks, axis === 'x' ? styles['ticks--x'] : styles['ticks--y'])}\n            >\n              {axis === 'y' && (\n                <line\n                  className={clsx(styles.grid, styles.ticks_line)}\n                  x1={-TICK_LENGTH}\n                  y1={0}\n                  x2={plotWidth}\n                  y2={0}\n                  aria-hidden=\"true\"\n                />\n              )}\n\n              {lines.map((line, lineIndex) => {\n                const x = -(TICK_LENGTH + TICK_MARGIN);\n                const lineTextProps = {\n                  x: !isRtl ? x : plotWidth - x,\n                  y: (lineIndex - (lines.length - 1) * 0.5) * TICK_LINE_HEIGHT,\n                  className: styles.ticks__text,\n                  children: line,\n                };\n                return (labelToBoxCache.current[lines[0]]?.width ?? 0) > maxLabelsWidth ? (\n                  <ResponsiveText key={lineIndex} {...lineTextProps} maxWidth={maxLabelsWidth} />\n                ) : (\n                  <text key={lineIndex} {...lineTextProps} />\n                );\n              })}\n            </g>\n          )\n      )}\n\n      <text ref={virtualTextRef} x={0} y={0} style={{ visibility: 'hidden' }} aria-hidden=\"true\"></text>\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { ChartDataTypes } from './interfaces';\nimport { ChartScale, NumericChartScale } from './scales';\nimport { TICK_LENGTH, TICK_LINE_HEIGHT, TICK_MARGIN } from './constants';\n\nimport styles from './styles.css.js';\nimport { formatTicks, getVisibleTicks, FormattedTick } from './label-utils';\nimport { useInternalI18n } from '../../../i18n/context';\n\ninterface BlockEndLabelsProps {\n  axis?: 'x' | 'y';\n  width: number;\n  height: number;\n  scale: ChartScale | NumericChartScale;\n  title?: string;\n  ariaRoleDescription?: string;\n  offsetLeft?: number;\n  offsetRight?: number;\n  virtualTextRef: React.Ref<SVGTextElement>;\n  formattedTicks: readonly FormattedTick[];\n}\n\nexport function useBLockEndLabels({\n  ticks,\n  scale,\n  tickFormatter,\n}: {\n  scale: ChartScale | NumericChartScale;\n  ticks: readonly ChartDataTypes[];\n  tickFormatter?: (value: ChartDataTypes) => string;\n}) {\n  const virtualTextRef = useRef<SVGTextElement>(null);\n\n  const cacheRef = useRef<{ [label: string]: number }>({});\n  const getLabelSpace = (label: string) => {\n    if (cacheRef.current[label] !== undefined && cacheRef.current[label] !== 0) {\n      return cacheRef.current[label];\n    }\n    if (virtualTextRef.current && virtualTextRef.current.getComputedTextLength) {\n      virtualTextRef.current.textContent = label;\n      cacheRef.current[label] = virtualTextRef.current.getComputedTextLength();\n      return cacheRef.current[label];\n    }\n    return 0;\n  };\n\n  const formattedTicks = formatTicks({ ticks, scale, getLabelSpace, tickFormatter });\n\n  if (virtualTextRef.current) {\n    virtualTextRef.current.textContent = '';\n  }\n\n  let height = TICK_LENGTH + TICK_MARGIN;\n  for (const { lines } of formattedTicks) {\n    height = Math.max(height, TICK_LENGTH + TICK_MARGIN + lines.length * TICK_LINE_HEIGHT);\n  }\n\n  return { virtualTextRef, formattedTicks, height };\n}\n\nexport default memo(BlockEndLabels) as typeof BlockEndLabels;\n\n// Renders the visible tick labels on the bottom axis, as well as their grid lines.\nfunction BlockEndLabels({\n  axis = 'x',\n  width,\n  height,\n  scale,\n  title,\n  ariaRoleDescription,\n  offsetLeft = 0,\n  offsetRight = 0,\n  virtualTextRef,\n  formattedTicks,\n}: BlockEndLabelsProps) {\n  const i18n = useInternalI18n('[charts]');\n\n  const xOffset = scale.isCategorical() && axis === 'x' ? Math.max(0, scale.d3Scale.bandwidth() - 1) / 2 : 0;\n\n  const from = 0 - offsetLeft - xOffset;\n  const until = width + offsetRight - xOffset;\n  const balanceLabels = axis === 'x' && scale.scaleType !== 'log';\n  const visibleTicks = getVisibleTicks(formattedTicks, from, until, balanceLabels);\n\n  return (\n    <g\n      transform={`translate(0,${height})`}\n      className={styles['labels-block-end']}\n      aria-label={title}\n      role=\"list\"\n      aria-roledescription={i18n('i18nStrings.chartAriaRoleDescription', ariaRoleDescription)}\n      aria-hidden={true}\n    >\n      {visibleTicks.map(\n        ({ position, lines }, index) =>\n          isFinite(position) && (\n            <g\n              key={index}\n              transform={`translate(${position + xOffset},0)`}\n              className={clsx(styles.ticks, styles['ticks--bottom'], {\n                [styles['ticks--x']]: axis === 'x',\n                [styles['ticks--y']]: axis === 'y',\n              })}\n              role=\"listitem\"\n              aria-label={lines.join('\\n')}\n            >\n              <line className={styles.ticks__line} x1={0} x2={0} y1={0} y2={TICK_LENGTH} aria-hidden=\"true\" />\n              {lines.map((line, lineIndex) => (\n                <text\n                  className={styles.ticks__text}\n                  key={lineIndex}\n                  x={0}\n                  y={TICK_LENGTH + TICK_MARGIN + lineIndex * TICK_LINE_HEIGHT}\n                >\n                  {line}\n                </text>\n              ))}\n            </g>\n          )\n      )}\n\n      <text ref={virtualTextRef} x={0} y={0} style={{ visibility: 'hidden' }} aria-hidden=\"true\"></text>\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\nimport clsx from 'clsx';\n\nimport { NumericChartScale } from './scales';\nimport { TICK_MARGIN, TICK_LENGTH } from './constants';\n\nimport styles from './styles.css.js';\n\ninterface EmphasizedBaselineProps {\n  axis?: 'x' | 'y';\n  width: number;\n  height: number;\n  scale: NumericChartScale;\n}\n\nexport default memo(EmphasizedBaseline) as typeof EmphasizedBaseline;\n\nfunction EmphasizedBaseline({ axis = 'x', width, height, scale }: EmphasizedBaselineProps) {\n  // Y position of the zero baseline, if it exists\n  const baselineY = scale.d3Scale(0) ?? NaN;\n  const showYBaseline = axis === 'x' && isFinite(baselineY) && baselineY <= height;\n\n  if (showYBaseline) {\n    return (\n      <line\n        className={clsx(styles.axis, styles['axis--emphasized'])}\n        x1={-TICK_MARGIN}\n        x2={width}\n        y1={baselineY}\n        y2={baselineY}\n        aria-hidden=\"true\"\n      />\n    );\n  }\n\n  if (axis === 'y') {\n    return (\n      <line\n        className={clsx(styles.axis, styles['axis--emphasized'])}\n        x1={0}\n        y1={0}\n        x2={0}\n        y2={height + TICK_LENGTH}\n        aria-hidden=\"true\"\n      />\n    );\n  }\n\n  return null;\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\nimport { line, area } from 'd3-shape';\nimport { ChartModel } from '../model';\n\nexport interface AreaSeriesProps<T> {\n  data: readonly ChartModel.PlotPoint<T>[];\n  color: string;\n  chartAreaClipPath: string;\n}\n\nexport default memo(AreaSeries) as typeof AreaSeries;\n\nfunction AreaSeries<T>({ data, color, chartAreaClipPath }: AreaSeriesProps<T>) {\n  const areaGenerator = area<ChartModel.PlotPoint<T>>()\n    .x((p: ChartModel.PlotPoint<T>) => p.scaled.x)\n    .y0((p: ChartModel.PlotPoint<T>) => p.scaled.y0)\n    .y1((p: ChartModel.PlotPoint<T>) => p.scaled.y1);\n  const areaPath = areaGenerator(data as ChartModel.PlotPoint<T>[]) || '';\n\n  const lineGenerator = line<ChartModel.PlotPoint<T>>()\n    .x((p: ChartModel.PlotPoint<T>) => p.scaled.x)\n    .y((p: ChartModel.PlotPoint<T>) => p.scaled.y1);\n  const linePath = lineGenerator(data as ChartModel.PlotPoint<T>[]) || '';\n\n  return (\n    <>\n      <path\n        aria-hidden={true}\n        fill={color}\n        stroke={color}\n        style={{ opacity: 0.4 }}\n        clipPath={`url(#${chartAreaClipPath})`}\n        d={areaPath}\n      />\n      <path aria-hidden={true} stroke={color} clipPath={`url(#${chartAreaClipPath})`} d={linePath} />\n    </>\n  );\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\nimport { ChartScale } from '../../internal/components/cartesian-chart/scales';\nimport { ChartModel } from '../model';\n\nexport interface ThresholdSeriesProps<T> {\n  data: readonly ChartModel.PlotPoint<T>[];\n  xScale: ChartScale;\n  color: string;\n  chartAreaClipPath: string;\n}\n\nexport default memo(ThresholdSeries) as typeof ThresholdSeries;\n\nfunction ThresholdSeries<T>({ data, xScale, color, chartAreaClipPath }: ThresholdSeriesProps<T>) {\n  const range = xScale.d3Scale.range();\n  const y = data[0].scaled.y0;\n  const path = { x1: range[0], x2: range[1], y1: y, y2: y };\n\n  return <line aria-hidden={true} stroke={color} clipPath={`url(#${chartAreaClipPath})`} {...path} />;\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"series\": \"awsui_series_y1yrh_mrtbw_97\",\n  \"root\": \"awsui_root_y1yrh_mrtbw_115\",\n  \"series--highlighted\": \"awsui_series--highlighted_y1yrh_mrtbw_127\",\n  \"series--dimmed\": \"awsui_series--dimmed_y1yrh_mrtbw_131\",\n  \"series--threshold\": \"awsui_series--threshold_y1yrh_mrtbw_135\",\n  \"popover-divider\": \"awsui_popover-divider_y1yrh_mrtbw_140\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\nimport clsx from 'clsx';\n\nimport { useUniqueId } from '../../internal/hooks/use-unique-id';\nimport AreaSeries from './area-series';\nimport ThresholdSeries from './threshold-series';\nimport { AreaChartProps } from '../interfaces';\nimport { ChartModel } from '../model';\n\nimport styles from '../styles.css.js';\nimport { useSelector } from '../async-store';\n\nexport default memo(DataSeries) as typeof DataSeries;\n\nfunction DataSeries<T extends AreaChartProps.DataTypes>({ model }: { model: ChartModel<T> }) {\n  const chartAreaClipPath = useUniqueId('awsui-area-chart__chart-area-');\n\n  const highlightedX = useSelector(model.interactions, state => state.highlightedX);\n  const highlightedSeries = useSelector(model.interactions, state => state.highlightedSeries);\n  const useHighlightDimmed = !highlightedX;\n\n  // Iterating series in the reversed order so that SVG paths overlap correctly.\n  const seriesData: [AreaChartProps.Series<T>, ChartModel.PlotPoint<T>[]][] = [];\n  for (let seriesIndex = model.series.length - 1; seriesIndex >= 0; seriesIndex--) {\n    if (model.computed.plot.sx[seriesIndex]) {\n      seriesData.push([model.series[seriesIndex], model.computed.plot.sx[seriesIndex] || []]);\n    }\n  }\n\n  return (\n    <>\n      <defs aria-hidden=\"true\">\n        <clipPath id={chartAreaClipPath}>\n          <rect x={0} y={0} width={model.width} height={model.height} />\n        </clipPath>\n      </defs>\n      <g role=\"group\">\n        {seriesData.map(([series, data]) => {\n          const isHighlighted = series === highlightedSeries;\n          const isDimmed = !!highlightedSeries && !isHighlighted;\n\n          return (\n            <g\n              key={series.title}\n              role=\"group\"\n              aria-label={series.title}\n              className={clsx(styles.series, styles[`series--${series.type}`], {\n                [styles['series--highlighted']]: isHighlighted,\n                [styles['series--dimmed']]: useHighlightDimmed && isDimmed,\n              })}\n            >\n              {series.type === 'area' ? (\n                <AreaSeries\n                  data={data}\n                  color={model.getInternalSeries(series).color}\n                  chartAreaClipPath={chartAreaClipPath}\n                />\n              ) : (\n                <ThresholdSeries\n                  data={data}\n                  xScale={model.computed.xScale}\n                  color={model.getInternalSeries(series).color}\n                  chartAreaClipPath={chartAreaClipPath}\n                />\n              )}\n            </g>\n          );\n        })}\n      </g>\n    </>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport ChartPopover from '../../internal/components/chart-popover';\nimport ChartSeriesDetails from '../../internal/components/chart-series-details';\n\nimport { AreaChartProps } from '../interfaces';\nimport { ChartModel } from '../model';\nimport styles from '../styles.css.js';\nimport { HighlightDetails } from './use-highlight-details';\nimport ChartPopoverFooter from '../../internal/components/chart-popover-footer';\n\nexport default function AreaChartPopover<T extends AreaChartProps.DataTypes>({\n  model,\n  highlightDetails,\n  dismissAriaLabel,\n  footer,\n  size,\n  onBlur,\n}: {\n  model: ChartModel<T>;\n  highlightDetails: null | HighlightDetails;\n  dismissAriaLabel?: string;\n  footer?: React.ReactNode;\n  size?: 'small' | 'medium' | 'large';\n  onBlur?: (event: React.FocusEvent) => void;\n}) {\n  if (!highlightDetails) {\n    return null;\n  }\n\n  const popoverProps = {\n    title: highlightDetails.formattedX,\n    trackRef: model.refs.verticalMarker,\n    trackKey: highlightDetails.highlightIndex,\n    dismissButton: highlightDetails.isPopoverPinned,\n    onDismiss: model.handlers.onPopoverDismiss,\n    onMouseLeave: model.handlers.onPopoverLeave,\n    ref: model.refs.popoverRef,\n  };\n\n  return (\n    <ChartPopover\n      {...popoverProps}\n      container={model.refs.container.current}\n      dismissAriaLabel={dismissAriaLabel}\n      size={size}\n      onBlur={onBlur}\n    >\n      <ChartSeriesDetails details={highlightDetails.seriesDetails} />\n      <div className={styles['popover-divider']} />\n      <ChartSeriesDetails details={highlightDetails.totalDetails} />\n      {footer && <ChartPopoverFooter>{footer}</ChartPopoverFooter>}\n    </ChartPopover>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, memo } from 'react';\n\nimport styles from './styles.css.js';\n\ninterface SeriesPoint {\n  key: string;\n  x: number;\n  y: number;\n  color: string;\n}\n\nexport interface HighlightedPointProps {\n  point: null | SeriesPoint;\n  role?: 'group' | 'button';\n  ariaLabel?: string;\n  ariaHasPopup?: boolean;\n  ariaExpanded?: boolean;\n}\n\nexport default memo(forwardRef(HighlightedPoint));\n\nfunction HighlightedPoint(\n  { point, role = 'group', ariaLabel, ariaHasPopup, ariaExpanded }: HighlightedPointProps,\n  ref: React.Ref<SVGGElement>\n) {\n  if (!point) {\n    return null;\n  }\n\n  return (\n    <g ref={ref} role={role} aria-label={ariaLabel} aria-haspopup={ariaHasPopup} aria-expanded={ariaExpanded}>\n      <circle\n        key={point.key}\n        aria-hidden=\"true\"\n        className={styles['vertical-marker-circle-active']}\n        cx={point.x}\n        cy={point.y}\n        r={4}\n        stroke={point.color}\n        fill={point.color}\n      />\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, memo } from 'react';\n\nimport HighlightedPoint from '../../internal/components/cartesian-chart/highlighted-point';\n\nimport { ChartModel } from '../model';\nimport { useSelector } from '../async-store';\n\nexport default memo(forwardRef(AreaHighlightedPoint));\n\nfunction AreaHighlightedPoint(\n  {\n    model,\n    ariaLabel,\n  }: {\n    model: ChartModel<any>;\n    ariaLabel?: string;\n  },\n  ref: React.Ref<SVGGElement>\n) {\n  const highlightedPoint = useSelector(model.interactions, state => state.highlightedPoint);\n  const isPopoverPinned = useSelector(model.interactions, state => state.isPopoverPinned);\n\n  const point = highlightedPoint\n    ? {\n        key: `${highlightedPoint.index.x}:${highlightedPoint.index.s}`,\n        x: highlightedPoint.scaled.x,\n        y: highlightedPoint.scaled.y1,\n        color: model.getInternalSeries(model.series[highlightedPoint.index.s]).color,\n      }\n    : null;\n\n  return (\n    <HighlightedPoint\n      ref={ref}\n      point={point}\n      role=\"button\"\n      ariaLabel={ariaLabel}\n      ariaHasPopup={true}\n      ariaExpanded={isPopoverPinned}\n    />\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, memo } from 'react';\n\nimport styles from './styles.css.js';\n\ninterface SeriesPoint {\n  key: string;\n  x: number;\n  y: number;\n  color: string;\n}\n\nexport interface VerticalMarkerProps {\n  height: number;\n  showPoints?: boolean;\n  showLine?: boolean;\n  points: null | readonly SeriesPoint[];\n}\n\nexport default memo(forwardRef(VerticalMarker));\n\nfunction VerticalMarker(\n  { height, showPoints = true, showLine = true, points }: VerticalMarkerProps,\n  ref: React.Ref<SVGLineElement>\n) {\n  const [firstPoint] = points || [];\n\n  return (\n    <g>\n      <line\n        ref={ref}\n        aria-hidden=\"true\"\n        className={styles['vertical-marker']}\n        style={{ visibility: showLine && firstPoint ? 'visible' : 'hidden' }}\n        x1={firstPoint?.x}\n        x2={firstPoint?.x}\n        y1={0}\n        y2={height}\n      />\n\n      {showPoints &&\n        points &&\n        points.map(point => (\n          <circle\n            key={point.key}\n            aria-hidden=\"true\"\n            className={styles['vertical-marker-circle']}\n            cx={point.x}\n            cy={point.y}\n            r={4}\n            stroke={point.color}\n          />\n        ))}\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\n\nimport VerticalMarker from '../../internal/components/cartesian-chart/vertical-marker';\n\nimport { AreaChartProps } from '../interfaces';\nimport { ChartModel } from '../model';\nimport { useSelector } from '../async-store';\n\nexport default memo(AreaVerticalMarker) as typeof AreaVerticalMarker;\n\nfunction AreaVerticalMarker<T extends AreaChartProps.DataTypes>({ model }: { model: ChartModel<T> }) {\n  const highlightedX = useSelector(model.interactions, state => state.highlightedX);\n\n  const verticalMarker = (highlightedX || []).map(point => ({\n    key: `${point.index.x}:${point.index.s}`,\n    x: point.scaled.x,\n    y: point.scaled.y1,\n    color: model.getInternalSeries(model.series[point.index.s]).color,\n  }));\n\n  return <VerticalMarker height={model.height} points={verticalMarker} ref={model.refs.verticalMarker} />;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { forwardRef } from 'react';\nimport styles from './styles.css.js';\nimport clsx from 'clsx';\n\ninterface CartesianChartContainerProps {\n  minHeight: number;\n  fitHeight: boolean;\n  leftAxisLabel: React.ReactNode;\n  leftAxisLabelMeasure: React.ReactNode;\n  bottomAxisLabel: React.ReactNode;\n  chartPlot: React.ReactNode;\n  popover: React.ReactNode;\n}\n\nconst CONTENT_MIN_HEIGHT_BOUNDARY = 40;\n\nexport const CartesianChartContainer = forwardRef(\n  (\n    {\n      minHeight,\n      fitHeight,\n      leftAxisLabel,\n      leftAxisLabelMeasure,\n      bottomAxisLabel,\n      chartPlot,\n      popover,\n    }: CartesianChartContainerProps,\n    ref: React.Ref<HTMLDivElement>\n  ) => {\n    if (fitHeight) {\n      return (\n        <div className={clsx(styles['chart-container'], styles['fit-height'])} ref={ref}>\n          {leftAxisLabel}\n\n          <div className={clsx(styles['chart-container-outer'], styles['fit-height'])}>\n            {leftAxisLabelMeasure}\n\n            <div className={styles['chart-container-inner']}>\n              <div\n                className={clsx(styles['chart-container-plot-wrapper'], styles['fit-height'])}\n                style={{ minHeight: Math.max(minHeight, CONTENT_MIN_HEIGHT_BOUNDARY) }}\n              >\n                <div className={clsx(styles['chart-container-plot'], styles['fit-height'])}>{chartPlot}</div>\n              </div>\n\n              <div className={clsx(styles['chart-container-bottom-labels'], styles['fit-height'])}>\n                {bottomAxisLabel}\n              </div>\n            </div>\n\n            {popover}\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className={styles['chart-container']} ref={ref}>\n        {leftAxisLabel}\n\n        <div className={styles['chart-container-outer']}>\n          {leftAxisLabelMeasure}\n\n          <div className={styles['chart-container-inner']}>\n            {chartPlot}\n            {bottomAxisLabel}\n          </div>\n\n          {popover}\n        </div>\n      </div>\n    );\n  }\n);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState, useEffect, memo, useRef, useMemo } from 'react';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\n\nimport ChartPlot from '../internal/components/chart-plot';\nimport AxisLabel from '../internal/components/cartesian-chart/axis-label';\nimport LabelsMeasure from '../internal/components/cartesian-chart/labels-measure';\nimport InlineStartLabels from '../internal/components/cartesian-chart/inline-start-labels';\nimport BlockEndLabels, { useBLockEndLabels } from '../internal/components/cartesian-chart/block-end-labels';\nimport EmphasizedBaseline from '../internal/components/cartesian-chart/emphasized-baseline';\nimport { AreaChartProps } from './interfaces';\nimport { ChartModel } from './model';\nimport AreaDataSeries from './elements/data-series';\nimport AreaChartPopover from './elements/chart-popover';\nimport AreaHighlightedPoint from './elements/highlighted-point';\nimport AreaVerticalMarker from './elements/vertical-marker';\n\nimport useHighlightDetails from './elements/use-highlight-details';\nimport useContainerWidth from '../internal/utils/use-container-width';\nimport { useSelector } from './async-store';\nimport { CartesianChartContainer } from '../internal/components/cartesian-chart/chart-container';\n\nconst DEFAULT_CHART_WIDTH = 500;\nconst INLINE_START_LABELS_MARGIN = 16;\nconst BLOCK_END_LABELS_OFFSET = 12;\n\ntype TickFormatter = undefined | ((value: AreaChartProps.DataTypes) => string);\n\ninterface ChartContainerProps<T extends AreaChartProps.DataTypes>\n  extends Pick<\n    AreaChartProps<T>,\n    | 'xTitle'\n    | 'yTitle'\n    | 'xTickFormatter'\n    | 'yTickFormatter'\n    | 'detailTotalFormatter'\n    | 'detailPopoverSize'\n    | 'detailPopoverFooter'\n    | 'ariaLabel'\n    | 'ariaLabelledby'\n    | 'ariaDescription'\n    | 'i18nStrings'\n  > {\n  model: ChartModel<T>;\n  autoWidth: (value: number) => void;\n  fitHeight?: boolean;\n  minHeight: number;\n}\n\nexport default memo(ChartContainer) as typeof ChartContainer;\n\nfunction ChartContainer<T extends AreaChartProps.DataTypes>({\n  model,\n  autoWidth,\n  xTitle,\n  yTitle,\n  detailPopoverSize,\n  detailPopoverFooter,\n  ariaLabel,\n  ariaLabelledby,\n  ariaDescription,\n  i18nStrings: {\n    xTickFormatter: deprecatedXTickFormatter,\n    yTickFormatter: deprecatedYTickFormatter,\n    detailTotalFormatter: deprecatedDetailTotalFormatter,\n    detailTotalLabel,\n    chartAriaRoleDescription,\n    xAxisAriaRoleDescription,\n    yAxisAriaRoleDescription,\n    detailPopoverDismissAriaLabel,\n  } = {},\n  fitHeight,\n  minHeight,\n  xTickFormatter = deprecatedXTickFormatter,\n  yTickFormatter = deprecatedYTickFormatter,\n  detailTotalFormatter = deprecatedDetailTotalFormatter,\n}: ChartContainerProps<T>) {\n  const [inlineStartLabelsWidth, setInlineStartLabelsWidth] = useState(0);\n  const [containerWidth, containerWidthRef] = useContainerWidth(DEFAULT_CHART_WIDTH);\n  const maxInlineStartLabelsWidth = Math.round(containerWidth / 2);\n\n  const blockEndLabelsProps = useBLockEndLabels({\n    ticks: model.computed.xTicks,\n    scale: model.computed.xScale,\n    tickFormatter: xTickFormatter as TickFormatter,\n  });\n\n  // Calculate the width of the plot area and tell it to the parent.\n  const plotWidth = Math.max(0, containerWidth - inlineStartLabelsWidth - INLINE_START_LABELS_MARGIN);\n  useEffect(() => {\n    autoWidth(plotWidth);\n  }, [autoWidth, plotWidth]);\n\n  const highlightDetails = useHighlightDetails({\n    model,\n    xTickFormatter,\n    yTickFormatter,\n    detailTotalFormatter,\n    detailTotalLabel,\n  });\n\n  const highlightedPointRef = useRef<SVGGElement>(null);\n\n  const mergedRef = useMergeRefs(containerWidthRef, model.refs.container);\n\n  const isPointHighlighted = model.interactions.get().highlightedPoint !== null;\n\n  const highlightedX = useSelector(model.interactions, state => state.highlightedX);\n\n  const detailPopoverFooterContent = useMemo(\n    () => (detailPopoverFooter && highlightedX ? detailPopoverFooter(highlightedX[0].x) : null),\n    [detailPopoverFooter, highlightedX]\n  );\n\n  return (\n    <CartesianChartContainer\n      ref={mergedRef}\n      minHeight={minHeight + blockEndLabelsProps.height}\n      fitHeight={!!fitHeight}\n      leftAxisLabel={<AxisLabel axis=\"y\" position=\"left\" title={yTitle} />}\n      leftAxisLabelMeasure={\n        <LabelsMeasure\n          scale={model.computed.yScale}\n          ticks={model.computed.yTicks}\n          tickFormatter={yTickFormatter as TickFormatter}\n          autoWidth={setInlineStartLabelsWidth}\n          maxLabelsWidth={maxInlineStartLabelsWidth}\n        />\n      }\n      bottomAxisLabel={<AxisLabel axis=\"x\" position=\"bottom\" title={xTitle} />}\n      chartPlot={\n        <ChartPlot\n          ref={model.refs.plot}\n          width=\"100%\"\n          height={fitHeight ? `calc(100% - ${blockEndLabelsProps.height}px)` : model.height}\n          offsetBottom={blockEndLabelsProps.height}\n          ariaLabel={ariaLabel}\n          ariaLabelledby={ariaLabelledby}\n          ariaDescription={ariaDescription}\n          ariaRoleDescription={chartAriaRoleDescription}\n          activeElementKey={!highlightDetails?.isPopoverPinned && highlightDetails?.activeLabel}\n          activeElementRef={isPointHighlighted ? highlightedPointRef : model.refs.verticalMarker}\n          activeElementFocusOffset={isPointHighlighted ? 3 : { x: 8, y: 0 }}\n          isClickable={!highlightDetails?.isPopoverPinned}\n          onMouseMove={model.handlers.onSVGMouseMove}\n          onMouseOut={model.handlers.onSVGMouseOut}\n          onClick={model.handlers.onSVGMouseDown}\n          onKeyDown={model.handlers.onSVGKeyDown}\n          onApplicationFocus={model.handlers.onApplicationFocus}\n          onApplicationBlur={model.handlers.onApplicationBlur}\n        >\n          <line\n            ref={model.refs.plotMeasure}\n            x1=\"0\"\n            x2=\"0\"\n            y1=\"0\"\n            y2=\"100%\"\n            stroke=\"transparent\"\n            strokeWidth={1}\n            style={{ pointerEvents: 'none' }}\n          />\n\n          <InlineStartLabels\n            plotWidth={model.width}\n            plotHeight={model.height}\n            scale={model.computed.yScale}\n            ticks={model.computed.yTicks}\n            tickFormatter={yTickFormatter}\n            title={yTitle}\n            ariaRoleDescription={yAxisAriaRoleDescription}\n            maxLabelsWidth={maxInlineStartLabelsWidth}\n          />\n\n          <AreaDataSeries model={model} />\n\n          <BlockEndLabels\n            {...blockEndLabelsProps}\n            width={model.width}\n            height={model.height}\n            scale={model.computed.xScale}\n            title={xTitle}\n            ariaRoleDescription={xAxisAriaRoleDescription}\n            offsetLeft={inlineStartLabelsWidth + BLOCK_END_LABELS_OFFSET}\n            offsetRight={BLOCK_END_LABELS_OFFSET}\n          />\n\n          <EmphasizedBaseline width={model.width} height={model.height} scale={model.computed.yScale} />\n\n          <AreaVerticalMarker model={model} />\n\n          <AreaHighlightedPoint ref={highlightedPointRef} model={model} ariaLabel={highlightDetails?.activeLabel} />\n        </ChartPlot>\n      }\n      popover={\n        <AreaChartPopover\n          model={model}\n          highlightDetails={highlightDetails}\n          dismissAriaLabel={detailPopoverDismissAriaLabel}\n          size={detailPopoverSize}\n          footer={detailPopoverFooterContent}\n          onBlur={model.handlers.onApplicationBlur}\n        />\n      }\n    />\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useSelector } from '../async-store';\nimport { CartesianChartProps } from '../../internal/components/cartesian-chart/interfaces';\nimport { ChartSeriesDetailItem } from '../../internal/components/chart-series-details';\nimport { useInternalI18n } from '../../i18n/context';\nimport { AreaChartProps } from '../interfaces';\nimport { ChartModel } from '../model';\n\nexport interface HighlightDetails {\n  isPopoverPinned: boolean;\n  highlightIndex: number;\n  formattedX: string;\n  seriesTitle: string;\n  formattedY: number | string;\n  seriesDetails: readonly ChartSeriesDetailItem[];\n  totalDetails: readonly ChartSeriesDetailItem[];\n  pointDetails: null | ChartSeriesDetailItem;\n  activeLabel: string;\n}\n\nexport default function useHighlightDetails<T extends AreaChartProps.DataTypes>({\n  model,\n  xTickFormatter,\n  yTickFormatter,\n  detailTotalFormatter,\n  detailTotalLabel,\n}: {\n  model: ChartModel<T>;\n  xTickFormatter?: CartesianChartProps.TickFormatter<T>;\n  yTickFormatter?: CartesianChartProps.TickFormatter<number>;\n  detailTotalFormatter?: CartesianChartProps.TickFormatter<number>;\n  detailTotalLabel?: string;\n}): null | HighlightDetails {\n  const i18n = useInternalI18n('area-chart');\n  const hX = useSelector(model.interactions, state => state.highlightedX);\n  const hPoint = useSelector(model.interactions, state => state.highlightedPoint);\n  const isPopoverPinned = useSelector(model.interactions, state => state.isPopoverPinned);\n\n  if (!hX) {\n    return null;\n  }\n\n  const [firstPoint] = hX;\n  const highlightIndex = firstPoint.index.x;\n  const seriesPoints = [...model.computed.plot.xs[highlightIndex]];\n  const detailsTotal = seriesPoints.reduce((total, point) => total + point.value, 0);\n  const formattedX = xTickFormatter ? xTickFormatter(firstPoint.x) : firstPoint.x.toString();\n  const seriesTitle = hPoint ? getInternalSeries(hPoint).title : '';\n  const formattedY = hPoint ? getInternalSeries(hPoint).formatValue(hPoint.value, hPoint.x) : '';\n  const seriesDetails = seriesPoints.map(point => {\n    const { title, formatValue, color, markerType } = getInternalSeries(point);\n    const isDimmed = Boolean(hPoint) && point !== hPoint;\n    return { key: title, value: formatValue(point.value, point.x), color, markerType, isDimmed };\n  });\n  const totalDetails = [\n    {\n      key: i18n('i18nStrings.detailTotalLabel', detailTotalLabel) || '',\n      value: detailTotalFormatter\n        ? detailTotalFormatter(detailsTotal)\n        : yTickFormatter\n          ? yTickFormatter(detailsTotal)\n          : detailsTotal,\n    },\n  ];\n  const pointDetails = hPoint ? seriesDetails[hPoint.index.s] : null;\n  const activeLabel = `${seriesTitle} ${formattedX} ${formattedY}, ${totalDetails[0].key} ${totalDetails[0].value}`;\n\n  return {\n    isPopoverPinned,\n    highlightIndex,\n    formattedX,\n    seriesTitle,\n    formattedY,\n    activeLabel,\n    seriesDetails,\n    totalDetails,\n    pointDetails,\n  };\n\n  function getInternalSeries(point: ChartModel.PlotPoint<T>) {\n    return model.getInternalSeries(model.series[point.index.s]);\n  }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AreaChartProps } from '../interfaces';\nimport { ChartScale, NumericChartScale } from '../../internal/components/cartesian-chart/scales';\nimport { ChartDataTypes, XDomain, YDomain, YScaleType } from '../../internal/components/cartesian-chart/interfaces';\nimport { ChartModel } from './index';\n\n// A sufficiently small value.\n// The Number.EPSILON is not available in the target ECMA version.\n// See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/EPSILON\nconst EPSILON = 0.0000000000001;\n\n// When x-domain is not set explicitly - guess it based on the available data.\nexport function computeDomainX<T extends ChartDataTypes>(series: readonly AreaChartProps.Series<T>[]): XDomain<T> {\n  const xValues = getXValues(series);\n\n  if (xValues.length === 0) {\n    return [] as unknown as XDomain<T>;\n  }\n\n  // Assuming categorical domain.\n  // In that case, all values are to be included.\n  if (typeof xValues[0] === 'string') {\n    return uniq(xValues) as unknown as XDomain<T>;\n  }\n\n  // For non-categorical domain find min and max bounds.\n  return xValues.reduce(\n    ([min, max], x) => [x < min ? x : min, max < x ? x : max],\n    [xValues[0], xValues[0]]\n  ) as unknown as XDomain<T>;\n}\n\n// When y-domain is not set explicitly - guess it based on the available data and series.\nexport function computeDomainY<T>(series: readonly AreaChartProps.Series<T>[], scaleType: YScaleType): YDomain {\n  let min = Number.POSITIVE_INFINITY;\n  let max = Number.NEGATIVE_INFINITY;\n\n  // Find the min and max for threshold series.\n  series.forEach(s => {\n    if (s.type === 'threshold') {\n      min = Math.min(min, s.y);\n      max = Math.max(max, s.y);\n    }\n  });\n\n  // Find the min and max for area series considering their stacking.\n  getXValues(series).forEach((_, xIndex) => {\n    // Maintains the prev stack level.\n    let stackY = scaleType === 'linear' ? 0 : EPSILON;\n\n    for (const s of series) {\n      if (s.type === 'area') {\n        stackY = stackY + (s.data[xIndex]?.y || 0);\n        min = Math.min(min, stackY);\n        max = Math.max(max, stackY);\n      }\n    }\n  });\n\n  // If min/max is not overridden than either series or series data is empty.\n  if (min === Number.POSITIVE_INFINITY) {\n    return [];\n  }\n\n  // Log scales can't start from 0, so, if possible, start from 1.\n  if (scaleType === 'log' && min === 0 && max > 1) {\n    return [1, max];\n  }\n\n  return [min, max];\n}\n\n// For given data, series and scales, compute all points and group them as\n// x:y, x:series and series:x to allow constant time access to the required point or subset.\nexport function computePlotPoints<T>(\n  series: readonly AreaChartProps.Series<T>[],\n  xScale: ChartScale,\n  yScale: NumericChartScale\n): {\n  xy: ChartModel.PlotPoint<T>[][];\n  xs: ChartModel.PlotPoint<T>[][];\n  sx: ChartModel.PlotPoint<T>[][];\n} {\n  const xValues = getXValues(series);\n\n  // Lookup for xy[xIndex][yIndex]\n  const xy: ChartModel.PlotPoint<T>[][] = [];\n  // Lookup for xs[xIndex][seriesIndex]\n  const xs: ChartModel.PlotPoint<T>[][] = [];\n  // Lookup for sx[seriesIndex][xIndex]\n  const sx: ChartModel.PlotPoint<T>[][] = [];\n\n  // Filter out the data which is beyond the plot for whatever reason.\n  getVisibleData(xValues, xScale).forEach(({ x, scaledX }, xIndex) => {\n    // Maintains the prev stack level. Starting from epsilon to not break log scales.\n    let stackY = yScale.scaleType === 'linear' ? 0 : EPSILON;\n\n    // A column of series points related to the same x.\n    const points: ChartModel.PlotPoint<T>[] = [];\n\n    // Collect the points, leaving y-index as 0 for now.\n    series.forEach((s, sIndex) => {\n      if (s.type === 'threshold') {\n        const scaledY = yScale.d3Scale(s.y) || 0;\n        points.push({\n          x: x,\n          y0: s.y,\n          y1: s.y,\n          scaled: { x: scaledX, y0: scaledY, y1: scaledY },\n          index: { x: xIndex, s: sIndex, y: 0 },\n          value: 0,\n        });\n      } else {\n        const value = s.data[xIndex]?.y || 0;\n        const y0 = stackY;\n        const y1 = stackY + value;\n        points.push({\n          x: x,\n          y0: y0,\n          y1: y1,\n          scaled: { x: scaledX, y0: yScale.d3Scale(y0) || 0, y1: yScale.d3Scale(y1) || 0 },\n          index: { x: xIndex, s: sIndex, y: 0 },\n          value: value,\n        });\n\n        stackY = y1;\n      }\n    });\n\n    // Sort points by y and insert the missing y-index.\n    points\n      .sort((p1, p2) => p1.y1 - p2.y1)\n      .forEach((point, index) => {\n        point.index.y = index;\n\n        // Insert the points to the respective two-dimensional lookup arrays.\n        insertIntoMatrix(xy, point.index.x, point.index.y, point);\n        insertIntoMatrix(xs, point.index.x, point.index.s, point);\n        insertIntoMatrix(sx, point.index.s, point.index.x, point);\n      });\n  });\n\n  return { xy, xs, sx };\n}\n\n// Finds the closest point in the sorted array.\nexport function findClosest<T>(sortedArray: readonly T[], target: number, getter: (item: T) => number): T {\n  // The method guarantees to return a point hence empty arrays are not allowed.\n  if (sortedArray.length === 0) {\n    throw new Error('Invariant violation: array is empty.');\n  }\n\n  const isAscending = getter(sortedArray[0]) < getter(sortedArray[sortedArray.length - 1]);\n  const compare = (x: T) => (isAscending ? getter(x) < target : getter(x) > target);\n  const delta = (x: T) => Math.abs(getter(x) - target);\n\n  // Use binary search to find the closest value in a sorted array.\n  let lo = 0;\n  let hi = sortedArray.length - 1;\n  while (hi - lo > 1) {\n    const mid = Math.floor((lo + hi) / 2);\n    if (compare(sortedArray[mid])) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n  return delta(sortedArray[lo]) < delta(sortedArray[hi]) ? sortedArray[lo] : sortedArray[hi];\n}\n\n// Returns given index if it is in range or the opposite range boundary otherwise.\nexport function circleIndex(index: number, [from, to]: [number, number]): number {\n  if (index < from) {\n    return to;\n  }\n  if (index > to) {\n    return from;\n  }\n  return index;\n}\n\n// Compares all x-values between series to ensure they are consistent.\nexport function isSeriesValid<T>(series: readonly AreaChartProps.Series<T>[]) {\n  const sampleXValues = getXValues(series);\n\n  for (const s of series) {\n    if (s.type === 'area') {\n      for (let i = 0; i < Math.max(s.data.length, sampleXValues.length); i++) {\n        if (s.data[i]?.x !== sampleXValues[i]) {\n          return false;\n        }\n      }\n    }\n  }\n\n  return true;\n}\n\n// Takes first area series x-values as all data x-values are to match across series.\nfunction getXValues<T>(series: readonly AreaChartProps.Series<T>[]) {\n  for (const s of series) {\n    if (s.type === 'area') {\n      return s.data.map(({ x }) => x);\n    }\n  }\n\n  return [];\n}\n\n// Returns data that is visible in the given scale.\nfunction getVisibleData<T>(data: readonly T[], xScale: ChartScale) {\n  const scaledOffsetX = xScale.isCategorical() ? Math.max(0, xScale.d3Scale.bandwidth() - 1) / 2 : 0;\n\n  const visibleData = [];\n  for (const x of data) {\n    const scaledX = xScale.d3Scale(x as any);\n\n    if (scaledX !== undefined) {\n      visibleData.push({ x, scaledX: scaledX + scaledOffsetX });\n    }\n  }\n  return visibleData;\n}\n\n// Inserts given value into a two-dimensional array.\nfunction insertIntoMatrix<T>(matrix: T[][], row: number, col: number, value: T) {\n  if (!matrix[row]) {\n    matrix[row] = [];\n  }\n  matrix[row][col] = value;\n}\n\n// Creates new array with only unique elements of the given array.\nfunction uniq<T>(arr: readonly T[]): readonly T[] {\n  const set = new Set();\n  const uniqArray: T[] = [];\n\n  for (const value of arr) {\n    if (!set.has(value)) {\n      set.add(value);\n      uniqArray.push(value);\n    }\n  }\n\n  return uniqArray;\n}\n","/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport default function getTimezoneOffsetInMilliseconds(date) {\n  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n}","import getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport startOfDay from \"../startOfDay/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_DAY = 86400000;\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar days\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport default function differenceInCalendarDays(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var startOfDayLeft = startOfDay(dirtyDateLeft);\n  var startOfDayRight = startOfDay(dirtyDateRight);\n  var timestampLeft = startOfDayLeft.getTime() - getTimezoneOffsetInMilliseconds(startOfDayLeft);\n  var timestampRight = startOfDayRight.getTime() - getTimezoneOffsetInMilliseconds(startOfDayRight);\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a day is not constant\n  // (e.g. it's different in the day of the daylight saving time clock shift)\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY);\n}","import toDate from \"../toDate/index.js\";\nimport differenceInCalendarDays from \"../differenceInCalendarDays/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\"; // Like `compareAsc` but uses local time not UTC, which is needed\n// for accurate equality comparisons of UTC timestamps that end up\n// having the same representation in local time, e.g. one hour before\n// DST ends vs. the instant that DST ends.\nfunction compareLocalAsc(dateLeft, dateRight) {\n  var diff = dateLeft.getFullYear() - dateRight.getFullYear() || dateLeft.getMonth() - dateRight.getMonth() || dateLeft.getDate() - dateRight.getDate() || dateLeft.getHours() - dateRight.getHours() || dateLeft.getMinutes() - dateRight.getMinutes() || dateLeft.getSeconds() - dateRight.getSeconds() || dateLeft.getMilliseconds() - dateRight.getMilliseconds();\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1;\n    // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}\n\n/**\n * @name differenceInDays\n * @category Day Helpers\n * @summary Get the number of full days between the given dates.\n *\n * @description\n * Get the number of full day periods between two dates. Fractional days are\n * truncated towards zero.\n *\n * One \"full day\" is the distance between a local time in one day to the same\n * local time on the next or previous day. A full day can sometimes be less than\n * or more than 24 hours if a daylight savings change happens between two dates.\n *\n * To ignore DST and only measure exact 24-hour periods, use this instead:\n * `Math.floor(differenceInHours(dateLeft, dateRight)/24)|0`.\n *\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of full days according to the local timezone\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 365\n * // How many full days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 0\n * // How many full days are between\n * // 1 March 2020 0:00 and 1 June 2020 0:00 ?\n * // Note: because local time is used, the\n * // result will always be 92 days, even in\n * // time zones where DST starts and the\n * // period has only 92*24-1 hours.\n * const result = differenceInDays(\n *   new Date(2020, 5, 1),\n *   new Date(2020, 2, 1)\n * )\n//=> 92\n */\nexport default function differenceInDays(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var sign = compareLocalAsc(dateLeft, dateRight);\n  var difference = Math.abs(differenceInCalendarDays(dateLeft, dateRight));\n  dateLeft.setDate(dateLeft.getDate() - sign * difference);\n\n  // Math.abs(diff in full days - diff in calendar days) === 1 if last calendar day is not full\n  // If so, result must be decreased by 1 in absolute value\n  var isLastDayNotFull = Number(compareLocalAsc(dateLeft, dateRight) === -sign);\n  var result = sign * (difference - isLastDayNotFull);\n  // Prevent negative zero\n  return result === 0 ? 0 : result;\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport addDays from \"../addDays/index.js\";\nimport addMonths from \"../addMonths/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n/**\n * @name add\n * @category Common Helpers\n * @summary Add the specified years, months, weeks, days, hours, minutes and seconds to the given date.\n *\n * @description\n * Add the specified years, months, weeks, days, hours, minutes and seconds to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Duration} duration - the object with years, months, weeks, days, hours, minutes and seconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n *\n * | Key            | Description                        |\n * |----------------|------------------------------------|\n * | years          | Amount of years to be added        |\n * | months         | Amount of months to be added       |\n * | weeks          | Amount of weeks to be added        |\n * | days           | Amount of days to be added         |\n * | hours          | Amount of hours to be added        |\n * | minutes        | Amount of minutes to be added      |\n * | seconds        | Amount of seconds to be added      |\n *\n * All values default to 0\n *\n * @returns {Date} the new date with the seconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add the following duration to 1 September 2014, 10:19:50\n * const result = add(new Date(2014, 8, 1, 10, 19, 50), {\n *   years: 2,\n *   months: 9,\n *   weeks: 1,\n *   days: 7,\n *   hours: 5,\n *   minutes: 9,\n *   seconds: 30,\n * })\n * //=> Thu Jun 15 2017 15:29:20\n */\nexport default function add(dirtyDate, duration) {\n  requiredArgs(2, arguments);\n  if (!duration || _typeof(duration) !== 'object') return new Date(NaN);\n  var years = duration.years ? toInteger(duration.years) : 0;\n  var months = duration.months ? toInteger(duration.months) : 0;\n  var weeks = duration.weeks ? toInteger(duration.weeks) : 0;\n  var days = duration.days ? toInteger(duration.days) : 0;\n  var hours = duration.hours ? toInteger(duration.hours) : 0;\n  var minutes = duration.minutes ? toInteger(duration.minutes) : 0;\n  var seconds = duration.seconds ? toInteger(duration.seconds) : 0;\n\n  // Add years and months\n  var date = toDate(dirtyDate);\n  var dateWithMonths = months || years ? addMonths(date, months + years * 12) : date;\n\n  // Add weeks and days\n  var dateWithDays = days || weeks ? addDays(dateWithMonths, days + weeks * 7) : dateWithMonths;\n\n  // Add days, hours, minutes and seconds\n  var minutesToAdd = minutes + hours * 60;\n  var secondsToAdd = seconds + minutesToAdd * 60;\n  var msToAdd = secondsToAdd * 1000;\n  var finalDate = new Date(dateWithDays.getTime() + msToAdd);\n  return finalDate;\n}","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ChartScale, NumericChartScale } from '../../components/cartesian-chart/scales';\nimport { differenceInDays, add } from 'date-fns';\nimport { X_TICK_COUNT_RATIO, Y_TICK_COUNT_RATIO } from './constants';\nimport { ChartDataTypes } from './interfaces';\n\n// The number of ticks is currently defined by the length of the scale.\n// The x scale tends to have longer labels, so we're using less ticks for it.\n// These numbers are currently based on first impressions and might change in the future.\n// We might also open up an API in the future to control the amount of ticks displayed.\nexport function getXTickCount(width: number) {\n  return Math.ceil(width / X_TICK_COUNT_RATIO);\n}\nexport function getYTickCount(height: number) {\n  return Math.ceil(height / Y_TICK_COUNT_RATIO);\n}\n\nexport function createXTicks(scale: ChartScale, values: number): ChartDataTypes[] {\n  if (scale.isNumeric()) {\n    return scale.d3Scale.ticks(values);\n  } else if (scale.isTime()) {\n    const rawTicks = scale.d3Scale.ticks(values) as Date[];\n    const domain = scale.d3Scale.domain() as Date[];\n    return uniform(rawTicks, domain[domain.length - 1]);\n  } else {\n    return scale.d3Scale.domain();\n  }\n}\n\nexport function createYTicks(scale: NumericChartScale, values: number): number[] {\n  const ticks = scale.d3Scale.ticks(values);\n\n  // The logarithmic scale sometimes produces a very large amount of (major and minor) ticks,\n  // at which point we need to reduce them significantly for space.\n  if (scale.scaleType === 'log' && ticks.length > 10) {\n    return scale.d3Scale.ticks(3);\n  }\n\n  return ticks;\n}\n\n/**\n * Ensure uniformly-spaced ticks for 2-day intervals. d3-scale generates\n * ticks for even or odd numbers, which causes varying interval lengths\n * between months.\n */\nfunction uniform(ticks: Date[], max: Date): Date[] {\n  if (ticks.length < 3 || !isMixedDayInterval(ticks)) {\n    return ticks;\n  }\n\n  return createTwoDayInterval(ticks[0], max);\n}\n\nfunction isMixedDayInterval(ticks: Date[]) {\n  let oneDayInterval = false;\n  let twoDayInterval = false;\n\n  for (let i = 1; i < ticks.length; i++) {\n    oneDayInterval = oneDayInterval || isDayInterval(ticks[i - 1], ticks[i], 1);\n    twoDayInterval = twoDayInterval || isDayInterval(ticks[i - 1], ticks[i], 2);\n  }\n  return oneDayInterval && twoDayInterval;\n}\n\nfunction isDayInterval(a: Date, b: Date, difference = 1) {\n  return Math.abs(differenceInDays(a, b)) === difference;\n}\n\nfunction createTwoDayInterval(start: Date, max: Date) {\n  const result: Date[] = [];\n  let curr = start;\n  while (curr < max) {\n    result.push(curr);\n    curr = add(curr, { days: 2 });\n  }\n  return result;\n}\n","/**\n * Name: d3-array\n * Version: 3.2.1\n * License: ISC\n * Private: false\n * Description: Array manipulation, ordering, searching, summarizing, etc.\n * Repository: https://github.com/d3/d3-array.git\n * Homepage: https://d3js.org/d3-array/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2022 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: internmap\n * Version: 2.0.3\n * License: ISC\n * Private: false\n * Description: Map and Set with automatic key interning\n * Repository: https://github.com/mbostock/internmap.git\n * Homepage: https://github.com/mbostock/internmap/\n * Author: Mike Bostock (https://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2021 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-scale\n * Version: 4.0.2\n * License: ISC\n * Private: false\n * Description: Encodings that map abstract data to visual representation.\n * Repository: https://github.com/d3/d3-scale.git\n * Homepage: https://d3js.org/d3-scale/\n * Author: Mike Bostock (https://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2021 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-color\n * Version: 3.1.0\n * License: ISC\n * Private: false\n * Description: Color spaces! RGB, HSL, Cubehelix, Lab and HCL (Lch).\n * Repository: https://github.com/d3/d3-color.git\n * Homepage: https://d3js.org/d3-color/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2022 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-interpolate\n * Version: 3.0.1\n * License: ISC\n * Private: false\n * Description: Interpolate numbers, colors, strings, arrays, objects, whatever!\n * Repository: https://github.com/d3/d3-interpolate.git\n * Homepage: https://d3js.org/d3-interpolate/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2021 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-format\n * Version: 3.1.0\n * License: ISC\n * Private: false\n * Description: Format numbers for human consumption.\n * Repository: https://github.com/d3/d3-format.git\n * Homepage: https://d3js.org/d3-format/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2021 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-time\n * Version: 3.1.0\n * License: ISC\n * Private: false\n * Description: A calculator for humanitys peculiar conventions of time.\n * Repository: https://github.com/d3/d3-time.git\n * Homepage: https://d3js.org/d3-time/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2022 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-time-format\n * Version: 4.1.0\n * License: ISC\n * Private: false\n * Description: A JavaScript time formatter and parser inspired by strftime and strptime.\n * Repository: https://github.com/d3/d3-time-format.git\n * Homepage: https://d3js.org/d3-time-format/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2021 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n */\nfunction ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\nfunction descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n\nfunction bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We cant do this\n  // for a comparator (except for specific, known comparators) because we cant\n  // tell if the comparator is symmetric, and an asymmetric comparator cant be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero$1;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero$1() {\n  return 0;\n}\n\nfunction number$2(x) {\n  return x === null ? NaN : +x;\n}\n\nconst ascendingBisect = bisector(ascending);\nconst bisectRight = ascendingBisect.right;\nbisector(number$2).center;\nvar bisect = bisectRight;\n\nclass InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n\nvar e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction ticks(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nfunction tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nfunction tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n\nfunction range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n\nfunction initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nconst implicit = Symbol(\"implicit\");\n\nfunction ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nfunction band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = range(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n\nfunction Color() {}\n\nvar darker = 0.7;\nvar brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nfunction color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nfunction rgb$1(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb$1, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n\nvar constant = x => () => x;\n\nfunction linear$1(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear$1(a, d) : constant(isNaN(a) ? b : a);\n}\n\nvar rgb = (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = rgb$1(start)).r, (end = rgb$1(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction numberArray(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nfunction isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n\nfunction genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = interpolate(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n\nfunction date$1(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n\nfunction interpolateNumber(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n\nfunction object(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nfunction string(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: interpolateNumber(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n\nfunction interpolate(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? interpolateNumber\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date$1\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : interpolateNumber)(a, b);\n}\n\nfunction interpolateRound(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n\nfunction constants(x) {\n  return function() {\n    return x;\n  };\n}\n\nfunction number$1(x) {\n  return +x;\n}\n\nvar unit = [0, 1];\n\nfunction identity$1(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constants(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nfunction copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nfunction transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate$1 = interpolate,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity$1,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity$1) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate$1)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number$1), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate$1 = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity$1, rescale()) : clamp !== identity$1;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate$1 = _, rescale()) : interpolate$1;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nfunction continuous() {\n  return transformer()(identity$1, identity$1);\n}\n\nfunction formatDecimal(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nfunction formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n\nfunction exponent(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n\nfunction formatGroup(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n\nfunction formatNumerals(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n\n// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nfunction formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n\n// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nfunction formatTrim(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n\nvar prefixExponent;\n\nfunction formatPrefixAuto(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n\nfunction formatRounded(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n\nvar formatTypes = {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n\nfunction identity(x) {\n  return x;\n}\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nfunction formatLocale$1(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n\nvar locale$1;\nvar format;\nvar formatPrefix;\n\ndefaultLocale$1({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nfunction defaultLocale$1(definition) {\n  locale$1 = formatLocale$1(definition);\n  format = locale$1.format;\n  formatPrefix = locale$1.formatPrefix;\n  return locale$1;\n}\n\nfunction precisionFixed(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n\nfunction precisionPrefix(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n\nfunction precisionRound(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n\nfunction tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n\nfunction linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start;\n        d[i1] = stop;\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nfunction linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n\nfunction nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : x => Math.pow(base, x);\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), x => Math.log(x) / base);\n}\n\nfunction reflect(f) {\n  return (x, k) => -f(-x, k);\n}\n\nfunction loggish(transform) {\n  const scale = transform(transformLog, transformExp);\n  const domain = scale.domain;\n  let base = 10;\n  let logs;\n  let pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = count => {\n    const d = domain();\n    let u = d[0];\n    let v = d[d.length - 1];\n    const r = v < u;\n\n    if (r) ([u, v] = [v, u]);\n\n    let i = logs(u);\n    let j = logs(v);\n    let k;\n    let t;\n    const n = count == null ? 10 : +count;\n    let z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1; k < base; ++k) {\n          t = i < 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1; k >= 1; --k) {\n          t = i > 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = (count, specifier) => {\n    if (count == null) count = 10;\n    if (specifier == null) specifier = base === 10 ? \"s\" : \",\";\n    if (typeof specifier !== \"function\") {\n      if (!(base % 1) && (specifier = formatSpecifier(specifier)).precision == null) specifier.trim = true;\n      specifier = format(specifier);\n    }\n    if (count === Infinity) return specifier;\n    const k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return d => {\n      let i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = () => {\n    return domain(nice(domain(), {\n      floor: x => pows(Math.floor(logs(x))),\n      ceil: x => pows(Math.ceil(logs(x)))\n    }));\n  };\n\n  return scale;\n}\n\nfunction log() {\n  const scale = loggish(transformer()).domain([1, 10]);\n  scale.copy = () => copy(scale, log()).base(scale.base());\n  initRange.apply(scale, arguments);\n  return scale;\n}\n\nconst t0 = new Date, t1 = new Date;\n\nfunction timeInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = (date) => {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = (date) => {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = (date) => {\n    const d0 = interval(date), d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = (date, step) => {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = (start, stop, step) => {\n    const range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    let previous;\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = (test) => {\n    return timeInterval((date) => {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, (date, step) => {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = (start, end) => {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = (step) => {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? (d) => field(d) % step === 0\n              : (d) => interval.count(0, d) % step === 0);\n    };\n  }\n\n  return interval;\n}\n\nconst millisecond = timeInterval(() => {\n  // noop\n}, (date, step) => {\n  date.setTime(+date + step);\n}, (start, end) => {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = (k) => {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return timeInterval((date) => {\n    date.setTime(Math.floor(date / k) * k);\n  }, (date, step) => {\n    date.setTime(+date + step * k);\n  }, (start, end) => {\n    return (end - start) / k;\n  });\n};\n\nmillisecond.range;\n\nconst durationSecond = 1000;\nconst durationMinute = durationSecond * 60;\nconst durationHour = durationMinute * 60;\nconst durationDay = durationHour * 24;\nconst durationWeek = durationDay * 7;\nconst durationMonth = durationDay * 30;\nconst durationYear = durationDay * 365;\n\nconst second = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds());\n}, (date, step) => {\n  date.setTime(+date + step * durationSecond);\n}, (start, end) => {\n  return (end - start) / durationSecond;\n}, (date) => {\n  return date.getUTCSeconds();\n});\n\nsecond.range;\n\nconst timeMinute = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getMinutes();\n});\n\ntimeMinute.range;\n\nconst utcMinute = timeInterval((date) => {\n  date.setUTCSeconds(0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getUTCMinutes();\n});\n\nutcMinute.range;\n\nconst timeHour = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getHours();\n});\n\ntimeHour.range;\n\nconst utcHour = timeInterval((date) => {\n  date.setUTCMinutes(0, 0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getUTCHours();\n});\n\nutcHour.range;\n\nconst timeDay = timeInterval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\ntimeDay.range;\n\nconst utcDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return date.getUTCDate() - 1;\n});\n\nutcDay.range;\n\nconst unixDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return Math.floor(date / durationDay);\n});\n\nunixDay.range;\n\nfunction timeWeekday(i) {\n  return timeInterval((date) => {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setDate(date.getDate() + step * 7);\n  }, (start, end) => {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nconst timeSunday = timeWeekday(0);\nconst timeMonday = timeWeekday(1);\nconst timeTuesday = timeWeekday(2);\nconst timeWednesday = timeWeekday(3);\nconst timeThursday = timeWeekday(4);\nconst timeFriday = timeWeekday(5);\nconst timeSaturday = timeWeekday(6);\n\ntimeSunday.range;\ntimeMonday.range;\ntimeTuesday.range;\ntimeWednesday.range;\ntimeThursday.range;\ntimeFriday.range;\ntimeSaturday.range;\n\nfunction utcWeekday(i) {\n  return timeInterval((date) => {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, (start, end) => {\n    return (end - start) / durationWeek;\n  });\n}\n\nconst utcSunday = utcWeekday(0);\nconst utcMonday = utcWeekday(1);\nconst utcTuesday = utcWeekday(2);\nconst utcWednesday = utcWeekday(3);\nconst utcThursday = utcWeekday(4);\nconst utcFriday = utcWeekday(5);\nconst utcSaturday = utcWeekday(6);\n\nutcSunday.range;\nutcMonday.range;\nutcTuesday.range;\nutcWednesday.range;\nutcThursday.range;\nutcFriday.range;\nutcSaturday.range;\n\nconst timeMonth = timeInterval((date) => {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setMonth(date.getMonth() + step);\n}, (start, end) => {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, (date) => {\n  return date.getMonth();\n});\n\ntimeMonth.range;\n\nconst utcMonth = timeInterval((date) => {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, (start, end) => {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, (date) => {\n  return date.getUTCMonth();\n});\n\nutcMonth.range;\n\nconst timeYear = timeInterval((date) => {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setFullYear(date.getFullYear() + step);\n}, (start, end) => {\n  return end.getFullYear() - start.getFullYear();\n}, (date) => {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\ntimeYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\ntimeYear.range;\n\nconst utcYear = timeInterval((date) => {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, (start, end) => {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, (date) => {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nutcYear.range;\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nticker(utcYear, utcMonth, utcSunday, unixDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute);\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nfunction formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n\nvar locale;\nvar timeFormat;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nfunction defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  locale.parse;\n  locale.utcFormat;\n  locale.utcParse;\n  return locale;\n}\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nfunction calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nfunction time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute, second, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n\nexport { band as scaleBand, linear as scaleLinear, log as scaleLog, time as scaleTime };\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport {\n  scaleLinear,\n  scaleLog,\n  scaleTime,\n  scaleBand,\n  ScaleContinuousNumeric,\n  ScaleTime,\n  ScaleBand,\n} from '../../vendor/d3-scale';\n\nimport { ChartDataTypes, ChartDomain, ScaleType, ScaleRange } from './interfaces';\n\nexport interface NumericD3Scale {\n  type: 'numeric';\n  scale: ScaleContinuousNumeric<number, number>;\n}\n\nexport interface TimeD3Scale {\n  type: 'time';\n  scale: ScaleTime<number, number>;\n}\n\nexport interface CategoricalD3Scale {\n  type: 'categorical';\n  scale: ScaleBand<ChartDataTypes>;\n}\n\nexport type D3Scale = NumericD3Scale | TimeD3Scale | CategoricalD3Scale;\n\ntype InternalScale = ScaleContinuousNumeric<number, number> | ScaleBand<ChartDataTypes> | ScaleTime<number, number>;\n\nfunction isNumericDomain(domain: ChartDomain<ChartDataTypes>): domain is number[] {\n  return domain.length > 0 && typeof domain[0] === 'number';\n}\n\nfunction isDateDomain(domain: ChartDomain<ChartDataTypes>): domain is Date[] {\n  return domain.length > 0 && domain[0] instanceof Date;\n}\n\nfunction createNumericScale(type: ScaleType, domain: ChartDomain<ChartDataTypes>) {\n  let scale: ScaleContinuousNumeric<number, number>;\n  switch (type) {\n    case 'log':\n      scale = scaleLog();\n      break;\n    default:\n      scale = scaleLinear();\n  }\n\n  if (isNumericDomain(domain)) {\n    scale.domain(domain);\n  }\n\n  return scale;\n}\n\nfunction createTimeScale(domain: ChartDomain<ChartDataTypes>) {\n  const scale = scaleTime();\n  if (isDateDomain(domain)) {\n    scale.domain(domain);\n  }\n  return scale;\n}\n\nfunction createBandScale(domain: ChartDomain<ChartDataTypes>) {\n  const scale = scaleBand<ChartDataTypes>().padding(0.1);\n  scale.domain(domain);\n  return scale;\n}\n\nexport function createScale(type: ScaleType, domain: ChartDomain<ChartDataTypes>, range: ScaleRange): D3Scale {\n  switch (type) {\n    case 'linear':\n    case 'log':\n      return { type: 'numeric', scale: createNumericScale(type, domain).range(range) };\n\n    case 'time':\n      return { type: 'time', scale: createTimeScale(domain).range(range) };\n\n    case 'categorical':\n      return { type: 'categorical', scale: createBandScale(domain).range(range) };\n  }\n}\n\nexport class ChartScale {\n  public readonly scale: D3Scale;\n  public readonly d3Scale: InternalScale;\n\n  constructor(\n    public readonly scaleType: ScaleType,\n    public readonly domain: ChartDomain<ChartDataTypes>,\n    public readonly range: ScaleRange,\n    noCategoricalOuterPadding = false\n  ) {\n    this.scale = createScale(this.scaleType, this.domain, this.range);\n    this.d3Scale = this.scale.scale;\n\n    if (this.isCategorical()) {\n      if (noCategoricalOuterPadding) {\n        // Categorical charts with only line (or threshold) series don't need as much out padding\n        // compared to a bar series. Increasing the inner padding to push more data points to the outside.\n        this.d3Scale.paddingInner(0.7);\n        this.d3Scale.paddingOuter(0);\n      } else {\n        this.d3Scale.paddingInner(0.2);\n        this.d3Scale.paddingOuter(0.05);\n      }\n    }\n  }\n\n  cloneScale(newScaleType?: ScaleType, newDomain?: ChartDomain<ChartDataTypes>, newRange?: ScaleRange) {\n    return new ChartScale(newScaleType || this.scaleType, newDomain || this.domain, newRange || this.range);\n  }\n\n  isNumeric(): this is { d3Scale: ScaleContinuousNumeric<number, number>; domain: ChartDomain<number> } {\n    return this.scale.type === 'numeric';\n  }\n\n  isTime(): this is { d3Scale: ScaleTime<number, number>; domain: ChartDomain<Date> } {\n    return this.scale.type === 'time';\n  }\n\n  isCategorical(): this is { d3Scale: ScaleBand<ChartDataTypes>; domain: ChartDomain<string> } {\n    return this.scale.type === 'categorical';\n  }\n}\n\nexport class NumericChartScale {\n  public readonly scale: NumericD3Scale;\n  public readonly d3Scale: ScaleContinuousNumeric<number, number>;\n\n  constructor(\n    public readonly scaleType: 'linear' | 'log',\n    domain: ChartDomain<number>,\n    range: ScaleRange,\n    adjustDomain: null | number\n  ) {\n    const scale = createNumericScale(scaleType, domain).range(range);\n    if (adjustDomain !== null) {\n      scale.nice(adjustDomain);\n    }\n    this.scale = { type: 'numeric', scale };\n    this.d3Scale = this.scale.scale;\n  }\n\n  isCategorical() {\n    return false;\n  }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AreaChartProps } from '../interfaces';\nimport { computePlotPoints, computeDomainX, computeDomainY } from './utils';\n\nimport {\n  ChartDomain,\n  XDomain,\n  XScaleType,\n  YDomain,\n  YScaleType,\n} from '../../internal/components/cartesian-chart/interfaces';\nimport {\n  createXTicks,\n  createYTicks,\n  getXTickCount,\n  getYTickCount,\n} from '../../internal/components/cartesian-chart/ticks';\nimport { ChartScale, NumericChartScale } from '../../internal/components/cartesian-chart/scales';\n\nexport default function computeChartProps<T extends AreaChartProps.DataTypes>({\n  isRtl,\n  series,\n  xDomain: externalXDomain,\n  yDomain: externalYDomain,\n  xScaleType,\n  yScaleType,\n  height,\n  width,\n}: {\n  isRtl?: boolean;\n  series: readonly AreaChartProps.Series<T>[];\n  xDomain?: XDomain<T>;\n  yDomain?: YDomain;\n  xScaleType: XScaleType;\n  yScaleType: YScaleType;\n  height: number;\n  width: number;\n}) {\n  const xDomain = externalXDomain ? ([...externalXDomain] as unknown as ChartDomain<T>) : computeDomainX(series);\n  const xTickCount = getXTickCount(width);\n  const xScale = new ChartScale(xScaleType, xDomain, !isRtl ? [0, width] : [width, 0]);\n  const xTicks = xScale.domain.length > 0 ? createXTicks(xScale, xTickCount) : [];\n\n  const yDomain = externalYDomain || computeDomainY(series, yScaleType);\n  const yTickCount = getYTickCount(height);\n  const yScale = new NumericChartScale(yScaleType, yDomain, [height, 0], externalYDomain ? null : yTickCount);\n  const yTicks = createYTicks(yScale, yTickCount);\n\n  const plot = computePlotPoints(series, xScale, yScale);\n\n  return { xDomain, yDomain, xScale, yScale, xTicks, yTicks, plot };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ChartModel } from './index';\nimport { AreaChartProps } from '../interfaces';\nimport AsyncStore from '../async-store';\n\nconst initialState = Object.freeze({\n  highlightedX: null,\n  highlightedPoint: null,\n  highlightedSeries: null,\n  legendSeries: null,\n  isPopoverPinned: false,\n});\n\nexport default class InteractionsStore<T extends AreaChartProps.DataTypes> extends AsyncStore<\n  ChartModel.InteractionsState<T>\n> {\n  series: readonly AreaChartProps.Series<T>[];\n  plot: ChartModel.ComputedProps<T>['plot'];\n\n  constructor(series: readonly AreaChartProps.Series<T>[], plot: ChartModel.ComputedProps<T>['plot']) {\n    super(initialState);\n\n    this.series = series;\n    this.plot = plot;\n  }\n\n  highlightPoint(point: ChartModel.PlotPoint<T>) {\n    this.set(state => ({\n      ...state,\n      highlightedX: this.plot.xy[point.index.x],\n      highlightedPoint: point,\n      highlightedSeries: this.series[point.index.s],\n      legendSeries: this.series[point.index.s],\n    }));\n  }\n\n  highlightX(points: readonly ChartModel.PlotPoint<T>[]) {\n    this.set(state => ({\n      ...state,\n      highlightedX: points,\n      highlightedPoint: null,\n      highlightedSeries: null,\n      legendSeries: null,\n    }));\n  }\n\n  highlightFirstPoint() {\n    this.set(state => {\n      const series = state.legendSeries || state.highlightedSeries;\n      const firstSeriesPoint = series && this._getFirstSeriesPoint(series);\n      const point = state.highlightedPoint || firstSeriesPoint || this.plot.sx[0][0];\n      return {\n        ...state,\n        highlightedX: this.plot.xy[point.index.x],\n        highlightedPoint: point,\n        highlightedSeries: this.series[point.index.s],\n        legendSeries: this.series[point.index.s],\n      };\n    });\n  }\n\n  highlightSeries(s: null | AreaChartProps.Series<T>) {\n    this.set(state => ({\n      ...state,\n      highlightedSeries: s,\n      legendSeries: s,\n    }));\n  }\n\n  clearHighlight() {\n    this.set(state => ({\n      ...state,\n      highlightedX: null,\n      highlightedPoint: null,\n      highlightedSeries: null,\n    }));\n  }\n  clearHighlightedLegend() {\n    this.set(state => ({\n      ...state,\n      legendSeries: null,\n    }));\n  }\n\n  clearState() {\n    this.set(() => initialState);\n  }\n\n  pinPopover() {\n    this.set(state => ({ ...state, isPopoverPinned: true }));\n  }\n\n  unpinPopover() {\n    this.set(state => ({ ...state, isPopoverPinned: false }));\n  }\n\n  togglePopoverPin() {\n    this.set(state => ({ ...state, isPopoverPinned: !state.isPopoverPinned }));\n  }\n\n  _getFirstSeriesPoint(s: AreaChartProps.Series<T>): null | ChartModel.PlotPoint<T> {\n    const seriesIndex = this.series.indexOf(s);\n    const [firstSeriesPoint] = this.plot.sx[seriesIndex] || [];\n    return firstSeriesPoint || null;\n  }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AreaChartProps } from '../interfaces';\nimport React, { useEffect, useMemo, useRef, RefObject, MouseEvent } from 'react';\nimport { nodeContains } from '@cloudscape-design/component-toolkit/dom';\nimport { findClosest, circleIndex } from './utils';\n\nimport { KeyCode } from '../../internal/keycode';\nimport { XDomain, XScaleType, YDomain, YScaleType } from '../../internal/components/cartesian-chart/interfaces';\nimport computeChartProps from './compute-chart-props';\nimport createSeriesDecorator from './create-series-decorator';\nimport InteractionsStore from './interactions-store';\nimport { ChartModel } from './index';\nimport { ChartPlotRef } from '../../internal/components/chart-plot';\nimport { throttle } from '../../internal/utils/throttle';\nimport { useReaction } from '../async-store';\nimport { useHeightMeasure } from '../../internal/hooks/container-queries/use-height-measure';\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\nimport { nodeBelongs } from '../../internal/utils/node-belongs';\nimport handleKey from '../../internal/utils/handle-key';\n\nconst MAX_HOVER_MARGIN = 6;\nconst SVG_HOVER_THROTTLE = 25;\nconst POPOVER_DEADZONE = 12;\n\nexport interface UseChartModelProps<T extends AreaChartProps.DataTypes> {\n  isRtl?: boolean;\n  fitHeight?: boolean;\n  externalSeries: readonly AreaChartProps.Series<T>[];\n  visibleSeries: readonly AreaChartProps.Series<T>[];\n  setVisibleSeries: (series: readonly AreaChartProps.Series<T>[]) => void;\n  highlightedSeries: null | AreaChartProps.Series<T>;\n  setHighlightedSeries: (series: null | AreaChartProps.Series<T>) => void;\n  xDomain?: XDomain<T>;\n  yDomain?: YDomain;\n  xScaleType: XScaleType;\n  yScaleType: YScaleType;\n  height: number;\n  width: number;\n  popoverRef: RefObject<HTMLElement>;\n}\n\n// Represents the core the chart logic, including the model of all allowed user interactions.\nexport default function useChartModel<T extends AreaChartProps.DataTypes>({\n  isRtl,\n  fitHeight,\n  externalSeries: allSeries,\n  visibleSeries: series,\n  setVisibleSeries,\n  highlightedSeries,\n  setHighlightedSeries,\n  xDomain,\n  yDomain,\n  xScaleType,\n  yScaleType,\n  height: explicitHeight,\n  width,\n  popoverRef,\n}: UseChartModelProps<T>): ChartModel<T> {\n  // Chart elements refs used in handlers.\n  const plotRef = useRef<ChartPlotRef>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const verticalMarkerRef = useRef<SVGLineElement>(null);\n\n  const plotMeasureRef = useRef<SVGLineElement>(null);\n  const hasVisibleSeries = series.length > 0;\n  const height = useHeightMeasure(() => plotMeasureRef.current, !fitHeight, [hasVisibleSeries]) ?? explicitHeight;\n\n  const stableSetVisibleSeries = useStableCallback(setVisibleSeries);\n\n  const model = useMemo(() => {\n    // Compute scales, ticks and two-dimensional plots.\n    const computed = computeChartProps({\n      isRtl,\n      series,\n      xDomain,\n      yDomain,\n      xScaleType,\n      yScaleType,\n      height,\n      width,\n    });\n\n    // A store for chart interactions that don't require plot recomputation.\n    const interactions = new InteractionsStore(series, computed.plot);\n\n    const containsMultipleSeries = interactions.series.length > 1;\n\n    // A series decorator to provide extra props such as color and marker type.\n    const getInternalSeries = createSeriesDecorator(allSeries);\n\n    const isMouseOverPopover = (clientX: number, clientY: number) => {\n      if (popoverRef.current?.firstChild) {\n        const popoverPosition = (popoverRef.current.firstChild as HTMLElement).getBoundingClientRect();\n        if (\n          clientX > popoverPosition.x - POPOVER_DEADZONE &&\n          clientX < popoverPosition.x + popoverPosition.width + POPOVER_DEADZONE &&\n          clientY > popoverPosition.y - POPOVER_DEADZONE &&\n          clientY < popoverPosition.y + popoverPosition.height + POPOVER_DEADZONE\n        ) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    // A Callback for svg mouseover to hover the plot points.\n    // Throttling is necessary for a substantially smoother customer experience.\n    const onSVGMouseMoveThrottled = throttle((clientX: number, clientY: number) => {\n      // No hover logic when the popover is pinned or no data available.\n      if (\n        interactions.get().isPopoverPinned ||\n        !plotRef.current ||\n        interactions.plot.xy.length === 0 ||\n        isMouseOverPopover(clientX, clientY)\n      ) {\n        return;\n      }\n\n      const svgRect = plotRef.current.svg.getBoundingClientRect();\n      const offsetX = clientX - svgRect.left;\n      const offsetY = clientY - svgRect.top;\n\n      const closestX = findClosest(interactions.plot.xy, offsetX, xPoints => xPoints[0].scaled.x);\n      const closestPoint = findClosest(closestX, offsetY, point => point.scaled.y1);\n\n      // If close enough to the point - highlight the point and its column.\n      // If not - only highlight the closest column.\n      if (\n        Math.abs(offsetX - closestPoint.scaled.x) < MAX_HOVER_MARGIN &&\n        Math.abs(offsetY - closestPoint.scaled.y1) < MAX_HOVER_MARGIN\n      ) {\n        interactions.highlightPoint(closestPoint);\n      } else {\n        interactions.highlightX(closestX);\n      }\n    }, SVG_HOVER_THROTTLE);\n\n    const onSVGMouseMove = ({ clientX, clientY }: React.MouseEvent<SVGElement>) =>\n      onSVGMouseMoveThrottled(clientX, clientY);\n\n    // A callback for svg mouseout to clear all highlights.\n    const onSVGMouseOut = (event: React.MouseEvent<SVGElement>) => {\n      // Because the mouseover is throttled, in can occur slightly after the mouseout,\n      // neglecting its effect; cancelling the throttled function prevents that.\n      onSVGMouseMoveThrottled.cancel();\n\n      // No hover logic when the popover is pinned or mouse is over popover\n      if (interactions.get().isPopoverPinned || isMouseOverPopover(event.clientX, event.clientY)) {\n        return;\n      }\n\n      // Check if the target is contained within svg to allow hovering on the popover body.\n      if (!nodeContains(plotRef.current!.svg, event.relatedTarget as Element)) {\n        interactions.clearHighlightedLegend();\n        interactions.clearHighlight();\n      }\n    };\n\n    // A callback for svg click to pin/unpin the popover.\n    const onSVGMouseDown = (event: React.MouseEvent<SVGSVGElement>) => {\n      interactions.togglePopoverPin();\n      event.preventDefault();\n    };\n\n    const moveWithinXAxis = (direction: -1 | 1) => {\n      if (interactions.get().highlightedPoint) {\n        return moveWithinSeries(direction);\n      } else if (containsMultipleSeries) {\n        const { highlightedX } = interactions.get();\n        if (highlightedX) {\n          const currentXIndex = highlightedX[0].index.x;\n          const nextXIndex = circleIndex(currentXIndex + direction, [0, interactions.plot.xy.length - 1]);\n          interactions.highlightX(interactions.plot.xy[nextXIndex]);\n        }\n      }\n    };\n\n    // A helper function to highlight the next or previous point within selected series.\n    const moveWithinSeries = (direction: -1 | 1) => {\n      // Can only use motion when a particular point is highlighted.\n      const point = interactions.get().highlightedPoint;\n      if (!point) {\n        return;\n      }\n\n      // Take the index of the currently highlighted series.\n      const sIndex = point.index.s;\n      // Take the incremented(circularly) x-index of the currently highlighted point.\n      const xIndex = circleIndex(point.index.x + direction, [0, interactions.plot.xs.length - 1]);\n      // Highlight the next point using x:s grouped data.\n      interactions.highlightPoint(interactions.plot.xs[xIndex][sIndex]);\n    };\n\n    // A helper function to highlight the next or previous point within the selected column.\n    const moveBetweenSeries = (direction: -1 | 1) => {\n      const point = interactions.get().highlightedPoint;\n      if (!point) {\n        const { highlightedX } = interactions.get();\n        if (highlightedX) {\n          const xIndex = highlightedX[0].index.x;\n          const points = interactions.plot.xy[xIndex];\n          const yIndex = direction === 1 ? 0 : points.length - 1;\n          interactions.highlightPoint(points[yIndex]);\n        }\n        return;\n      }\n\n      // Take the index of the currently highlighted column.\n      const xIndex = point.index.x;\n      const currentYIndex = point.index.y;\n\n      if (\n        containsMultipleSeries &&\n        ((currentYIndex === 0 && direction === -1) ||\n          (currentYIndex === interactions.plot.xy[xIndex].length - 1 && direction === 1))\n      ) {\n        interactions.highlightX(interactions.plot.xy[xIndex]);\n      } else {\n        // Take the incremented(circularly) y-index of the currently highlighted point.\n        const nextYIndex = circleIndex(currentYIndex + direction, [0, interactions.plot.xy[xIndex].length - 1]);\n        // Highlight the next point using x:y grouped data.\n        interactions.highlightPoint(interactions.plot.xy[xIndex][nextYIndex]);\n      }\n    };\n\n    // A callback for svg keydown to enable motions and popover pin with the keyboard.\n    const onSVGKeyDown = (event: React.KeyboardEvent<HTMLElement | SVGElement>) => {\n      const keyCode = event.keyCode;\n      if (\n        keyCode !== KeyCode.up &&\n        keyCode !== KeyCode.right &&\n        keyCode !== KeyCode.down &&\n        keyCode !== KeyCode.left &&\n        keyCode !== KeyCode.space &&\n        keyCode !== KeyCode.enter\n      ) {\n        return;\n      }\n\n      // Preventing default fixes an issue in Safari+VO when VO additionally interprets arrow keys as its commands.\n      event.preventDefault();\n\n      // No keydown logic when the popover is pinned.\n      if (interactions.get().isPopoverPinned) {\n        return;\n      }\n\n      handleKey(event, {\n        onBlockEnd: () => moveBetweenSeries(-1),\n        onBlockStart: () => moveBetweenSeries(1),\n        onInlineStart: () => moveWithinXAxis(-1),\n        onInlineEnd: () => moveWithinXAxis(1),\n        onActivate: () => interactions.pinPopover(),\n      });\n    };\n\n    const highlightFirstX = () => {\n      interactions.highlightX(interactions.plot.xy[0]);\n    };\n\n    // A callback for application focus to highlight series.\n    const onApplicationFocus = (_event: React.FocusEvent, trigger: 'mouse' | 'keyboard') => {\n      // When focus is caused by a click event nothing is expected as clicks are handled separately.\n      if (trigger === 'keyboard') {\n        const { highlightedX, highlightedPoint, highlightedSeries, legendSeries } = interactions.get();\n        if (containsMultipleSeries && !highlightedX && !highlightedPoint && !highlightedSeries && !legendSeries) {\n          highlightFirstX();\n        } else if (!highlightedX) {\n          interactions.highlightFirstPoint();\n        }\n      }\n    };\n\n    // A callback for application blur to clear all highlights unless the popover is pinned.\n    const onApplicationBlur = (event: React.FocusEvent<Element>) => {\n      // Pinned popover stays pinned even if the focus is lost.\n      // If blur is not caused by the popover, forget the previously highlighted point.\n      if (!nodeBelongs(containerRef.current, event.relatedTarget) && !interactions.get().isPopoverPinned) {\n        interactions.clearHighlight();\n      }\n    };\n\n    const onFilterSeries = (series: readonly AreaChartProps.Series<T>[]) => {\n      stableSetVisibleSeries(series);\n    };\n\n    const onLegendHighlight = (series: null | AreaChartProps.Series<T>) => {\n      interactions.highlightSeries(series);\n    };\n\n    const onPopoverDismiss = (outsideClick?: boolean) => {\n      interactions.unpinPopover();\n\n      // Return focus back to the application or plot (when no point is highlighted).\n      if (!outsideClick) {\n        // The delay is needed to bypass focus events caused by click or keypress needed to unpin the popover.\n        setTimeout(() => {\n          if (interactions.get().highlightedPoint || interactions.get().highlightedX) {\n            plotRef.current!.focusApplication();\n          } else {\n            interactions.clearHighlight();\n            plotRef.current!.focusPlot();\n          }\n        }, 0);\n      }\n    };\n\n    const onContainerBlur = () => {\n      interactions.clearState();\n    };\n\n    const onDocumentKeyDown = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        interactions.clearHighlight();\n        interactions.clearHighlightedLegend();\n      }\n    };\n\n    const onPopoverLeave = (event: MouseEvent) => {\n      if (nodeContains(plotRef.current!.svg, event.relatedTarget as Element) || interactions.get().isPopoverPinned) {\n        return;\n      }\n      interactions.clearHighlight();\n      interactions.clearHighlightedLegend();\n    };\n    return {\n      width,\n      height,\n      series,\n      allSeries,\n      getInternalSeries,\n      computed,\n      interactions,\n      handlers: {\n        onSVGMouseMove,\n        onSVGMouseOut,\n        onSVGMouseDown,\n        onSVGKeyDown,\n        onApplicationFocus,\n        onApplicationBlur,\n        onFilterSeries,\n        onLegendHighlight,\n        onPopoverDismiss,\n        onContainerBlur,\n        onDocumentKeyDown,\n        onPopoverLeave,\n      },\n      refs: {\n        plot: plotRef,\n        plotMeasure: plotMeasureRef,\n        container: containerRef,\n        verticalMarker: verticalMarkerRef,\n        popoverRef,\n      },\n    };\n  }, [\n    allSeries,\n    series,\n    xDomain,\n    yDomain,\n    xScaleType,\n    yScaleType,\n    height,\n    width,\n    stableSetVisibleSeries,\n    popoverRef,\n    isRtl,\n  ]);\n\n  // Notify client when series highlight change.\n  useReaction(model.interactions, state => state.highlightedSeries, setHighlightedSeries);\n\n  // Update interactions store when series highlight in a controlled way.\n  useEffect(() => {\n    if (highlightedSeries !== model.interactions.get().highlightedSeries) {\n      model.interactions.highlightSeries(highlightedSeries);\n    }\n  }, [model, highlightedSeries]);\n\n  return model;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport createCategoryColorScale from '../../internal/utils/create-category-color-scale';\nimport { AreaChartProps } from '../interfaces';\nimport { ChartModel } from './index';\n\nexport default function createSeriesDecorator<T extends AreaChartProps.DataTypes>(\n  externalSeries: readonly AreaChartProps.Series<T>[]\n) {\n  const colorScale = createCategoryColorScale(\n    externalSeries,\n    s => s.type === 'threshold',\n    s => s.color || null\n  );\n\n  const decorateSeries = (s: AreaChartProps.Series<T>, index: number): ChartModel.InternalSeries<T> => {\n    const title = s.title;\n    const color = colorScale[index];\n    const markerType = s.type === 'area' ? 'hollow-rectangle' : 'dashed';\n    const formatValue =\n      s.type === 'threshold'\n        ? () => (s.valueFormatter ? s.valueFormatter(s.y) : s.y)\n        : (y: number, x: T) => (s.valueFormatter ? s.valueFormatter(y, x) : y);\n\n    return { series: s, title, color, markerType, formatValue };\n  };\n\n  // Map external series to internal ones.\n  const mapping = externalSeries.reduce((map, series, index) => {\n    map.set(series, decorateSeries(series, index));\n    return map;\n  }, new Map<AreaChartProps.Series<T>, ChartModel.InternalSeries<T>>());\n\n  // It is inconvenient to use internal series everywhere, that's\n  // why we also provide a decorator function to get the internal series on demand.\n  const seriesDecorator = (series: AreaChartProps.Series<T>): ChartModel.InternalSeries<T> =>\n    mapping.get(series) || decorateSeries(series, externalSeries.length);\n\n  return seriesDecorator;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nexport interface ThrottleOptions {\n  leading?: boolean;\n  trailing?: boolean;\n}\n\nexport interface ThrottledFunction<F extends (...args: any) => any> {\n  (...args: Parameters<F>): void;\n  cancel(): void;\n}\n\nexport function throttle<F extends (...args: any) => any>(\n  func: F,\n  delay: number,\n  { trailing = true }: ThrottleOptions = {}\n): ThrottledFunction<F> {\n  let pending: null | { this: any; args: any } = null;\n  let lastInvokeTime: null | number = null;\n  let timerId: null | number = null;\n\n  // Runs on every animation frame until timer stopped.\n  function pendingFunc() {\n    if (pending === null || lastInvokeTime === null) {\n      return;\n    }\n\n    const invokeTime = Date.now();\n    const shouldInvoke = invokeTime - lastInvokeTime >= delay;\n\n    if (shouldInvoke) {\n      func.apply(pending.this, pending.args);\n      lastInvokeTime = invokeTime;\n      pending = null;\n      timerId = null;\n    } else if (trailing) {\n      startTimer();\n    }\n  }\n\n  function startTimer() {\n    if (timerId) {\n      cancelAnimationFrame(timerId);\n    }\n    timerId = requestAnimationFrame(pendingFunc);\n  }\n\n  // Decorated client function with delay mechanism.\n  function throttled(this: any, ...args: any) {\n    if (lastInvokeTime === null) {\n      lastInvokeTime = Date.now();\n      func.apply(this, args);\n    } else {\n      pending = { this: this, args };\n      startTimer();\n    }\n  }\n\n  // Prevents delayed function from execution when no longer needed.\n  throttled.cancel = () => {\n    if (timerId) {\n      cancelAnimationFrame(timerId);\n    }\n    pending = null;\n    lastInvokeTime = null;\n    timerId = null;\n  };\n\n  return throttled;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { isDevelopment } from '../internal/is-development';\nimport { getBaseProps } from '../internal/base-component';\nimport ChartStatusContainer, { getChartStatus } from '../internal/components/chart-status-container';\n\nimport AreaChartFilter from './elements/area-chart-filter';\nimport AreaChartLegend from './elements/area-chart-legend';\nimport { AreaChartProps } from './interfaces';\nimport ChartContainer from './chart-container';\nimport styles from './styles.css.js';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport useChartModel from './model/use-chart-model';\nimport useFilterProps from './model/use-filter-props';\nimport useHighlightProps from './model/use-highlight-props';\nimport { isSeriesValid } from './model/utils';\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { SomeRequired } from '../internal/types';\nimport { nodeBelongs } from '../internal/utils/node-belongs';\nimport { ChartWrapper } from '../internal/components/chart-wrapper';\nimport { getIsRtl } from '@cloudscape-design/component-toolkit/internal';\n\ntype InternalAreaChartProps<T extends AreaChartProps.DataTypes> = SomeRequired<\n  AreaChartProps<T>,\n  'height' | 'xScaleType' | 'yScaleType' | 'statusType' | 'detailPopoverSize' | 'i18nStrings'\n> &\n  InternalBaseComponentProps;\n\nexport default function InternalAreaChart<T extends AreaChartProps.DataTypes>({\n  fitHeight,\n  height,\n  xScaleType,\n  yScaleType,\n  xDomain,\n  yDomain,\n  xTickFormatter,\n  yTickFormatter,\n  detailTotalFormatter,\n  highlightedSeries: controlledHighlightedSeries,\n  visibleSeries: controlledVisibleSeries,\n  series: externalSeries,\n  onFilterChange: controlledOnVisibleChange,\n  onHighlightChange: controlledOnHighlightChange,\n  i18nStrings,\n  ariaLabel,\n  ariaLabelledby,\n  ariaDescription,\n  xTitle,\n  yTitle,\n  hideFilter,\n  additionalFilters,\n  hideLegend,\n  legendTitle,\n  statusType,\n  detailPopoverSize,\n  detailPopoverFooter,\n  empty,\n  noMatch,\n  errorText,\n  loadingText,\n  recoveryText,\n  onRecoveryClick,\n  __internalRootRef = null,\n  ...props\n}: InternalAreaChartProps<T>) {\n  const baseProps = getBaseProps(props);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const popoverRef = useRef<HTMLDivElement>(null);\n\n  if (isDevelopment) {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(() => {\n      if (!isSeriesValid(externalSeries)) {\n        warnOnce(\n          'AreaChart',\n          \"The `series` property violates the component's constraints: all `area` \" +\n            'series must have `data` arrays of the same length and with the same x-values.'\n        );\n      }\n    }, [externalSeries]);\n  }\n\n  const [width, setWidth] = useState(0);\n  const [visibleSeries, setVisibleSeries] = useFilterProps(\n    externalSeries,\n    controlledVisibleSeries,\n    controlledOnVisibleChange\n  );\n  const [highlightedSeries, setHighlightedSeries] = useHighlightProps(\n    externalSeries,\n    controlledHighlightedSeries,\n    controlledOnHighlightChange\n  );\n  const isRtl = containerRef.current ? getIsRtl(containerRef.current) : false;\n  const model = useChartModel({\n    isRtl,\n    fitHeight,\n    externalSeries,\n    visibleSeries,\n    setVisibleSeries,\n    highlightedSeries,\n    setHighlightedSeries,\n    xDomain,\n    yDomain,\n    xScaleType,\n    yScaleType,\n    height,\n    width,\n    popoverRef,\n  });\n\n  const { isEmpty, isNoMatch, showChart } = getChartStatus({\n    externalData: externalSeries,\n    visibleData: visibleSeries,\n    statusType,\n  });\n  const showFilters = statusType === 'finished' && (!isEmpty || isNoMatch) && (additionalFilters || !hideFilter);\n  const showLegend = !hideLegend && !isEmpty && statusType === 'finished';\n  const reserveLegendSpace = !showChart && !hideLegend;\n  const reserveFilterSpace = !showChart && !isNoMatch && (!hideFilter || additionalFilters);\n\n  useEffect(() => {\n    const onKeyDown = model.handlers.onDocumentKeyDown;\n    document.addEventListener('keydown', onKeyDown);\n    return () => document.removeEventListener('keydown', onKeyDown);\n  }, [model.handlers.onDocumentKeyDown]);\n\n  const onBlur = (event: React.FocusEvent) => {\n    if (event.relatedTarget && !nodeBelongs(containerRef.current, event.relatedTarget)) {\n      model.handlers.onContainerBlur();\n    }\n  };\n\n  const mergedRef = useMergeRefs(containerRef, __internalRootRef);\n\n  return (\n    <ChartWrapper\n      ref={mergedRef}\n      {...baseProps}\n      className={clsx(baseProps.className, styles.root)}\n      fitHeight={!!fitHeight}\n      contentMinHeight={height}\n      defaultFilter={\n        showFilters && !hideFilter ? (\n          <AreaChartFilter\n            model={model}\n            filterLabel={i18nStrings.filterLabel}\n            filterPlaceholder={i18nStrings.filterPlaceholder}\n            filterSelectedAriaLabel={i18nStrings.filterSelectedAriaLabel}\n          />\n        ) : null\n      }\n      additionalFilters={showFilters ? additionalFilters : null}\n      reserveFilterSpace={!!reserveFilterSpace}\n      reserveLegendSpace={!!reserveLegendSpace}\n      chartStatus={\n        <ChartStatusContainer\n          isEmpty={isEmpty}\n          isNoMatch={isNoMatch}\n          showChart={showChart}\n          statusType={statusType}\n          empty={empty}\n          noMatch={noMatch}\n          loadingText={loadingText}\n          errorText={errorText}\n          recoveryText={recoveryText}\n          onRecoveryClick={onRecoveryClick}\n        />\n      }\n      chart={\n        showChart ? (\n          <ChartContainer\n            model={model}\n            autoWidth={setWidth}\n            detailPopoverSize={detailPopoverSize}\n            detailPopoverFooter={detailPopoverFooter}\n            xTitle={xTitle}\n            yTitle={yTitle}\n            xTickFormatter={xTickFormatter}\n            yTickFormatter={yTickFormatter}\n            detailTotalFormatter={detailTotalFormatter}\n            ariaLabel={ariaLabel}\n            ariaLabelledby={ariaLabelledby}\n            ariaDescription={ariaDescription}\n            i18nStrings={i18nStrings}\n            fitHeight={fitHeight}\n            minHeight={height}\n          />\n        ) : null\n      }\n      legend={\n        showLegend ? (\n          <AreaChartLegend\n            plotContainerRef={containerRef}\n            model={model}\n            legendTitle={legendTitle}\n            ariaLabel={i18nStrings.legendAriaLabel}\n          />\n        ) : null\n      }\n      onBlur={onBlur}\n    />\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback, useEffect } from 'react';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../../internal/events';\nimport { useControllable } from '../../internal/hooks/use-controllable';\nimport { AreaChartProps } from '../interfaces';\n\ntype FilterProps<T> = [readonly AreaChartProps.Series<T>[], (series: readonly AreaChartProps.Series<T>[]) => void];\n\n// Provides controlled or uncontrolled props to filter chart series.\nexport default function useFilterProps<T>(\n  series: readonly AreaChartProps.Series<T>[],\n  controlledVisibleSeries?: readonly AreaChartProps.Series<T>[],\n  controlledOnVisibleChange?: NonCancelableEventHandler<AreaChartProps.FilterChangeDetail<T>>\n): FilterProps<T> {\n  const [visibleSeries = [], setVisibleSeriesState] = useControllable(\n    controlledVisibleSeries,\n    controlledOnVisibleChange,\n    series,\n    {\n      componentName: 'AreaChart',\n      controlledProp: 'visibleSeries',\n      changeHandler: 'onFilterChange',\n    }\n  );\n\n  const setVisibleSeries = useCallback(\n    (selectedSeries: readonly AreaChartProps.Series<T>[]) => {\n      setVisibleSeriesState(selectedSeries);\n      fireNonCancelableEvent(controlledOnVisibleChange, { visibleSeries: selectedSeries });\n    },\n    [controlledOnVisibleChange, setVisibleSeriesState]\n  );\n\n  // Reset filter if series change.\n  useEffect(() => {\n    const newVisibleSeries = visibleSeries.filter(s => series.indexOf(s) !== -1);\n\n    if (newVisibleSeries.length !== visibleSeries.length) {\n      setVisibleSeries(newVisibleSeries);\n    }\n  }, [series, visibleSeries, setVisibleSeries]);\n\n  return [visibleSeries, setVisibleSeries];\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback, useEffect } from 'react';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../../internal/events';\nimport { useControllable } from '../../internal/hooks/use-controllable';\nimport { AreaChartProps } from '../interfaces';\n\ntype HighlightProps<T> = [null | AreaChartProps.Series<T>, (s: null | AreaChartProps.Series<T>) => void];\n\n// Provides controlled or uncontrolled props to highlight chart elements.\nexport default function useHighlightProps<T>(\n  series: readonly AreaChartProps.Series<T>[],\n  controlledHighlightedSeries?: null | AreaChartProps.Series<T>,\n  controlledOnHighlightChange?: NonCancelableEventHandler<AreaChartProps.HighlightChangeDetail<T>>\n): HighlightProps<T> {\n  const [highlightedSeries = null, setHighlightedSeries] = useControllable(\n    controlledHighlightedSeries,\n    controlledOnHighlightChange,\n    null,\n    {\n      componentName: 'AreaChart',\n      controlledProp: 'highlightedSeries',\n      changeHandler: 'onHighlightChange',\n    }\n  );\n\n  const notifyHighlightedSeries = useCallback(\n    (s: null | AreaChartProps.Series<T>) => {\n      fireNonCancelableEvent(controlledOnHighlightChange, { highlightedSeries: s });\n    },\n    [controlledOnHighlightChange]\n  );\n\n  // Reset highlights if series change.\n  useEffect(() => {\n    if (controlledHighlightedSeries) {\n      const highlightedSeriesIndex = series.indexOf(controlledHighlightedSeries);\n\n      if (highlightedSeriesIndex === -1) {\n        setHighlightedSeries(null);\n        notifyHighlightedSeries(null);\n      }\n    }\n  }, [series, controlledHighlightedSeries, setHighlightedSeries, notifyHighlightedSeries]);\n\n  return [highlightedSeries, notifyHighlightedSeries];\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\n\nimport { AreaChartProps } from './interfaces';\nimport InternalAreaChart from './internal';\nimport useBaseComponent from '../internal/hooks/use-base-component';\n\nexport { AreaChartProps };\n\nfunction AreaChart<T extends AreaChartProps.DataTypes>({\n  height = 500,\n  xScaleType = 'linear',\n  yScaleType = 'linear',\n  statusType = 'finished',\n  detailPopoverSize = 'medium',\n  i18nStrings = {},\n  ...props\n}: AreaChartProps<T>) {\n  const baseComponentProps = useBaseComponent('AreaChart', {\n    props: {\n      detailPopoverSize,\n      hideLegend: props.hideLegend,\n      hideFilter: props.hideFilter,\n      fitHeight: props.fitHeight,\n      xScaleType,\n      yScaleType,\n    },\n  });\n  return (\n    <InternalAreaChart\n      height={height}\n      xScaleType={xScaleType}\n      yScaleType={yScaleType}\n      statusType={statusType}\n      detailPopoverSize={detailPopoverSize}\n      i18nStrings={i18nStrings}\n      {...props}\n      {...baseComponentProps}\n    />\n  );\n}\n\napplyDisplayName(AreaChart, 'AreaChart');\n\nexport default AreaChart;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport InternalColumnLayout from './internal';\nimport { getExternalProps } from '../internal/utils/external-props';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { ColumnLayoutProps } from './interfaces';\n\nexport { ColumnLayoutProps };\n\nexport default function ColumnLayout({\n  columns = 1,\n  variant = 'default',\n  borders = 'none',\n  disableGutters = false,\n  ...props\n}: ColumnLayoutProps) {\n  const baseComponentProps = useBaseComponent('ColumnLayout', {\n    props: { borders, columns, disableGutters, minColumnWidth: props.minColumnWidth, variant },\n  });\n  const externalProps = getExternalProps(props);\n  return (\n    <InternalColumnLayout\n      columns={columns}\n      variant={variant}\n      borders={borders}\n      disableGutters={disableGutters}\n      {...externalProps}\n      {...baseComponentProps}\n    />\n  );\n}\n\napplyDisplayName(ColumnLayout, 'ColumnLayout');\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState } from 'react';\n\nimport Option from '../internal/components/option';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport checkControlled from '../internal/hooks/check-controlled';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\n\nimport { TokenGroupProps } from './interfaces';\nimport { SomeRequired } from '../internal/types';\nimport { getBaseProps } from '../internal/base-component';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport TokenList from '../internal/components/token-list';\nimport { Token } from './token';\n\ntype InternalTokenGroupProps = SomeRequired<TokenGroupProps, 'items' | 'alignment'> & InternalBaseComponentProps;\n\nexport default function InternalTokenGroup({\n  alignment,\n  items,\n  onDismiss,\n  limit,\n  i18nStrings,\n  disableOuterPadding,\n  limitShowFewerAriaLabel,\n  limitShowMoreAriaLabel,\n  __internalRootRef,\n  ...props\n}: InternalTokenGroupProps) {\n  checkControlled('TokenGroup', 'items', items, 'onDismiss', onDismiss);\n\n  const [removedItemIndex, setRemovedItemIndex] = useState<null | number>(null);\n\n  const baseProps = getBaseProps(props);\n  const hasItems = items.length > 0;\n  return (\n    <div\n      {...baseProps}\n      className={clsx(\n        baseProps.className,\n        styles.root,\n        hasItems && styles['has-items'],\n        disableOuterPadding && styles['no-padding']\n      )}\n      ref={__internalRootRef}\n    >\n      <TokenList\n        alignment={alignment}\n        items={items}\n        limit={limit}\n        renderItem={(item, itemIndex) => (\n          <Token\n            ariaLabel={item.label}\n            dismissLabel={item.dismissLabel}\n            onDismiss={() => {\n              fireNonCancelableEvent(onDismiss, { itemIndex });\n              setRemovedItemIndex(itemIndex);\n            }}\n            disabled={item.disabled}\n          >\n            <Option option={item} isGenericGroup={false} />\n          </Token>\n        )}\n        i18nStrings={i18nStrings}\n        limitShowFewerAriaLabel={limitShowFewerAriaLabel}\n        limitShowMoreAriaLabel={limitShowMoreAriaLabel}\n        moveFocusNextToIndex={removedItemIndex}\n        onExpandedClick={isExpanded => {\n          if (isExpanded && limit) {\n            setRemovedItemIndex(limit);\n          } else {\n            setRemovedItemIndex(null);\n          }\n        }}\n      />\n    </div>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_f8g6q_1i4ll_97\",\n  \"tokens\": \"awsui_tokens_f8g6q_1i4ll_132\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\n\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component/index.js';\nimport { useFormFieldContext } from '../internal/context/form-field-context';\nimport { getBaseProps } from '../internal/base-component';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { isGroup } from '../internal/components/option/utils/filter-options';\n\nimport DropdownFooter from '../internal/components/dropdown-footer/index.js';\nimport { prepareOptions } from '../internal/components/option/utils/prepare-options';\nimport { OptionDefinition, OptionGroup } from '../internal/components/option/interfaces';\nimport Dropdown from '../internal/components/dropdown';\nimport { useDropdownStatus } from '../internal/components/dropdown-status';\n\nimport { useSelect, MenuProps } from '../select/utils/use-select';\nimport { useNativeSearch } from '../select/utils/use-native-search';\nimport { useLoadItems } from '../select/utils/use-load-items';\nimport { useAnnouncement } from '../select/utils/use-announcement';\nimport { findOptionIndex } from '../select/utils/connect-options';\nimport PlainList, { SelectListProps } from '../select/parts/plain-list';\nimport VirtualList from '../select/parts/virtual-list';\nimport { checkOptionValueField } from '../select/utils/check-option-value-field.js';\nimport Filter from '../select/parts/filter';\nimport Trigger from '../select/parts/trigger';\n\nimport InternalTokenGroup from '../token-group/internal';\nimport { TokenGroupProps } from '../token-group/interfaces';\n\nimport { MultiselectProps } from './interfaces';\nimport styles from './styles.css.js';\nimport ScreenreaderOnly from '../internal/components/screenreader-only';\nimport { joinStrings } from '../internal/utils/strings';\nimport { useInternalI18n } from '../i18n/context';\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\ntype InternalMultiselectProps = MultiselectProps & InternalBaseComponentProps & { inlineTokens?: boolean };\n\nconst InternalMultiselect = React.forwardRef(\n  (\n    {\n      options = [],\n      filteringType = 'none',\n      filteringPlaceholder,\n      filteringAriaLabel,\n      filteringClearAriaLabel,\n      filteringResultsText,\n      ariaRequired,\n      placeholder,\n      disabled,\n      ariaLabel,\n      statusType = 'finished',\n      empty,\n      loadingText,\n      finishedText,\n      errorText,\n      noMatch,\n      renderHighlightedAriaLive,\n      selectedOptions = [],\n      deselectAriaLabel,\n      keepOpen = true,\n      tokenLimit,\n      i18nStrings,\n      onBlur,\n      onFocus,\n      onLoadItems,\n      onChange,\n      virtualScroll,\n      inlineTokens = false,\n      hideTokens = false,\n      expandToViewport,\n      tokenLimitShowFewerAriaLabel,\n      tokenLimitShowMoreAriaLabel,\n      __internalRootRef = null,\n      autoFocus,\n      ...restProps\n    }: InternalMultiselectProps,\n    externalRef: React.Ref<MultiselectProps.Ref>\n  ) => {\n    checkOptionValueField('Multiselect', 'options', options);\n\n    const baseProps = getBaseProps(restProps);\n    const formFieldContext = useFormFieldContext(restProps);\n    const i18n = useInternalI18n('multiselect');\n\n    const i18nCommon = useInternalI18n('select');\n    const recoveryText = i18nCommon('recoveryText', restProps.recoveryText);\n    const errorIconAriaLabel = i18nCommon('errorIconAriaLabel', restProps.errorIconAriaLabel);\n    const selectedAriaLabel = i18nCommon('selectedAriaLabel', restProps.selectedAriaLabel);\n\n    if (restProps.recoveryText && !onLoadItems) {\n      warnOnce('Multiselect', '`onLoadItems` must be provided for `recoveryText` to be displayed.');\n    }\n\n    const { handleLoadMore, handleRecoveryClick, fireLoadItems } = useLoadItems({\n      onLoadItems,\n      options,\n      statusType,\n    });\n    const useInteractiveGroups = true;\n    const [filteringValue, setFilteringValue] = useState('');\n    const { filteredOptions, parentMap, totalCount, matchesCount } = prepareOptions(\n      options,\n      filteringType,\n      filteringValue\n    );\n\n    const updateSelectedOption = useCallback(\n      (option: OptionDefinition | OptionGroup) => {\n        const filtered = filteredOptions.filter(item => item.type !== 'parent').map(item => item.option);\n\n        // switch between selection and deselection behavior, ignores disabled options to prevent\n        // getting stuck on one behavior when an option is disabled and its state cannot be changed\n        const isAllChildrenSelected = (optionsArray: OptionDefinition[]) =>\n          optionsArray.every(item => findOptionIndex(selectedOptions, item) > -1 || item.disabled);\n        const intersection = (visibleOptions: OptionDefinition[], options: OptionDefinition[]) =>\n          visibleOptions.filter(item => findOptionIndex(options, item) > -1 && !item.disabled);\n        const union = (visibleOptions: OptionDefinition[], options: OptionDefinition[]) =>\n          visibleOptions.filter(item => findOptionIndex(options, item) === -1).concat(options);\n        const select = (options: OptionDefinition[], selectedOptions: OptionDefinition[]) => {\n          return union(selectedOptions, options);\n        };\n        const unselect = (options: OptionDefinition[], selectedOptions: OptionDefinition[]) => {\n          return selectedOptions.filter(option => findOptionIndex(options, option) === -1);\n        };\n        let newSelectedOptions = [...selectedOptions];\n\n        if (isGroup(option)) {\n          const visibleOptions = intersection([...option.options], filtered);\n          newSelectedOptions = isAllChildrenSelected(visibleOptions)\n            ? unselect(visibleOptions, newSelectedOptions)\n            : select(visibleOptions, newSelectedOptions);\n        } else {\n          newSelectedOptions = isAllChildrenSelected([option])\n            ? unselect([option], newSelectedOptions)\n            : select([option], newSelectedOptions);\n        }\n\n        fireNonCancelableEvent(onChange, {\n          selectedOptions: newSelectedOptions,\n        });\n      },\n      [onChange, selectedOptions, filteredOptions]\n    );\n\n    const rootRef = useRef<HTMLDivElement>(null);\n\n    const selfControlId = useUniqueId('trigger');\n    const controlId = formFieldContext.controlId ?? selfControlId;\n\n    const multiSelectAriaLabelId = useUniqueId('multiselect-arialabel-');\n\n    const footerId = useUniqueId('footer');\n\n    const scrollToIndex = useRef<SelectListProps.SelectListRef>(null);\n    const {\n      isOpen,\n      highlightType,\n      highlightedOption,\n      highlightedIndex,\n      getTriggerProps,\n      getDropdownProps,\n      getFilterProps,\n      getMenuProps,\n      getOptionProps,\n      highlightOption,\n      announceSelected,\n    } = useSelect({\n      selectedOptions,\n      updateSelectedOption,\n      options: filteredOptions,\n      filteringType,\n      onFocus,\n      onBlur,\n      externalRef,\n      keepOpen,\n      fireLoadItems,\n      setFilteringValue,\n      useInteractiveGroups,\n      statusType,\n    });\n\n    const handleNativeSearch = useNativeSearch({\n      isEnabled: filteringType === 'none' && isOpen,\n      options: filteredOptions,\n      highlightOption: highlightOption,\n      highlightedOption: highlightedOption?.option,\n      useInteractiveGroups,\n    });\n\n    const isEmpty = !options || options.length === 0;\n    const isNoMatch = filteredOptions && filteredOptions.length === 0;\n    const isFiltered =\n      filteringType !== 'none' && filteringValue.length > 0 && filteredOptions && filteredOptions.length > 0;\n    const filteredText = isFiltered ? filteringResultsText?.(matchesCount, totalCount) : undefined;\n    const dropdownStatus = useDropdownStatus({\n      statusType,\n      empty,\n      loadingText,\n      finishedText,\n      errorText,\n      recoveryText,\n      isEmpty,\n      isNoMatch,\n      noMatch,\n      isFiltered,\n      filteringResultsText: filteredText,\n      onRecoveryClick: handleRecoveryClick,\n      errorIconAriaLabel: errorIconAriaLabel,\n      hasRecoveryCallback: !!onLoadItems,\n    });\n\n    const filter = (\n      <Filter\n        clearAriaLabel={filteringClearAriaLabel}\n        filteringType={filteringType}\n        placeholder={filteringPlaceholder}\n        ariaLabel={filteringAriaLabel}\n        ariaRequired={ariaRequired}\n        value={filteringValue}\n        {...getFilterProps()}\n      />\n    );\n\n    const trigger = (\n      <Trigger\n        placeholder={placeholder}\n        disabled={disabled}\n        triggerProps={getTriggerProps(disabled, autoFocus)}\n        selectedOption={null}\n        selectedOptions={selectedOptions}\n        triggerVariant={inlineTokens ? 'tokens' : 'placeholder'}\n        isOpen={isOpen}\n        {...formFieldContext}\n        controlId={controlId}\n        ariaLabelledby={joinStrings(formFieldContext.ariaLabelledby, multiSelectAriaLabelId)}\n      />\n    );\n\n    const menuProps: MenuProps = {\n      ...getMenuProps(),\n      onLoadMore: handleLoadMore,\n      ariaLabelledby: joinStrings(multiSelectAriaLabelId, controlId),\n      ariaDescribedby: dropdownStatus.content ? footerId : undefined,\n    };\n\n    const announcement = useAnnouncement({\n      announceSelected,\n      highlightedOption,\n      getParent: option => parentMap.get(option)?.option as undefined | OptionGroup,\n      selectedAriaLabel,\n      renderHighlightedAriaLive,\n    });\n\n    const tokens: TokenGroupProps['items'] = selectedOptions.map(option => ({\n      label: option.label,\n      disabled: disabled || option.disabled,\n      labelTag: option.labelTag,\n      description: option.description,\n      iconAlt: option.iconAlt,\n      iconName: option.iconName,\n      iconUrl: option.iconUrl,\n      iconSvg: option.iconSvg,\n      tags: option.tags,\n      dismissLabel: i18n('deselectAriaLabel', deselectAriaLabel?.(option), format =>\n        format({ option__label: option.label ?? '' })\n      ),\n    }));\n\n    useEffect(() => {\n      scrollToIndex.current?.(highlightedIndex);\n    }, [highlightedIndex]);\n\n    const ListComponent = virtualScroll ? VirtualList : PlainList;\n\n    const handleMouseDown = (event: React.MouseEvent) => {\n      const target = event.target as HTMLElement;\n\n      if (target !== document.activeElement) {\n        // prevent currently focused element from losing it\n        event.preventDefault();\n      }\n    };\n\n    const showTokens = !hideTokens && !inlineTokens && tokens.length > 0;\n    const handleTokenDismiss: TokenGroupProps['onDismiss'] = ({ detail }) => {\n      const optionToDeselect = selectedOptions[detail.itemIndex];\n      updateSelectedOption(optionToDeselect);\n      const targetRef = getTriggerProps().ref;\n      if (targetRef.current) {\n        targetRef.current.focus();\n      }\n    };\n\n    const tokenGroupI18nStrings: TokenGroupProps.I18nStrings = {\n      limitShowFewer: i18nStrings?.tokenLimitShowFewer,\n      limitShowMore: i18nStrings?.tokenLimitShowMore,\n    };\n\n    const mergedRef = useMergeRefs(rootRef, __internalRootRef);\n\n    const dropdownProps = getDropdownProps();\n\n    return (\n      <div\n        {...baseProps}\n        ref={mergedRef}\n        className={clsx(styles.root, baseProps.className)}\n        onKeyPress={handleNativeSearch}\n      >\n        <Dropdown\n          {...dropdownProps}\n          ariaLabelledby={\n            dropdownProps.dropdownContentRole ? joinStrings(multiSelectAriaLabelId, controlId) : undefined\n          }\n          ariaDescribedby={\n            dropdownProps.dropdownContentRole ? (dropdownStatus.content ? footerId : undefined) : undefined\n          }\n          open={isOpen}\n          trigger={trigger}\n          header={filter}\n          onMouseDown={handleMouseDown}\n          footer={\n            dropdownStatus.isSticky ? (\n              <DropdownFooter content={isOpen ? dropdownStatus.content : null} id={footerId} />\n            ) : null\n          }\n          expandToViewport={expandToViewport}\n          stretchBeyondTriggerWidth={true}\n        >\n          <ListComponent\n            listBottom={\n              !dropdownStatus.isSticky ? (\n                <DropdownFooter content={isOpen ? dropdownStatus.content : null} id={footerId} />\n              ) : null\n            }\n            menuProps={menuProps}\n            getOptionProps={getOptionProps}\n            filteredOptions={filteredOptions}\n            filteringValue={filteringValue}\n            ref={scrollToIndex}\n            hasDropdownStatus={dropdownStatus.content !== null}\n            checkboxes={true}\n            useInteractiveGroups={useInteractiveGroups}\n            screenReaderContent={announcement}\n            highlightType={highlightType}\n          />\n        </Dropdown>\n        {showTokens && (\n          <InternalTokenGroup\n            className={styles.tokens}\n            alignment=\"horizontal\"\n            limit={tokenLimit}\n            items={tokens}\n            onDismiss={handleTokenDismiss}\n            i18nStrings={tokenGroupI18nStrings}\n            limitShowMoreAriaLabel={tokenLimitShowMoreAriaLabel}\n            limitShowFewerAriaLabel={tokenLimitShowFewerAriaLabel}\n            disableOuterPadding={true}\n          />\n        )}\n        <ScreenreaderOnly id={multiSelectAriaLabelId}>{ariaLabel}</ScreenreaderOnly>\n      </div>\n    );\n  }\n);\n\nexport default InternalMultiselect;\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1px7g_4rwm1_97\",\n  \"chart-filter\": \"awsui_chart-filter_1px7g_4rwm1_132\",\n  \"custom-icon-wrapper\": \"awsui_custom-icon-wrapper_1px7g_4rwm1_136\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useCallback, memo } from 'react';\n\nimport { NonCancelableEventHandler } from '../../events';\nimport InternalFormField from '../../../form-field/internal';\nimport InternalMultiselect from '../../../multiselect/internal';\nimport { BaseComponentProps, getBaseProps } from '../../base-component';\nimport { MultiselectProps } from '../../../multiselect/interfaces';\nimport SeriesMarker, { ChartSeriesMarkerType } from '../chart-series-marker';\nimport { useInternalI18n } from '../../../i18n/context';\n\nimport styles from './styles.css.js';\n\ninterface I18nStrings {\n  filterLabel?: string;\n  filterPlaceholder?: string;\n  filterSelectedAriaLabel?: string;\n}\n\nexport interface ChartFilterItem<T> {\n  label: string;\n  color: string;\n  type: ChartSeriesMarkerType;\n  datum: T;\n}\n\nexport interface ChartFilterProps<T> extends BaseComponentProps {\n  series: ReadonlyArray<ChartFilterItem<T>>;\n  selectedSeries?: ReadonlyArray<T>;\n  onChange: (selectedSeries: ReadonlyArray<T>) => void;\n  i18nStrings?: I18nStrings;\n}\n\nexport default memo(ChartFilter) as typeof ChartFilter;\n\nfunction ChartFilter<T>({ series, i18nStrings, selectedSeries, onChange, ...restProps }: ChartFilterProps<T>) {\n  const baseProps = getBaseProps(restProps);\n  const className = clsx(baseProps.className, styles.root);\n  const i18n = useInternalI18n('[charts]');\n\n  const defaultOptions = series.map((d, i) => ({\n    label: d.label,\n    value: '' + i,\n    datum: d.datum,\n    __customIcon: (\n      <span className={styles['custom-icon-wrapper']}>\n        <SeriesMarker color={d.color} type={d.type} />\n      </span>\n    ),\n  }));\n\n  const selectedOptions = defaultOptions.filter(option => selectedSeries?.indexOf(option.datum) !== -1);\n\n  const updateSelection = useCallback<NonCancelableEventHandler<MultiselectProps.MultiselectChangeDetail>>(\n    ({ detail: { selectedOptions } }) => {\n      const selectedSeries = defaultOptions\n        .filter(option => selectedOptions.indexOf(option) !== -1)\n        .map(option => option.datum);\n      onChange(selectedSeries);\n    },\n    [onChange, defaultOptions]\n  );\n\n  return (\n    <InternalFormField\n      {...baseProps}\n      label={i18n('i18nStrings.filterLabel', i18nStrings?.filterLabel)}\n      className={className}\n    >\n      <InternalMultiselect\n        placeholder={i18n('i18nStrings.filterPlaceholder', i18nStrings?.filterPlaceholder)}\n        options={defaultOptions}\n        selectedOptions={selectedOptions}\n        onChange={updateSelection}\n        className={styles['chart-filter']}\n        selectedAriaLabel={i18nStrings?.filterSelectedAriaLabel}\n        hideTokens={true}\n      />\n    </InternalFormField>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"marker\": \"awsui_marker_1kjc7_xlzpw_97\",\n  \"root\": \"awsui_root_1kjc7_xlzpw_115\",\n  \"title\": \"awsui_title_1kjc7_xlzpw_153\",\n  \"list\": \"awsui_list_1kjc7_xlzpw_157\",\n  \"marker--dimmed\": \"awsui_marker--dimmed_1kjc7_xlzpw_206\",\n  \"marker--highlighted\": \"awsui_marker--highlighted_1kjc7_xlzpw_209\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useRef, memo } from 'react';\n\nimport InternalBox from '../../../box/internal';\nimport { KeyCode } from '../../keycode';\nimport SeriesMarker, { ChartSeriesMarkerType } from '../chart-series-marker';\nimport styles from './styles.css.js';\nimport { useInternalI18n } from '../../../i18n/context';\nimport handleKey from '../../utils/handle-key';\n\nexport interface ChartLegendItem<T> {\n  label: string;\n  color: string;\n  type: ChartSeriesMarkerType;\n  datum: T;\n}\n\nexport interface ChartLegendProps<T> {\n  series: ReadonlyArray<ChartLegendItem<T>>;\n  highlightedSeries: T | null;\n  legendTitle?: string;\n  ariaLabel?: string;\n  plotContainerRef?: React.RefObject<HTMLDivElement>;\n  onHighlightChange: (series: T | null) => void;\n}\n\nexport default memo(ChartLegend) as typeof ChartLegend;\n\nfunction ChartLegend<T>({\n  series,\n  onHighlightChange,\n  highlightedSeries,\n  legendTitle,\n  ariaLabel,\n  plotContainerRef,\n}: ChartLegendProps<T>) {\n  const i18n = useInternalI18n('[charts]');\n  const containerRef = useRef<HTMLDivElement>(null);\n  const segmentsRef = useRef<Record<number, HTMLElement>>([]);\n\n  const highlightedSeriesIndex = findSeriesIndex(series, highlightedSeries);\n\n  const highlightInlineStart = () => {\n    const currentIndex = highlightedSeriesIndex ?? 0;\n    const nextIndex = currentIndex - 1 >= 0 ? currentIndex - 1 : series.length - 1;\n    segmentsRef.current[nextIndex]?.focus();\n  };\n\n  const highlightInlineEnd = () => {\n    const currentIndex = highlightedSeriesIndex ?? 0;\n    const nextIndex = currentIndex + 1 < series.length ? currentIndex + 1 : 0;\n    segmentsRef.current[nextIndex]?.focus();\n  };\n\n  const handleKeyPress = (event: React.KeyboardEvent<HTMLElement>) => {\n    if (event.keyCode === KeyCode.right || event.keyCode === KeyCode.left) {\n      // Preventing default fixes an issue in Safari+VO when VO additionally interprets arrow keys as its commands.\n      event.preventDefault();\n\n      handleKey(event, {\n        onInlineStart: () => highlightInlineStart(),\n        onInlineEnd: () => highlightInlineEnd(),\n      });\n    }\n  };\n\n  const handleSelection = (index: number) => {\n    if (series[index].datum !== highlightedSeries) {\n      onHighlightChange(series[index].datum);\n    }\n  };\n\n  const handleBlur = (event: React.FocusEvent<Element>) => {\n    // We need to check if the next element to be focused inside the plot container or not\n    // so we don't clear the selected legend in case we are still focusing elements ( legend elements )\n    // inside the plot container\n    if (\n      event.relatedTarget === null ||\n      (containerRef.current &&\n        !containerRef.current.contains(event.relatedTarget) &&\n        !plotContainerRef?.current?.contains(event.relatedTarget))\n    ) {\n      onHighlightChange(null);\n    }\n  };\n\n  const handleMouseOver = (s: T) => {\n    if (s !== highlightedSeries) {\n      onHighlightChange(s);\n    }\n  };\n\n  const handleMouseLeave = () => {\n    onHighlightChange(null);\n  };\n\n  return (\n    <>\n      <div\n        ref={containerRef}\n        role=\"toolbar\"\n        aria-label={legendTitle || i18n('i18nStrings.legendAriaLabel', ariaLabel)}\n        className={styles.root}\n        onKeyDown={handleKeyPress}\n        onBlur={handleBlur}\n      >\n        {legendTitle && (\n          <InternalBox fontWeight=\"bold\" className={styles.title}>\n            {legendTitle}\n          </InternalBox>\n        )}\n\n        <div className={styles.list}>\n          {series.map((s, index) => {\n            const someHighlighted = highlightedSeries !== null;\n            const isHighlighted = highlightedSeries === s.datum;\n            const isDimmed = someHighlighted && !isHighlighted;\n            return (\n              <div\n                role=\"button\"\n                key={index}\n                aria-pressed={isHighlighted}\n                className={clsx(styles.marker, {\n                  [styles['marker--dimmed']]: isDimmed,\n                  [styles['marker--highlighted']]: isHighlighted,\n                })}\n                ref={elem => {\n                  if (elem) {\n                    segmentsRef.current[index] = elem;\n                  } else {\n                    delete segmentsRef.current[index];\n                  }\n                }}\n                tabIndex={\n                  index === highlightedSeriesIndex || (highlightedSeriesIndex === undefined && index === 0) ? 0 : -1\n                }\n                onFocus={() => handleSelection(index)}\n                onClick={() => handleSelection(index)}\n                onMouseOver={() => handleMouseOver(s.datum)}\n                onMouseLeave={handleMouseLeave}\n              >\n                <SeriesMarker color={s.color} type={s.type} /> {s.label}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </>\n  );\n}\n\nfunction findSeriesIndex<T>(series: ReadonlyArray<ChartLegendItem<T>>, targetSeries: null | T): undefined | number {\n  for (let index = 0; index < series.length; index++) {\n    if (series[index].datum === targetSeries) {\n      return index;\n    }\n  }\n  return undefined;\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1fcus_1ncqp_97\",\n  \"clickable\": \"awsui_clickable_1fcus_1ncqp_106\",\n  \"precise\": \"awsui_precise_1fcus_1ncqp_110\",\n  \"focus-outline\": \"awsui_focus-outline_1fcus_1ncqp_114\",\n  \"application\": \"awsui_application_1fcus_1ncqp_123\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, useCallback, useEffect, useImperativeHandle, useRef, useState } from 'react';\nimport styles from './styles.css.js';\n\nexport interface ApplicationRef {\n  focus(): void;\n}\n\nexport interface ApplicationControllerProps {\n  activeElementKey: null | string | number | boolean;\n  activeElementRef?: React.RefObject<SVGGElement>;\n  onFocus?: (event: React.FocusEvent<SVGGElement>) => void;\n  onBlur?: (event: React.FocusEvent<SVGGElement>) => void;\n  onKeyDown?: (event: React.KeyboardEvent<SVGGElement>) => void;\n}\n\nexport default forwardRef(ApplicationController);\n\nfunction ApplicationController(\n  { activeElementKey, activeElementRef, onFocus, onBlur, onKeyDown }: ApplicationControllerProps,\n  ref: React.Ref<ApplicationRef>\n) {\n  const containerRef = useRef<SVGGElement>(null);\n  const applicationRef = useRef<SVGGElement>(null);\n  const focusTransitionRef = useRef(false);\n  const [isFocused, setFocused] = useState(false);\n\n  // Calls provided onFocus handler when the application obtains focus, ignoring internal focus juggling.\n  const onApplicationFocus = useCallback(\n    (event: React.FocusEvent<SVGGElement>) => {\n      if (focusTransitionRef.current === false) {\n        setFocused(true);\n        onFocus && onFocus(event);\n      } else {\n        focusTransitionRef.current = false;\n      }\n    },\n    [onFocus]\n  );\n  // Calls provided onBlur handler when the application loses focus, ignoring internal focus juggling.\n  const onApplicationBlur = useCallback(\n    (event: React.FocusEvent<SVGGElement>) => {\n      if (focusTransitionRef.current === false) {\n        setFocused(false);\n        onBlur && onBlur(event);\n        // The application controller can only be focused programmatically.\n        muteApplication(applicationRef.current!);\n      }\n    },\n    [onBlur]\n  );\n  const onApplicationKeyDown = onKeyDown;\n\n  useImperativeHandle(\n    ref,\n    () => ({\n      focus: () => focusApplication(applicationRef.current!, activeElementRef?.current || null),\n    }),\n    [activeElementRef]\n  );\n\n  // Re-attaches and re-focuses the application for screen readers to treat it as an update.\n  useEffect(() => {\n    // Skip if not focused or if the transition is already happening.\n    if (!isFocused || focusTransitionRef.current === true) {\n      return;\n    }\n    focusTransitionRef.current = true;\n    containerRef.current!.removeChild(applicationRef.current!);\n    containerRef.current!.appendChild(applicationRef.current!);\n    focusApplication(applicationRef.current!, activeElementRef?.current || null);\n  }, [isFocused, activeElementKey, activeElementRef]);\n\n  return (\n    <g ref={containerRef}>\n      <g\n        tabIndex={-1}\n        ref={applicationRef}\n        onFocus={onApplicationFocus}\n        onBlur={onApplicationBlur}\n        onKeyDown={onApplicationKeyDown}\n        className={styles.application}\n      ></g>\n    </g>\n  );\n}\n\n// Focuses application but before copies aria-attributes from the target.\nfunction focusApplication(app: SVGGElement, target: null | SVGGElement) {\n  // Remove prev attributes.\n  for (const attributeName of app.getAttributeNames()) {\n    if (attributeName === 'role' || attributeName.slice(0, 4) === 'aria') {\n      app.removeAttribute(attributeName);\n    }\n  }\n\n  // Copy new attributes.\n  if (target) {\n    for (const attributeName of target.getAttributeNames()) {\n      if (attributeName === 'role' || attributeName.slice(0, 4) === 'aria') {\n        const attributeValue = target.getAttribute(attributeName);\n        attributeValue && app.setAttribute(attributeName, attributeValue);\n      }\n    }\n  }\n\n  // Make app focusable.\n  app.tabIndex = 0;\n  app.setAttribute('focusable', 'true');\n  app.setAttribute('aria-hidden', 'false');\n\n  // Focus app.\n  app.focus({ preventScroll: true });\n}\n\n// The application is to be only focused programmatically.\nfunction muteApplication(app: SVGGElement) {\n  // Remove prev attributes.\n  for (const attributeName of app.getAttributeNames()) {\n    if (attributeName === 'role' || attributeName.slice(0, 4) === 'aria') {\n      app.removeAttribute(attributeName);\n    }\n  }\n\n  // Make app non-focusable.\n  app.tabIndex = -1;\n  app.setAttribute('focusable', 'false');\n  app.setAttribute('aria-hidden', 'true');\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport styles from './styles.css.js';\nimport { Offset } from '../interfaces';\nimport { isModifierKey } from '../../hooks/focus-visible';\n\nexport interface FocusOutlineProps {\n  elementKey?: null | string | number | boolean;\n  elementRef?: React.RefObject<SVGSVGElement | SVGGElement>;\n  offset?: Offset;\n}\n\nfunction useFocusVisibleState() {\n  const [focusVisible, setFocusVisible] = useState(false);\n  useEffect(() => {\n    function handleMousedown() {\n      return setFocusVisible(false);\n    }\n\n    function handleKeydown(event: KeyboardEvent) {\n      // we do not want to highlight focused element\n      // when special keys are pressed\n      if (!isModifierKey(event)) {\n        setFocusVisible(true);\n      }\n    }\n\n    document.addEventListener('mousedown', handleMousedown);\n    document.addEventListener('keydown', handleKeydown);\n    return () => {\n      document.removeEventListener('mousedown', handleMousedown);\n      document.removeEventListener('keydown', handleKeydown);\n    };\n  });\n\n  return focusVisible;\n}\n\nexport default function FocusOutline({ elementKey, elementRef, offset = 0 }: FocusOutlineProps) {\n  const ref = useRef<SVGRectElement>(null);\n  const focusVisible = useFocusVisibleState();\n\n  useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n\n    if (focusVisible && elementKey && elementRef && elementRef.current && elementRef.current.getBBox) {\n      const element = elementRef.current.getBBox();\n      showOutline(ref.current, element, offset);\n    } else {\n      hideOutline(ref.current);\n    }\n  }, [focusVisible, elementKey, elementRef, offset]);\n\n  return <rect ref={ref} aria-hidden=\"true\" className={styles['focus-outline']} rx=\"2\" />;\n}\n\nfunction showOutline(\n  el: SVGRectElement,\n  position: { x: number; y: number; width: number; height: number },\n  offset: Offset\n) {\n  const offsetX = typeof offset === 'number' ? offset : offset.x;\n  const offsetY = typeof offset === 'number' ? offset : offset.y;\n  el.setAttribute('x', (position.x - offsetX).toString());\n  el.setAttribute('y', (position.y - offsetY).toString());\n  el.setAttribute('width', (position.width + 2 * offsetX).toString());\n  el.setAttribute('height', (position.height + 2 * offsetY).toString());\n  el.style.visibility = 'visible';\n}\n\nfunction hideOutline(el: SVGRectElement) {\n  el.style.visibility = 'hidden';\n  el.removeAttribute('x');\n  el.removeAttribute('y');\n  el.removeAttribute('width');\n  el.removeAttribute('height');\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, useImperativeHandle, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport styles from './styles.css.js';\nimport { useUniqueId } from '../../hooks/use-unique-id';\n\nimport { KeyCode } from '../../keycode';\nimport LiveRegion from '../live-region/index';\nimport ApplicationController, { ApplicationRef } from './application-controller';\nimport FocusOutline from './focus-outline';\nimport { Offset } from '../interfaces';\nimport { useInternalI18n } from '../../../i18n/context';\n\nconst DEFAULT_PLOT_FOCUS_OFFSET = 3;\nconst DEFAULT_ELEMENT_FOCUS_OFFSET = 3;\n\nexport interface ChartPlotRef {\n  svg: SVGSVGElement;\n  focusPlot(): void;\n  focusApplication(): void;\n}\n\nexport interface ChartPlotProps {\n  width: number | string;\n  height: number | string;\n  transform?: string;\n  offsetTop?: number;\n  offsetBottom?: number;\n  offsetLeft?: number;\n  offsetRight?: number;\n  focusOffset?: number;\n  ariaLabel?: string;\n  ariaLabelledby?: string;\n  ariaDescription?: string;\n  ariaDescribedby?: string;\n  ariaRoleDescription?: string;\n  activeElementKey?: null | string | number | boolean;\n  activeElementRef?: React.RefObject<SVGGElement>;\n  activeElementFocusOffset?: Offset;\n  ariaLiveRegion?: string;\n  isClickable?: boolean;\n  isPrecise?: boolean;\n  onClick?: (event: React.MouseEvent<SVGSVGElement>) => void;\n  onMouseMove?: (event: React.MouseEvent<SVGSVGElement>) => void;\n  onMouseOut?: (event: React.MouseEvent<SVGSVGElement>) => void;\n  onApplicationFocus?: (event: React.FocusEvent<SVGGElement>, trigger: 'mouse' | 'keyboard') => void;\n  onApplicationBlur?: (event: React.FocusEvent<SVGGElement>) => void;\n  onKeyDown?: (event: React.KeyboardEvent<SVGGElement>) => void;\n  children: React.ReactNode;\n}\n\n/**\n  An extension for the SVG to be used for charts. It includes a controller element to\n  handle the focus and keyboard interactions in a way that is supported by screen readers.\n\n  The application mimics the aria-activedescendant behavior which is unsupported by Safari. The\n  activeElementRef is the pointer to the secondary-focus element and activeElementKey denotes when\n  the focus transition was made.\n\n  Alternatively, ariaLiveRegion can be used to make announcements.\n*/\nexport default forwardRef(ChartPlot);\n\nfunction ChartPlot(\n  {\n    width,\n    height,\n    transform,\n    offsetTop,\n    offsetBottom,\n    offsetLeft,\n    offsetRight,\n    ariaLabel,\n    ariaLabelledby,\n    ariaRoleDescription,\n    ariaDescription,\n    ariaDescribedby,\n    activeElementKey,\n    activeElementRef,\n    ariaLiveRegion,\n    isClickable,\n    isPrecise,\n    children,\n    onClick,\n    onKeyDown,\n    focusOffset = DEFAULT_PLOT_FOCUS_OFFSET,\n    activeElementFocusOffset = DEFAULT_ELEMENT_FOCUS_OFFSET,\n    onMouseMove,\n    onMouseOut,\n    onApplicationBlur,\n    onApplicationFocus,\n  }: ChartPlotProps,\n  ref: React.Ref<ChartPlotRef>\n) {\n  const i18n = useInternalI18n('[charts]');\n  const svgRef = useRef<SVGSVGElement>(null);\n  const applicationRef = useRef<ApplicationRef>(null);\n  const plotClickedRef = useRef(false);\n  const [isPlotFocused, setPlotFocused] = useState(false);\n  const [isApplicationFocused, setApplicationFocused] = useState(false);\n\n  const internalDescriptionId = useUniqueId('awsui-chart-plot__description');\n  const ariaDescriptionId = [ariaDescription && internalDescriptionId, ariaDescribedby].filter(Boolean).join(' ');\n\n  useImperativeHandle(ref, () => ({\n    svg: svgRef.current!,\n    focusPlot: () => svgRef.current!.focus(),\n    focusApplication: () => applicationRef.current!.focus(),\n  }));\n\n  const onPlotMouseDown = () => {\n    // Record the click was made for the application focus handler.\n    plotClickedRef.current = true;\n  };\n  const onPlotFocus = (event: React.FocusEvent<SVGSVGElement>) => {\n    // If focused via click or an element was highlighted,\n    // focus the internal application, which will manage and show focus accordingly on its internal elements.\n    if (plotClickedRef.current || !!activeElementKey) {\n      applicationRef.current!.focus();\n    } else if (event.target === svgRef.current) {\n      // Otherwise, focus the entire plot if it was focused with the keyboard.\n      setPlotFocused(true);\n    }\n  };\n  const onPlotClick = (event: React.MouseEvent<SVGSVGElement, MouseEvent>) => {\n    onClick && onClick(event);\n  };\n  const onPlotBlur = (event: React.FocusEvent<SVGSVGElement>) => {\n    if (event.target === svgRef.current) {\n      setPlotFocused(false);\n    }\n  };\n  // Once one of the expected keys is pressed the focus is delegated to the application controller.\n  const onPlotKeyDown = (event: React.KeyboardEvent) => {\n    if (isPlotFocused) {\n      // Delegate the focus to the application if one of the expected keys was pressed.\n      const codes = [KeyCode.space, KeyCode.enter, KeyCode.up, KeyCode.left, KeyCode.right, KeyCode.down];\n      if (codes.indexOf(event.keyCode) !== -1) {\n        applicationRef.current!.focus();\n      }\n    }\n  };\n\n  const onPlotApplicationFocus = (event: React.FocusEvent<SVGGElement>) => {\n    onApplicationFocus && onApplicationFocus(event, plotClickedRef.current ? 'mouse' : 'keyboard');\n    // \"Release\" the click reference to not affect the next call of this handler.\n    plotClickedRef.current = false;\n    setApplicationFocused(true);\n  };\n  const onPlotApplicationBlur = (event: React.FocusEvent<SVGGElement>) => {\n    onApplicationBlur && onApplicationBlur(event);\n    setApplicationFocused(false);\n  };\n  const onApplicationKeyDown = onKeyDown;\n\n  const plotFocusable = !isApplicationFocused;\n  const plotTabIndex = plotFocusable ? 0 : -1;\n  const plotAria = !isApplicationFocused\n    ? {\n        'aria-label': ariaLabel,\n        'aria-labelledby': ariaLabelledby,\n        'aria-describedby': ariaDescriptionId,\n        'aria-roledescription': i18n('i18nStrings.chartAriaRoleDescription', ariaRoleDescription),\n      }\n    : {};\n\n  return (\n    <>\n      <svg\n        onMouseMove={onMouseMove}\n        onMouseOut={onMouseOut}\n        focusable={plotFocusable}\n        tabIndex={plotTabIndex}\n        role=\"application\"\n        aria-hidden=\"false\"\n        {...plotAria}\n        ref={svgRef}\n        style={{\n          width,\n          height,\n          marginTop: offsetTop,\n          marginBottom: offsetBottom,\n          marginLeft: offsetLeft,\n          marginRight: offsetRight,\n        }}\n        className={clsx(styles.root, {\n          [styles.clickable]: isClickable,\n          [styles.precise]: isPrecise,\n        })}\n        onMouseDown={onPlotMouseDown}\n        onClick={onPlotClick}\n        onFocus={onPlotFocus}\n        onBlur={onPlotBlur}\n        onKeyDown={onPlotKeyDown}\n      >\n        <FocusOutline elementRef={svgRef} elementKey={isPlotFocused} offset={focusOffset} />\n\n        <g transform={transform}>\n          <ApplicationController\n            activeElementKey={(isApplicationFocused && activeElementKey) || null}\n            activeElementRef={activeElementRef}\n            ref={applicationRef}\n            onFocus={onPlotApplicationFocus}\n            onBlur={onPlotApplicationBlur}\n            onKeyDown={onApplicationKeyDown}\n          />\n\n          {/* Only show description when plot is focusable to avoid repetition in Safari and Firefox */}\n          {ariaDescription && plotFocusable && (\n            <desc aria-hidden=\"true\" id={internalDescriptionId}>\n              {ariaDescription}\n            </desc>\n          )}\n\n          {children}\n\n          <FocusOutline\n            elementRef={activeElementRef}\n            elementKey={isApplicationFocused && activeElementKey}\n            offset={activeElementFocusOffset}\n          />\n        </g>\n      </svg>\n\n      <LiveRegion>{ariaLiveRegion}</LiveRegion>\n    </>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1t8ew_fiatb_9\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport styles from './styles.css.js';\n\nexport default function ChartPopoverFooter({ children }: { children: React.ReactNode }) {\n  return <div className={styles.root}>{children}</div>;\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1t44z_1u1ur_97\",\n  \"hover-area\": \"awsui_hover-area_1t44z_1u1ur_133\",\n  \"popover-body\": \"awsui_popover-body_1t44z_1u1ur_141\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport clsx from 'clsx';\nimport { nodeContains } from '@cloudscape-design/component-toolkit/dom';\n\nimport { getBaseProps } from '../../base-component';\n\nimport { PopoverProps } from '../../../popover/interfaces';\nimport PopoverContainer from '../../../popover/container';\nimport PopoverBody from '../../../popover/body';\nimport popoverStyles from '../../../popover/styles.css.js';\nimport { useMergeRefs } from '../../hooks/use-merge-refs';\n\nimport styles from './styles.css.js';\nimport { nodeBelongs } from '../../utils/node-belongs';\n\nexport interface ChartPopoverProps extends PopoverProps {\n  /** Title of the popover */\n  title?: React.ReactNode;\n\n  /** References the element the container is positioned against. */\n  trackRef: React.RefObject<HTMLElement | SVGElement>;\n  /**\n    Used to update the container position in case track or track position changes:\n    \n    const trackRef = useRef<Element>(null)\n    return (<>\n      <Track style={getPosition(selectedItemId)} ref={trackRef} />\n      <PopoverContainer trackRef={trackRef} trackKey={selectedItemId} .../>\n    </>)\n  */\n  trackKey?: string | number;\n\n  /** Optional container element that prevents any clicks in there from dismissing the popover */\n  container: Element | null;\n\n  /** Event that is fired when the popover is dismissed */\n  onDismiss: (outsideClick?: boolean) => void;\n\n  /** Fired when the pointer enters the hoverable area around the popover */\n  onMouseEnter?: (event: React.MouseEvent) => void;\n\n  /** Fired when the pointer leaves the hoverable area around the popover */\n  onMouseLeave?: (event: React.MouseEvent) => void;\n\n  onBlur?: (event: React.FocusEvent) => void;\n\n  /** Popover content */\n  children?: React.ReactNode;\n}\n\nexport default React.forwardRef(ChartPopover);\n\nfunction ChartPopover(\n  {\n    position = 'right',\n    size = 'medium',\n    fixedWidth = false,\n    dismissButton = false,\n    dismissAriaLabel,\n\n    children,\n\n    title,\n    trackRef,\n    trackKey,\n    onDismiss,\n    container,\n\n    onMouseEnter,\n    onMouseLeave,\n    onBlur,\n\n    ...restProps\n  }: ChartPopoverProps,\n  ref: React.Ref<HTMLElement>\n) {\n  const baseProps = getBaseProps(restProps);\n  const popoverObjectRef = useRef<HTMLDivElement | null>(null);\n\n  const popoverRef = useMergeRefs(popoverObjectRef, ref);\n\n  useEffect(() => {\n    const onDocumentClick = (event: MouseEvent) => {\n      if (\n        event.target &&\n        !nodeBelongs(popoverObjectRef.current, event.target as Element) && // click not in popover\n        !nodeContains(container, event.target as Element) // click not in segment\n      ) {\n        onDismiss(true);\n      }\n    };\n\n    document.addEventListener('mousedown', onDocumentClick, { capture: true });\n    return () => {\n      document.removeEventListener('mousedown', onDocumentClick, { capture: true });\n    };\n  }, [container, onDismiss]);\n\n  // In chart popovers, dismiss button is present when they are pinned, so both values are equivalent.\n  const isPinned = dismissButton;\n\n  return (\n    <div\n      {...baseProps}\n      className={clsx(popoverStyles.root, styles.root, baseProps.className)}\n      ref={popoverRef}\n      onMouseEnter={onMouseEnter}\n      onMouseLeave={onMouseLeave}\n      onBlur={onBlur}\n      // The tabIndex makes it so that clicking inside popover assigns this element as blur target.\n      // That is necessary in charts to ensure the blur target is within the chart and no cleanup is needed.\n      tabIndex={-1}\n    >\n      <PopoverContainer\n        size={size}\n        fixedWidth={fixedWidth}\n        position={position}\n        trackRef={trackRef}\n        trackKey={trackKey}\n        arrow={position => (\n          <div className={clsx(popoverStyles.arrow, popoverStyles[`arrow-position-${position}`])}>\n            <div className={popoverStyles['arrow-outer']} />\n            <div className={popoverStyles['arrow-inner']} />\n          </div>\n        )}\n        keepPosition={true}\n        allowVerticalOverflow={true}\n        allowScrollToFit={isPinned}\n      >\n        <div className={styles['hover-area']}>\n          <PopoverBody\n            dismissButton={dismissButton}\n            dismissAriaLabel={dismissAriaLabel}\n            header={title}\n            onDismiss={onDismiss}\n            overflowVisible=\"content\"\n            className={styles['popover-body']}\n          >\n            {children}\n          </PopoverBody>\n        </div>\n      </PopoverContainer>\n    </div>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"dimmed\": \"awsui_dimmed_10ipo_1uqhm_97\",\n  \"marker\": \"awsui_marker_10ipo_1uqhm_148\",\n  \"marker--line\": \"awsui_marker--line_10ipo_1uqhm_191\",\n  \"marker--rectangle\": \"awsui_marker--rectangle_10ipo_1uqhm_195\",\n  \"marker--hollow-rectangle\": \"awsui_marker--hollow-rectangle_10ipo_1uqhm_202\",\n  \"marker--dashed\": \"awsui_marker--dashed_10ipo_1uqhm_218\",\n  \"root\": \"awsui_root_10ipo_1uqhm_241\",\n  \"value\": \"awsui_value_10ipo_1uqhm_276\",\n  \"expandable\": \"awsui_expandable_10ipo_1uqhm_280\",\n  \"list-item\": \"awsui_list-item_10ipo_1uqhm_284\",\n  \"inner-list-item\": \"awsui_inner-list-item_10ipo_1uqhm_285\",\n  \"key-value-pair\": \"awsui_key-value-pair_10ipo_1uqhm_290\",\n  \"expandable-section\": \"awsui_expandable-section_10ipo_1uqhm_291\",\n  \"key\": \"awsui_key_10ipo_1uqhm_290\",\n  \"sub-items\": \"awsui_sub-items_10ipo_1uqhm_304\",\n  \"list\": \"awsui_list_10ipo_1uqhm_284\",\n  \"compact\": \"awsui_compact_10ipo_1uqhm_330\",\n  \"with-sub-items\": \"awsui_with-sub-items_10ipo_1uqhm_335\",\n  \"full-width\": \"awsui_full-width_10ipo_1uqhm_340\",\n  \"announced\": \"awsui_announced_10ipo_1uqhm_344\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, memo, ReactNode, useEffect, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { BaseComponentProps, getBaseProps } from '../../base-component';\nimport ChartSeriesMarker, { ChartSeriesMarkerType } from '../chart-series-marker';\nimport styles from './styles.css.js';\nimport InternalExpandableSection from '../../../expandable-section/internal';\nimport getSeriesDetailsText from './series-details-text';\nimport { useMergeRefs } from '../../hooks/use-merge-refs';\n\ninterface ChartDetailPair {\n  key: ReactNode;\n  value: ReactNode;\n}\n\ninterface ListItemProps {\n  itemKey: ReactNode;\n  value: ReactNode;\n  subItems?: ReadonlyArray<ChartDetailPair>;\n  markerType?: ChartSeriesMarkerType;\n  color?: string;\n}\n\nexport interface ChartSeriesDetailItem extends ChartDetailPair {\n  markerType?: ChartSeriesMarkerType;\n  color?: string;\n  isDimmed?: boolean;\n  subItems?: ReadonlyArray<ChartDetailPair>;\n  expandableId?: string;\n}\nexport type ExpandedSeries = Set<string>;\n\nexport interface ChartSeriesDetailsProps extends BaseComponentProps {\n  details: ReadonlyArray<ChartSeriesDetailItem>;\n  expandedSeries?: ExpandedSeries;\n  setPopoverText?: (s: string) => void;\n  setExpandedState?: (seriesTitle: string, state: boolean) => void;\n  compactList?: boolean;\n}\n\nexport default memo(forwardRef(ChartSeriesDetails));\n\nfunction ChartSeriesDetails(\n  { details, expandedSeries, setPopoverText, setExpandedState, compactList, ...restProps }: ChartSeriesDetailsProps,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const baseProps = getBaseProps(restProps);\n  const className = clsx(baseProps.className, styles.root);\n  const detailsRef = useRef<HTMLDivElement | null>(null);\n  const mergedRef = useMergeRefs(ref, detailsRef);\n\n  // Once the component has rendered, pass its content in plain text\n  // so that it can be used by screen readers.\n  useEffect(() => {\n    if (setPopoverText) {\n      if (detailsRef.current) {\n        setPopoverText(getSeriesDetailsText(detailsRef.current));\n      }\n      return () => {\n        setPopoverText('');\n      };\n    }\n  }, [details, setPopoverText]);\n\n  const isExpanded = (seriesTitle: string) => !!expandedSeries && expandedSeries.has(seriesTitle);\n\n  return (\n    <div {...baseProps} className={className} ref={mergedRef}>\n      <ul className={clsx(styles.list, compactList && styles.compact)}>\n        {details.map(({ key, value, markerType, color, isDimmed, subItems, expandableId }, index) => (\n          <li\n            key={index}\n            className={clsx({\n              [styles.dimmed]: isDimmed,\n              [styles['list-item']]: true,\n              [styles['with-sub-items']]: subItems?.length,\n              [styles.expandable]: !!expandableId,\n            })}\n          >\n            {subItems?.length && !!expandableId ? (\n              <ExpandableSeries\n                itemKey={key}\n                value={value}\n                markerType={markerType}\n                color={color}\n                subItems={subItems}\n                expanded={isExpanded(expandableId)}\n                setExpandedState={state => setExpandedState && setExpandedState(expandableId, state)}\n              />\n            ) : (\n              <NonExpandableSeries\n                itemKey={key}\n                value={value}\n                markerType={markerType}\n                color={color}\n                subItems={subItems}\n              />\n            )}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nfunction SubItems({\n  items,\n  expandable,\n  expanded,\n}: {\n  items: ReadonlyArray<ChartDetailPair>;\n  expandable?: boolean;\n  expanded?: boolean;\n}) {\n  return (\n    <ul className={clsx(styles['sub-items'], expandable && styles.expandable)}>\n      {items.map(({ key, value }, index) => (\n        <li\n          key={index}\n          className={clsx(\n            styles['inner-list-item'],\n            styles['key-value-pair'],\n            (expanded || !expandable) && styles.announced\n          )}\n        >\n          <span className={styles.key}>{key}</span>\n          <span className={styles.value}>{value}</span>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nfunction ExpandableSeries({\n  itemKey,\n  value,\n  subItems,\n  markerType,\n  color,\n  expanded,\n  setExpandedState,\n}: ListItemProps &\n  Required<Pick<ListItemProps, 'subItems'>> & {\n    expanded: boolean;\n    setExpandedState: (state: boolean) => void;\n  }) {\n  return (\n    <div className={styles['expandable-section']}>\n      {markerType && color && <ChartSeriesMarker type={markerType} color={color} />}\n      <div className={styles['full-width']}>\n        <InternalExpandableSection\n          variant=\"compact\"\n          headerText={itemKey}\n          headerActions={<span className={clsx(styles.value, styles.expandable)}>{value}</span>}\n          expanded={expanded}\n          onChange={({ detail }) => setExpandedState(detail.expanded)}\n        >\n          <SubItems items={subItems} expandable={true} expanded={expanded} />\n        </InternalExpandableSection>\n      </div>\n    </div>\n  );\n}\n\nfunction NonExpandableSeries({ itemKey, value, subItems, markerType, color }: ListItemProps) {\n  return (\n    <>\n      <div className={clsx(styles['key-value-pair'], styles.announced)}>\n        <div className={styles.key}>\n          {markerType && color && <ChartSeriesMarker type={markerType} color={color} />}\n          <span>{itemKey}</span>\n        </div>\n        <span className={styles.value}>{value}</span>\n      </div>\n      {subItems && <SubItems items={subItems} />}\n    </>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport styles from './styles.css.js';\nimport expandabeleSectionHeaderStyles from '../../../expandable-section/styles.css.js';\n\nexport default function getSeriesDetailsText(element: HTMLElement) {\n  const elementsWithText = Array.from(\n    element.querySelectorAll(`.${styles.announced},.${expandabeleSectionHeaderStyles.header}`)\n  );\n  return elementsWithText\n    .map(element => {\n      if (element instanceof HTMLElement) {\n        return element.innerText\n          ?.split('\\n')\n          .map(s => s.trim())\n          .join(' ')\n          .trim();\n      }\n    })\n    .filter(Boolean)\n    .join(', ');\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"marker\": \"awsui_marker_1isd1_1ums7_97\",\n  \"marker--line\": \"awsui_marker--line_1isd1_1ums7_140\",\n  \"marker--rectangle\": \"awsui_marker--rectangle_1isd1_1ums7_144\",\n  \"marker--hollow-rectangle\": \"awsui_marker--hollow-rectangle_1isd1_1ums7_151\",\n  \"marker--dashed\": \"awsui_marker--dashed_1isd1_1ums7_167\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\nimport clsx from 'clsx';\n\nimport { BaseComponentProps } from '../../base-component';\nimport styles from './styles.css.js';\n\nexport type ChartSeriesMarkerType = 'line' | 'rectangle' | 'dashed' | 'hollow-rectangle';\n\ninterface ChartSeriesMarkerProps extends BaseComponentProps {\n  type: ChartSeriesMarkerType;\n  color: string;\n}\n\nexport default memo(ChartSeriesMarker);\n\nfunction ChartSeriesMarker({ type = 'line', color }: ChartSeriesMarkerProps) {\n  return (\n    <span\n      className={clsx(styles.marker, styles[`marker--${type}`])}\n      style={{ backgroundColor: color }}\n      aria-hidden=\"true\"\n    ></span>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_11n0s_6tm6j_9\",\n  \"empty\": \"awsui_empty_11n0s_6tm6j_13\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useMemo } from 'react';\n\nimport { BaseComponentProps } from '../../base-component';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../../events';\nimport InternalStatusIndicator from '../../../status-indicator/internal';\nimport InternalLink from '../../../link/internal';\n\nimport styles from './styles.css.js';\nimport { useInternalI18n } from '../../../i18n/context';\n\ninterface ChartStatusContainerProps extends BaseComponentProps {\n  statusType: 'loading' | 'finished' | 'error';\n\n  empty?: React.ReactNode;\n  noMatch?: React.ReactNode;\n\n  loadingText?: string;\n  errorText?: string;\n  recoveryText?: string;\n\n  onRecoveryClick?: NonCancelableEventHandler;\n\n  // From `getChartStatus`\n  isEmpty?: boolean;\n  isNoMatch?: boolean;\n  showChart?: boolean;\n}\n\nexport function getChartStatus<T, U>({\n  externalData,\n  visibleData,\n  statusType,\n}: {\n  externalData: ReadonlyArray<T>;\n  visibleData: ReadonlyArray<U>;\n  statusType: 'loading' | 'finished' | 'error';\n}) {\n  const isEmpty = !visibleData || visibleData.length === 0;\n  const isNoMatch = isEmpty && visibleData.length !== externalData.length;\n  const showChart = statusType === 'finished' && !isEmpty;\n  return { isEmpty, isNoMatch, showChart };\n}\n\nexport default function ChartStatusContainer({\n  statusType,\n  errorText,\n  loadingText,\n  recoveryText,\n  noMatch,\n  empty,\n  onRecoveryClick,\n  isNoMatch,\n  isEmpty,\n  showChart,\n}: ChartStatusContainerProps) {\n  const i18n = useInternalI18n('[charts]');\n\n  const statusContainer = useMemo(() => {\n    const handleRecoveryClick = (event: CustomEvent) => {\n      event.preventDefault();\n      fireNonCancelableEvent(onRecoveryClick);\n    };\n    if (statusType === 'error') {\n      const renderedRecoveryText = i18n('recoveryText', recoveryText);\n      return (\n        <span>\n          <InternalStatusIndicator type=\"error\">{i18n('errorText', errorText)}</InternalStatusIndicator>{' '}\n          {!!renderedRecoveryText && !!onRecoveryClick && (\n            <InternalLink onFollow={handleRecoveryClick} variant=\"recovery\">\n              {renderedRecoveryText}\n            </InternalLink>\n          )}\n        </span>\n      );\n    }\n\n    if (statusType === 'loading') {\n      return <InternalStatusIndicator type=\"loading\">{i18n('loadingText', loadingText)}</InternalStatusIndicator>;\n    }\n\n    if (isNoMatch) {\n      return <div className={styles.empty}>{noMatch}</div>;\n    }\n\n    if (isEmpty) {\n      return <div className={styles.empty}>{empty}</div>;\n    }\n  }, [i18n, statusType, onRecoveryClick, isEmpty, isNoMatch, recoveryText, loadingText, errorText, empty, noMatch]);\n\n  return (\n    <div className={styles.root} aria-live=\"polite\" aria-atomic=\"true\">\n      {!showChart && statusContainer}\n    </div>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"wrapper\": \"awsui_wrapper_z5mul_11r0q_97\",\n  \"wrapper--fit-height\": \"awsui_wrapper--fit-height_z5mul_11r0q_133\",\n  \"inner-wrapper--fit-height\": \"awsui_inner-wrapper--fit-height_z5mul_11r0q_138\",\n  \"has-default-filter\": \"awsui_has-default-filter_z5mul_11r0q_144\",\n  \"content\": \"awsui_content_z5mul_11r0q_148\",\n  \"content--reserve-filter\": \"awsui_content--reserve-filter_z5mul_11r0q_155\",\n  \"content--reserve-legend\": \"awsui_content--reserve-legend_z5mul_11r0q_159\",\n  \"content--fit-height\": \"awsui_content--fit-height_z5mul_11r0q_163\",\n  \"filter-container\": \"awsui_filter-container_z5mul_11r0q_167\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { forwardRef } from 'react';\nimport clsx from 'clsx';\n\nimport styles from './styles.css.js';\nimport { BaseComponentProps, getBaseProps } from '../../base-component/index.js';\nimport InternalBox from '../../../box/internal.js';\nimport InternalSpaceBetween from '../../../space-between/internal.js';\n\ninterface ChartWrapperProps extends BaseComponentProps {\n  fitHeight: boolean;\n  defaultFilter: React.ReactNode;\n  additionalFilters: React.ReactNode;\n  reserveFilterSpace: boolean;\n  reserveLegendSpace: boolean;\n  chartStatus: React.ReactNode;\n  chart: React.ReactNode;\n  legend: React.ReactNode;\n  onBlur?(event: React.FocusEvent): void;\n  contentClassName?: string;\n  contentMinHeight?: number;\n}\n\nexport const ChartWrapper = forwardRef(\n  (\n    {\n      defaultFilter,\n      additionalFilters,\n      reserveFilterSpace,\n      reserveLegendSpace,\n      chartStatus,\n      chart,\n      legend,\n      onBlur,\n      contentClassName,\n      contentMinHeight,\n      fitHeight,\n      ...props\n    }: ChartWrapperProps,\n    ref: React.Ref<HTMLDivElement>\n  ) => {\n    const baseProps = getBaseProps(props);\n\n    const filtersNode = (defaultFilter || additionalFilters) && (\n      <InternalBox className={styles['filter-container']} margin={{ bottom: 'l' }}>\n        <InternalSpaceBetween\n          size=\"l\"\n          direction=\"horizontal\"\n          className={clsx({ [styles['has-default-filter']]: !!defaultFilter })}\n        >\n          {defaultFilter}\n          {additionalFilters}\n        </InternalSpaceBetween>\n      </InternalBox>\n    );\n\n    const legendNode = legend && <InternalBox margin={{ top: 'm' }}>{legend}</InternalBox>;\n\n    if (fitHeight) {\n      return (\n        <div\n          ref={ref}\n          {...baseProps}\n          className={clsx(baseProps.className, styles.wrapper, styles['wrapper--fit-height'])}\n          onBlur={onBlur}\n        >\n          <div className={clsx(styles['inner-wrapper'], styles['inner-wrapper--fit-height'])}>\n            {filtersNode}\n\n            <div\n              className={clsx(styles.content, contentClassName, {\n                [styles['content--reserve-filter']]: reserveFilterSpace,\n                [styles['content--reserve-legend']]: reserveLegendSpace,\n                [styles['content--fit-height']]: true,\n              })}\n            >\n              {chartStatus}\n              {chart}\n            </div>\n\n            {legendNode}\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div ref={ref} {...baseProps} className={clsx(baseProps.className, styles.wrapper)} onBlur={onBlur}>\n        {filtersNode}\n\n        <div\n          className={clsx(styles.content, contentClassName, {\n            [styles['content--reserve-filter']]: reserveFilterSpace,\n            [styles['content--reserve-legend']]: reserveLegendSpace,\n          })}\n          style={{ minHeight: contentMinHeight }}\n        >\n          {chartStatus}\n          {chart}\n        </div>\n\n        {legendNode}\n      </div>\n    );\n  }\n);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\n// Ignoring as unsupported in JSDom.\n/* istanbul ignore next */\nexport function getTextWidth(textNode: SVGTextElement) {\n  if (textNode.getComputedTextLength) {\n    return textNode.getComputedTextLength();\n  }\n  return -1;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useEffect, useRef } from 'react';\nimport { getTextWidth } from './responsive-text-utils';\nimport { getIsRtl } from '@cloudscape-design/component-toolkit/internal';\n\ninterface ResponsiveTextProps {\n  x: number;\n  y: number;\n  className?: string;\n  children: string;\n  maxWidth: number;\n}\n\nexport default memo(ResponsiveText);\n\nfunction ResponsiveText({ x, y, className, children, maxWidth }: ResponsiveTextProps) {\n  const textRef = useRef<SVGTextElement>(null);\n\n  // Determine the visible width of the text and if necessary truncate it until it fits.\n  useEffect(() => {\n    const isRtl = getIsRtl(textRef.current!);\n    renderTextContent(textRef.current!, children, maxWidth, isRtl);\n  }, [maxWidth, children]);\n\n  return (\n    <text ref={textRef} x={x} y={y} style={{ textAnchor: 'end' }} className={className}>\n      {children}\n    </text>\n  );\n}\n\nexport function renderTextContent(textNode: SVGTextElement, text: string, maxWidth: number, isRtl: boolean) {\n  let visibleLength = text.length;\n  while (visibleLength >= 0) {\n    textNode.textContent = truncateText(text, visibleLength, isRtl);\n\n    if (getTextWidth(textNode) <= maxWidth) {\n      return;\n    } else {\n      visibleLength--;\n    }\n  }\n}\n\nfunction truncateText(text: string, maxLength: number, isRtl: boolean) {\n  if (text.length === maxLength) {\n    return text;\n  }\n  if (isRtl) {\n    return text.slice(text.length - maxLength) + '';\n  }\n  return text.slice(0, maxLength) + '';\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { useResizeObserver } from '@cloudscape-design/component-toolkit/internal';\nimport { useCallback, useState } from 'react';\n\n/**\n * Conditional resize observer for border box height used in charts.\n */\nexport function useHeightMeasure(\n  getMeasure: () => null | HTMLElement | SVGElement,\n  skip = false,\n  deps: React.DependencyList = []\n) {\n  const [measuredHeight, setHeight] = useState(0);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const stableGetMeasure = useCallback(getMeasure, [...deps, skip]);\n  useResizeObserver(stableGetMeasure, entry => !skip && setHeight(entry.borderBoxHeight));\n  return !skip ? measuredHeight : undefined;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport * as tokens from '../generated/styles/tokens';\n\nexport const categoryPalette = [\n  tokens.colorChartsPaletteCategorical1,\n  tokens.colorChartsPaletteCategorical2,\n  tokens.colorChartsPaletteCategorical3,\n  tokens.colorChartsPaletteCategorical4,\n  tokens.colorChartsPaletteCategorical5,\n  tokens.colorChartsPaletteCategorical6,\n  tokens.colorChartsPaletteCategorical7,\n  tokens.colorChartsPaletteCategorical8,\n  tokens.colorChartsPaletteCategorical9,\n  tokens.colorChartsPaletteCategorical10,\n  tokens.colorChartsPaletteCategorical11,\n  tokens.colorChartsPaletteCategorical12,\n  tokens.colorChartsPaletteCategorical13,\n  tokens.colorChartsPaletteCategorical14,\n  tokens.colorChartsPaletteCategorical15,\n  tokens.colorChartsPaletteCategorical16,\n  tokens.colorChartsPaletteCategorical17,\n  tokens.colorChartsPaletteCategorical18,\n  tokens.colorChartsPaletteCategorical19,\n  tokens.colorChartsPaletteCategorical20,\n  tokens.colorChartsPaletteCategorical21,\n  tokens.colorChartsPaletteCategorical22,\n  tokens.colorChartsPaletteCategorical23,\n  tokens.colorChartsPaletteCategorical24,\n  tokens.colorChartsPaletteCategorical25,\n  tokens.colorChartsPaletteCategorical26,\n  tokens.colorChartsPaletteCategorical27,\n  tokens.colorChartsPaletteCategorical28,\n  tokens.colorChartsPaletteCategorical29,\n  tokens.colorChartsPaletteCategorical30,\n  tokens.colorChartsPaletteCategorical31,\n  tokens.colorChartsPaletteCategorical32,\n  tokens.colorChartsPaletteCategorical33,\n  tokens.colorChartsPaletteCategorical34,\n  tokens.colorChartsPaletteCategorical35,\n  tokens.colorChartsPaletteCategorical36,\n  tokens.colorChartsPaletteCategorical37,\n  tokens.colorChartsPaletteCategorical38,\n  tokens.colorChartsPaletteCategorical39,\n  tokens.colorChartsPaletteCategorical40,\n  tokens.colorChartsPaletteCategorical41,\n  tokens.colorChartsPaletteCategorical42,\n  tokens.colorChartsPaletteCategorical43,\n  tokens.colorChartsPaletteCategorical44,\n  tokens.colorChartsPaletteCategorical45,\n  tokens.colorChartsPaletteCategorical46,\n  tokens.colorChartsPaletteCategorical47,\n  tokens.colorChartsPaletteCategorical48,\n  tokens.colorChartsPaletteCategorical49,\n  tokens.colorChartsPaletteCategorical50,\n];\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { parseCssVariable } from './dom';\nimport { categoryPalette } from '../styles/colors';\nimport { colorChartsThresholdNeutral as thresholdColor } from '../generated/styles/tokens';\n\nexport default function createCategoryColorScale<T>(\n  items: readonly T[],\n  isThreshold: (item: T) => boolean = () => false,\n  getOwnColor: (item: T) => null | string = () => null\n): string[] {\n  const colors = [];\n\n  let categoryIndex = 0;\n  for (const it of items) {\n    const ownColor = getOwnColor(it);\n    const defaultColor = isThreshold(it) ? thresholdColor : categoryPalette[categoryIndex % categoryPalette.length];\n    colors.push(parseCssVariable(ownColor || defaultColor));\n\n    if (!isThreshold(it) && !ownColor) {\n      categoryIndex++;\n    }\n  }\n\n  return colors;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\nimport React from 'react';\n\nexport default function useContainerWidth(\n  defaultValue = 0,\n  threshold = 1\n): [width: number, ref: React.Ref<HTMLDivElement>] {\n  const [width, ref] = useContainerQuery<number>((rect, prev) => {\n    if (prev === null) {\n      return rect.contentBoxWidth;\n    }\n    return Math.abs(prev - rect.contentBoxWidth) >= threshold ? rect.contentBoxWidth : prev;\n  });\n\n  return [width ?? defaultValue, ref];\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"segment__path\": \"awsui_segment__path_1edmh_14ng5_101\",\n  \"segment\": \"awsui_segment_1edmh_14ng5_101\",\n  \"segment__hover\": \"awsui_segment__hover_1edmh_14ng5_128\",\n  \"label\": \"awsui_label_1edmh_14ng5_142\",\n  \"root\": \"awsui_root_1edmh_14ng5_160\",\n  \"content\": \"awsui_content_1edmh_14ng5_164\",\n  \"content--small\": \"awsui_content--small_1edmh_14ng5_164\",\n  \"content--fit-height\": \"awsui_content--fit-height_1edmh_14ng5_167\",\n  \"content--without-labels\": \"awsui_content--without-labels_1edmh_14ng5_170\",\n  \"content--medium\": \"awsui_content--medium_1edmh_14ng5_176\",\n  \"content--large\": \"awsui_content--large_1edmh_14ng5_188\",\n  \"status-container\": \"awsui_status-container_1edmh_14ng5_205\",\n  \"chart-container\": \"awsui_chart-container_1edmh_14ng5_209\",\n  \"chart-container--fit-height\": \"awsui_chart-container--fit-height_1edmh_14ng5_213\",\n  \"chart-container-chart-plot\": \"awsui_chart-container-chart-plot_1edmh_14ng5_218\",\n  \"chart-container-chart-plot--fit-height\": \"awsui_chart-container-chart-plot--fit-height_1edmh_14ng5_221\",\n  \"inner-content\": \"awsui_inner-content_1edmh_14ng5_227\",\n  \"segment__highlight\": \"awsui_segment__highlight_1edmh_14ng5_238\",\n  \"segment--dimmed\": \"awsui_segment--dimmed_1edmh_14ng5_253\",\n  \"segment--highlighted\": \"awsui_segment--highlighted_1edmh_14ng5_256\",\n  \"label--dimmed\": \"awsui_label--dimmed_1edmh_14ng5_273\",\n  \"label--align-right\": \"awsui_label--align-right_1edmh_14ng5_276\",\n  \"label-text\": \"awsui_label-text_1edmh_14ng5_284\",\n  \"label__description\": \"awsui_label__description_1edmh_14ng5_292\",\n  \"label-line\": \"awsui_label-line_1edmh_14ng5_299\",\n  \"label--highlighted\": \"awsui_label--highlighted_1edmh_14ng5_303\",\n  \"popover-header\": \"awsui_popover-header_1edmh_14ng5_307\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ComponentFormatFunction } from '../i18n/context';\nimport { PieChartProps } from './interfaces';\nimport styles from './styles.css.js';\n\nexport interface Dimension {\n  innerRadius: number;\n  outerRadius: number;\n  padding: number;\n  paddingLabels: number;\n  innerLabelPadding: number;\n  cornerRadius?: number;\n}\n\nconst minRadius = 30;\nconst paddingLabels = 44; // = 2 * (size-lineHeight-body-100)\nconst defaultPadding = 12; // = space-s\nconst smallPadding = 8; // = space-xs\nexport const minLabelLineAngularPadding = Math.PI / 20;\n\nexport const dimensionsBySize: Record<NonNullable<PieChartProps['size']>, Dimension> = {\n  small: {\n    innerRadius: 33,\n    outerRadius: 50,\n    innerLabelPadding: smallPadding,\n    padding: smallPadding,\n    paddingLabels,\n  },\n  medium: {\n    innerRadius: 66,\n    outerRadius: 100,\n    innerLabelPadding: defaultPadding,\n    padding: defaultPadding,\n    paddingLabels,\n  },\n  large: {\n    innerRadius: 93,\n    outerRadius: 140,\n    innerLabelPadding: defaultPadding,\n    padding: defaultPadding,\n    paddingLabels,\n  },\n};\n\nexport const refreshDimensionsBySize: Record<NonNullable<PieChartProps['size']>, Dimension> = {\n  small: {\n    ...dimensionsBySize.small,\n    innerRadius: 38,\n    cornerRadius: 3,\n  },\n  medium: {\n    ...dimensionsBySize.medium,\n    innerRadius: 75,\n    cornerRadius: 4,\n  },\n  large: {\n    ...dimensionsBySize.large,\n    innerRadius: 105,\n    cornerRadius: 5,\n  },\n};\n\n/**\n * When `size` is a string (\"small\", \"medium\" or \"large\") the predefined pie chart element dimensions for classic and visual refresh are used.\n * When `size` is a number the outer and inner radii are computed and the rest of the dimensions are taken from the closest predefined size.\n */\nexport function getDimensionsBySize({\n  size,\n  hasLabels,\n  visualRefresh,\n}: {\n  size: NonNullable<PieChartProps['size']> | number;\n  hasLabels: boolean;\n  visualRefresh?: boolean;\n}): Dimension & { size: NonNullable<PieChartProps['size']> } {\n  if (typeof size === 'string') {\n    const dimensions = visualRefresh ? refreshDimensionsBySize[size] : dimensionsBySize[size];\n    return { ...dimensions, size };\n  }\n  const sizeSpec = visualRefresh ? refreshDimensionsBySize : dimensionsBySize;\n  const getPixelSize = (d: Dimension) => d.outerRadius * 2 + d.padding * 2 + (hasLabels ? d.paddingLabels : 0) * 2;\n\n  let matchedSize: NonNullable<PieChartProps['size']> = 'small';\n  if (size > getPixelSize(sizeSpec.medium)) {\n    matchedSize = 'medium';\n  }\n  if (size > getPixelSize(sizeSpec.large)) {\n    matchedSize = 'large';\n  }\n\n  const padding = sizeSpec[matchedSize].padding;\n  const paddingLabels = hasLabels ? sizeSpec[matchedSize].paddingLabels : 0;\n  const radiiRatio = sizeSpec[matchedSize].outerRadius / sizeSpec[matchedSize].innerRadius;\n  const outerRadius = Math.max(minRadius, (size - 2 * paddingLabels - 2 * padding) / 2);\n  const innerRadius = outerRadius / radiiRatio;\n\n  return { ...sizeSpec[matchedSize], outerRadius, innerRadius, size: matchedSize };\n}\n\nexport const defaultDetails =\n  (i18n: ComponentFormatFunction<'pie-chart'>, i18nStrings: PieChartProps.I18nStrings) =>\n  (datum: PieChartProps.Datum, dataSum: number) => [\n    { key: i18n('i18nStrings.detailsValue', i18nStrings.detailsValue) || '', value: datum.value },\n    {\n      key: i18n('i18nStrings.detailsPercentage', i18nStrings.detailsPercentage) || '',\n      value: `${((datum.value * 100) / dataSum).toFixed(0)}%`,\n    },\n  ];\n\n/**\n * Adjusts the position of the given label nodes to avoid visual overlapping.\n * @param nodes List of label nodes of the entire chart (both left and right side)\n * @param markers Markers array that was calculated in <Labels>, but we just need the `endY` values\n * @param leftSide Boolean flag whether we are processing the left or right side of the chart labels\n */\nexport const balanceLabelNodes = (\n  nodes: NodeListOf<SVGGElement>,\n  markers: Array<{ endY: number; endX: number }>,\n  leftSide: boolean,\n  radius: number\n) => {\n  const MARGIN = 10;\n\n  let previousBBox: { x: number; y: number; height: number } | null = null;\n\n  // When traversing the right side of labels, we start at the beginning of the array and go forwards.\n  // For the left side, we need to traverse backwards from the end, so that overlapping nodes are pushed down in the right order.\n  let i = leftSide ? nodes.length - 1 : 0;\n\n  while ((leftSide && i >= 0) || (!leftSide && i < nodes.length)) {\n    const node = nodes[i];\n\n    const x = parseFloat(node.getAttribute('data-x') || '0');\n    const y = parseFloat(node.getAttribute('data-y') || '0');\n    const box = {\n      x,\n      y,\n      height: node.getBoundingClientRect().height,\n    };\n\n    const marker = markers[i];\n\n    if (leftSide) {\n      i--;\n    } else {\n      i++;\n    }\n\n    if (!previousBBox) {\n      previousBBox = box;\n      node.setAttribute('transform', '');\n      continue;\n    }\n\n    if ((!leftSide && box.x < 0) || (leftSide && box.x >= 0)) {\n      // We have reached a label that is on the other side of the chart, so we're done.\n      break;\n    }\n\n    node.setAttribute('transform', '');\n\n    // Calculate how much the current node is overlapping with the previous one.\n    const yOffset = previousBBox.y + previousBBox.height + MARGIN - box.y;\n\n    if (yOffset > 0) {\n      const xOffset = computeXOffset(box, yOffset, radius) * (leftSide ? -1 : 1);\n      // Move the label down.\n      node.setAttribute('transform', `translate(${xOffset} ${yOffset})`);\n\n      // Adjust the attached line accordingly.\n      const lineNode = node.parentNode?.querySelector(`.${styles['label-line']}`);\n      if (lineNode) {\n        const { endY, endX } = marker;\n        lineNode.setAttribute('y2', '' + (endY + yOffset));\n        lineNode.setAttribute('x2', '' + (endX + xOffset));\n      }\n\n      // Update the position accordingly to inform the next label\n      box.y += yOffset;\n      box.x += xOffset;\n    }\n\n    previousBBox = box;\n  }\n};\n\nconst squareDistance = (edge: [number, number]): number => Math.pow(edge[0], 2) + Math.pow(edge[1], 2);\n\nconst computeXOffset = (box: { x: number; y: number; height: number }, yOffset: number, radius: number): number => {\n  const upperEdge: [number, number] = [box.x, box.y + yOffset];\n  const lowerEdge: [number, number] = [box.x, box.y + box.height + yOffset];\n  const closestEdge = squareDistance(upperEdge) < squareDistance(lowerEdge) ? upperEdge : lowerEdge;\n\n  if (squareDistance(closestEdge) < Math.pow(radius, 2)) {\n    return Math.sqrt(Math.pow(radius, 2) - Math.pow(closestEdge[1], 2)) - Math.abs(closestEdge[0]);\n  }\n  return 0;\n};\n\nexport const computeSmartAngle = (startAngle: number, endAngle: number, optimize = false): number => {\n  if (!optimize || endAngle - startAngle < 2 * minLabelLineAngularPadding) {\n    return (endAngle + startAngle) / 2;\n  }\n  const paddedStartAngle = startAngle + minLabelLineAngularPadding;\n  const paddedEndAngle = endAngle - minLabelLineAngularPadding;\n  if (paddedStartAngle < 0 && paddedEndAngle > 0) {\n    return 0;\n  }\n  if (paddedStartAngle < Math.PI && paddedEndAngle > Math.PI) {\n    return Math.PI;\n  }\n\n  const endAngleMinDistance = Math.min(\n    paddedEndAngle,\n    Math.abs(Math.PI - paddedEndAngle),\n    2 * Math.PI - paddedEndAngle\n  );\n  const startAngleMinDistance = Math.min(\n    paddedStartAngle,\n    Math.abs(Math.PI - paddedStartAngle),\n    2 * Math.PI - paddedStartAngle\n  );\n  if (endAngleMinDistance < startAngleMinDistance) {\n    return paddedEndAngle;\n  }\n  return paddedStartAngle;\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useEffect, useRef } from 'react';\nimport { renderTextContent } from '../internal/components/responsive-text';\nimport { getIsRtl } from '@cloudscape-design/component-toolkit/internal';\n\ninterface ResponsiveTextProps {\n  x: number;\n  y: number;\n  rightSide?: boolean;\n  className?: string;\n  children: string;\n  containerBoundaries: null | { left: number; right: number };\n}\n\nexport default memo(ResponsiveText);\n\nfunction ResponsiveText({ x, y, rightSide, className, children, containerBoundaries }: ResponsiveTextProps) {\n  const actualRef = useRef<SVGTextElement>(null);\n  const virtualRef = useRef<SVGTextElement>(null);\n\n  const isRtl = actualRef.current ? getIsRtl(actualRef.current) : false;\n  rightSide = !isRtl ? rightSide : !rightSide;\n\n  // Determine the visible width of the text and if necessary truncate it until it fits.\n  useEffect(() => {\n    // The debouncing is necessary for visual smoothness.\n    const timeoutId = setTimeout(() => {\n      const isRtl = getIsRtl(virtualRef.current!);\n      const groupRect = virtualRef.current!.getBoundingClientRect();\n      const visibleWidth = containerBoundaries ? getVisibleWidth(groupRect, containerBoundaries) : 0;\n      renderTextContent(actualRef.current!, children, visibleWidth, isRtl);\n    }, 25);\n    return () => clearTimeout(timeoutId);\n  });\n\n  return (\n    <>\n      {/* Invisible sample text used for measurement */}\n      <text\n        ref={virtualRef}\n        x={x}\n        y={y}\n        style={{ textAnchor: rightSide ? 'start' : 'end', visibility: 'hidden' }}\n        aria-hidden=\"true\"\n        className={className}\n      >\n        {children}\n      </text>\n\n      {/* Text node to render truncated text into */}\n      <text ref={actualRef} x={x} y={y} style={{ textAnchor: rightSide ? 'start' : 'end' }} className={className}>\n        {children}\n      </text>\n    </>\n  );\n}\n\nfunction getVisibleWidth(element: { left: number; right: number }, container: { left: number; right: number }): number {\n  if (element.left < container.left) {\n    return element.right - container.left;\n  } else if (element.right > container.right) {\n    return container.right - element.left;\n  } else {\n    return container.right - container.left;\n  }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useLayoutEffect, useMemo, useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport { arc, PieArcDatum } from 'd3-shape';\n\nimport { PieChartProps } from './interfaces';\nimport styles from './styles.css.js';\nimport { InternalChartDatum } from './pie-chart';\nimport { Dimension, balanceLabelNodes, computeSmartAngle } from './utils';\nimport ResponsiveText from './responsive-text';\nimport { useResizeObserver } from '@cloudscape-design/component-toolkit/internal';\n\nexport interface LabelsProps<T> {\n  pieData: PieArcDatum<InternalChartDatum<T>>[];\n  visibleDataSum: number;\n  dimensions: Dimension;\n  hideTitles: boolean;\n  hideDescriptions: boolean;\n  highlightedSegment: PieChartProps.Datum | null;\n  segmentDescription?: PieChartProps.SegmentDescriptionFunction<T>;\n  containerRef: React.RefObject<HTMLDivElement>;\n}\n\ninterface LabelElementProps {\n  x: number;\n  y: number;\n  rightSide: boolean;\n  hideTitles: boolean;\n  hideDescriptions: boolean;\n  title: PieChartProps.Datum['title'];\n  description?: string;\n  containerBoundaries: null | { left: number; right: number };\n}\n\nfunction LabelElement({\n  x,\n  y,\n  hideTitles,\n  hideDescriptions,\n  rightSide,\n  title,\n  description,\n  containerBoundaries,\n}: LabelElementProps) {\n  return (\n    <g className={styles['label-text']} transform=\"\" data-x={x} data-y={y}>\n      {!hideTitles && (\n        <ResponsiveText x={x} y={y} rightSide={rightSide} containerBoundaries={containerBoundaries}>\n          {title}\n        </ResponsiveText>\n      )}\n      {!hideDescriptions && description && (\n        <ResponsiveText\n          x={x}\n          y={y + (hideTitles ? 0 : 18)}\n          rightSide={rightSide}\n          className={styles.label__description}\n          containerBoundaries={containerBoundaries}\n        >\n          {description}\n        </ResponsiveText>\n      )}\n    </g>\n  );\n}\n\nexport default <T extends PieChartProps.Datum>({\n  pieData,\n  dimensions,\n  highlightedSegment,\n  segmentDescription,\n  visibleDataSum,\n  hideTitles,\n  hideDescriptions,\n  containerRef,\n}: LabelsProps<T>) => {\n  const containerBoundaries = useElementBoundaries(containerRef);\n  const shouldOptimizeLabels =\n    containerBoundaries.right - containerBoundaries.left - (dimensions.outerRadius + dimensions.innerLabelPadding) * 2 <\n    300;\n  const markers = useMemo(() => {\n    const { outerRadius: radius, innerLabelPadding } = dimensions;\n\n    // More arc factories for the label positioning\n    const arcMarkerStart = arc<PieArcDatum<any>>()\n      .innerRadius(radius - 1)\n      .outerRadius(radius - 1);\n\n    const arcMarkerBreak = arc<PieArcDatum<any>>()\n      .innerRadius(radius + innerLabelPadding)\n      .outerRadius(radius + innerLabelPadding);\n\n    return pieData.map((datum, i) => {\n      const labelDatum = pieData[i];\n      const smartAngle = computeSmartAngle(labelDatum.startAngle, labelDatum.endAngle, shouldOptimizeLabels);\n\n      // Make the marker line longer if the segment is closer to the top or bottom of the chart\n      const lineExtension = 0.5 * Math.cos(2 * smartAngle) + 0.5;\n      arcMarkerBreak.outerRadius(radius + 20 * lineExtension);\n      arcMarkerBreak.innerRadius(radius + 20 * lineExtension);\n      const [startX, startY] = arcMarkerStart.centroid({ ...datum, startAngle: smartAngle, endAngle: smartAngle });\n      const [breakX, breakY] = arcMarkerBreak.centroid({ ...datum, startAngle: smartAngle, endAngle: smartAngle });\n\n      const rightSide = smartAngle < Math.PI;\n      const endX = shouldOptimizeLabels ? breakX + 20 * (rightSide ? 1 : -1) : (radius + 20) * (rightSide ? 1 : -1);\n      const textX = endX + 5 * (rightSide ? 1 : -1);\n\n      return {\n        startX,\n        startY,\n        breakX,\n        breakY,\n        endX,\n        endY: breakY,\n        textX,\n        textY: breakY,\n        rightSide,\n        datum,\n      };\n    });\n  }, [pieData, dimensions, shouldOptimizeLabels]);\n\n  const rootRef = useRef<SVGGElement>(null);\n\n  useLayoutEffect(() => {\n    if (!rootRef.current) {\n      return;\n    }\n\n    // Relax labels that are overlapping\n    const labelNodes = rootRef.current.querySelectorAll<SVGGElement>(`.${styles['label-text']}`);\n    balanceLabelNodes(labelNodes, markers, false, dimensions.outerRadius + dimensions.innerLabelPadding);\n    balanceLabelNodes(labelNodes, markers, true, dimensions.outerRadius + dimensions.innerLabelPadding);\n  }, [markers, pieData, dimensions]);\n\n  return (\n    <g className={styles.markers} aria-hidden=\"true\" ref={rootRef}>\n      {markers.map(({ startX, startY, breakX, breakY, endX, endY, textX, textY, rightSide, datum }) => {\n        const segment = datum.data.datum;\n        const description = segmentDescription?.(segment, visibleDataSum);\n        if ((hideTitles && !description) || (hideDescriptions && !segment.title)) {\n          return null;\n        }\n        return (\n          <g\n            key={datum.data.index}\n            className={clsx(styles.label, {\n              [styles['label--highlighted']]: highlightedSegment === segment,\n              [styles['label--dimmed']]: highlightedSegment !== null && highlightedSegment !== segment,\n              [styles['label--align-right']]: !rightSide,\n            })}\n          >\n            <line x1={startX} y1={startY} x2={breakX} y2={breakY} />\n            <line x1={breakX} y1={breakY} x2={endX} y2={endY} className={styles['label-line']} />\n            <LabelElement\n              x={textX}\n              y={textY}\n              rightSide={rightSide}\n              title={segment.title}\n              description={description}\n              hideTitles={hideTitles}\n              hideDescriptions={hideDescriptions}\n              containerBoundaries={containerBoundaries}\n            />\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\nfunction useElementBoundaries(ref: React.RefObject<HTMLElement>): { left: number; right: number } {\n  const [state, setState] = useState({ left: 0, right: 0 });\n  useResizeObserver(ref, entry => {\n    const elementRect = entry.target.getBoundingClientRect();\n    setState({ left: elementRect.left, right: elementRect.right });\n  });\n  return state;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useMemo } from 'react';\nimport { arc, PieArcDatum } from 'd3-shape';\n\nimport { PieChartProps } from './interfaces';\nimport { Dimension } from './utils';\nimport { InternalChartDatum } from './pie-chart';\nimport styles from './styles.css.js';\nimport clsx from 'clsx';\nimport { useInternalI18n } from '../i18n/context';\n\ninterface SegmentsProps<T> {\n  pieData: Array<PieArcDatum<InternalChartDatum<T>>>;\n  highlightedSegment: T | null;\n  dimensions: Dimension;\n  variant: PieChartProps['variant'];\n  focusedSegmentRef: React.RefObject<SVGGElement>;\n  popoverTrackRef: React.RefObject<SVGCircleElement>;\n  segmentAriaRoleDescription?: string;\n  onMouseDown: (datum: InternalChartDatum<T>) => void;\n  onMouseOver: (datum: InternalChartDatum<T>) => void;\n}\n\nexport default function Segments<T extends PieChartProps.Datum>({\n  pieData,\n  highlightedSegment,\n  dimensions,\n  variant,\n  focusedSegmentRef,\n  popoverTrackRef,\n  segmentAriaRoleDescription,\n  onMouseDown,\n  onMouseOver,\n}: SegmentsProps<T>) {\n  const i18n = useInternalI18n('pie-chart');\n\n  const { arcFactory, highlightedArcFactory } = useMemo(() => {\n    const radius = dimensions.outerRadius;\n    const innerRadius = variant === 'pie' ? 0 : dimensions.innerRadius;\n    const cornerRadius = dimensions.cornerRadius || 0;\n\n    const arcFactory = arc<PieArcDatum<InternalChartDatum<any>>>()\n      .innerRadius(innerRadius)\n      .outerRadius(radius)\n      .cornerRadius(cornerRadius);\n\n    const highlightedArcFactory = arc<PieArcDatum<InternalChartDatum<any>>>()\n      .innerRadius(radius + 4)\n      .outerRadius(radius + 6);\n\n    return {\n      arcFactory,\n      highlightedArcFactory,\n    };\n  }, [dimensions, variant]);\n\n  const centroid = useMemo(() => {\n    for (const datum of pieData) {\n      if (datum.data.datum === highlightedSegment) {\n        const [centroidLeft, centroidTop] = arcFactory.centroid(datum);\n        return { cx: centroidLeft, cy: centroidTop };\n      }\n    }\n    return null;\n  }, [highlightedSegment, pieData, arcFactory]);\n\n  return (\n    <g>\n      {pieData.map(datum => {\n        const isHighlighted = highlightedSegment === datum.data.datum;\n        const isDimmed = highlightedSegment !== null && !isHighlighted;\n        const arcPath = arcFactory(datum) || undefined;\n        const highlightedPath = highlightedArcFactory(datum) || undefined;\n        return (\n          <g\n            key={datum.data.index}\n            onMouseDown={e => {\n              onMouseDown(datum.data);\n              e.preventDefault();\n            }}\n            onMouseOver={() => onMouseOver(datum.data)}\n            className={clsx(styles.segment, {\n              [styles['segment--highlighted']]: isHighlighted,\n              [styles['segment--dimmed']]: isDimmed,\n            })}\n            ref={isHighlighted ? focusedSegmentRef : undefined}\n            aria-label={`${datum.data.datum.title} (${datum.data.datum.value})`}\n            role=\"button\"\n            aria-roledescription={i18n('i18nStrings.segmentAriaRoleDescription', segmentAriaRoleDescription)}\n          >\n            <path d={arcPath} fill={datum.data.color} className={styles.segment__path} aria-hidden=\"true\" />\n            <path\n              d={highlightedPath}\n              fill={datum.data.color}\n              className={clsx(styles.segment__path, styles.segment__highlight)}\n              aria-hidden=\"true\"\n            />\n          </g>\n        );\n      })}\n\n      <circle {...centroid} ref={popoverTrackRef} r=\"1\" opacity=\"0\" aria-hidden=\"true\" />\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { PieArcDatum } from 'd3-shape';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { nodeContains } from '@cloudscape-design/component-toolkit/dom';\n\nimport { KeyCode } from '../internal/keycode';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport ChartPopover from '../internal/components/chart-popover';\nimport SeriesDetails from '../internal/components/chart-series-details';\nimport SeriesMarker from '../internal/components/chart-series-marker';\nimport InternalBox from '../box/internal';\n\nimport Labels from './labels';\nimport { PieChartProps, SeriesInfo } from './interfaces';\nimport styles from './styles.css.js';\nimport { defaultDetails, getDimensionsBySize } from './utils';\nimport Segments from './segments';\nimport ChartPlot, { ChartPlotRef } from '../internal/components/chart-plot';\nimport { SomeRequired } from '../internal/types';\nimport { useInternalI18n } from '../i18n/context';\nimport { nodeBelongs } from '../internal/utils/node-belongs';\nimport clsx from 'clsx';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { useHeightMeasure } from '../internal/hooks/container-queries/use-height-measure';\nimport ChartPopoverFooter from '../internal/components/chart-popover-footer';\nimport LiveRegion from '../internal/components/live-region';\n\nexport interface InternalChartDatum<T> {\n  index: number;\n  color: string;\n  datum: Readonly<T>;\n}\n\ninterface InternalPieChartProps<T extends PieChartProps.Datum>\n  extends SomeRequired<\n    Omit<PieChartProps<T>, 'onHighlightChange' | 'statusType'>,\n    'variant' | 'size' | 'i18nStrings' | 'hideTitles' | 'hideDescriptions'\n  > {\n  width: number;\n  height: number;\n\n  highlightedSegment: T | null;\n  onHighlightChange: (segment: null | T) => void;\n\n  legendSegment: T | null;\n\n  pieData: PieArcDatum<InternalChartDatum<T>>[];\n  dataSum: number;\n}\n\nexport interface PopoverData<T> {\n  datum: T;\n  trackRef: React.RefObject<SVGElement>;\n  series: SeriesInfo;\n}\n\nexport default <T extends PieChartProps.Datum>({\n  fitHeight,\n  height: explicitHeight,\n  variant,\n  size,\n  width,\n  i18nStrings,\n  ariaLabel,\n  ariaLabelledby,\n  ariaDescription,\n  innerMetricValue,\n  innerMetricDescription,\n  hideTitles,\n  hideDescriptions,\n  detailPopoverContent,\n  detailPopoverSize,\n  detailPopoverFooter,\n  segmentDescription,\n  highlightedSegment,\n  onHighlightChange,\n  legendSegment,\n  pieData,\n  dataSum,\n}: InternalPieChartProps<T>) => {\n  const [pinnedSegment, setPinnedSegment] = useState<T | null>(null);\n  const plotRef = useRef<ChartPlotRef>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const focusedSegmentRef = useRef<SVGGElement>(null);\n  const popoverTrackRef = useRef<SVGCircleElement>(null);\n  const popoverRef = useRef<HTMLElement | null>(null);\n\n  const hasLabels = !(hideTitles && hideDescriptions);\n  const isRefresh = useVisualRefresh();\n\n  const height = useHeightMeasure(() => plotRef.current?.svg ?? null, !fitHeight) ?? explicitHeight;\n\n  const dimensions = useMemo(\n    () =>\n      getDimensionsBySize({ size: fitHeight ? Math.min(height, width) : size, hasLabels, visualRefresh: isRefresh }),\n    [fitHeight, height, width, size, hasLabels, isRefresh]\n  );\n\n  // Inner content is only available for donut charts and the inner description is not displayed for small charts\n  const hasInnerContent =\n    variant === 'donut' && (innerMetricValue || (innerMetricDescription && dimensions.size !== 'small'));\n\n  const innerMetricId = useUniqueId('awsui-pie-chart__inner');\n\n  const [isPopoverOpen, setPopoverOpen] = useState<boolean>(false);\n  const [popoverData, setPopoverData] = useState<PopoverData<T>>();\n\n  const highlightedSegmentIndex = useMemo(() => {\n    for (let index = 0; index < pieData.length; index++) {\n      if (pieData[index].data.datum === highlightedSegment) {\n        return index;\n      }\n    }\n    return null;\n  }, [pieData, highlightedSegment]);\n\n  const detailPopoverFooterContent = useMemo(\n    () => (detailPopoverFooter && highlightedSegment ? detailPopoverFooter(highlightedSegment) : null),\n    [detailPopoverFooter, highlightedSegment]\n  );\n\n  const i18n = useInternalI18n('pie-chart');\n  const detailFunction = detailPopoverContent || defaultDetails(i18n, i18nStrings);\n  const details = popoverData ? detailFunction(popoverData.datum, dataSum) : [];\n  const popoverContentRef = useRef<HTMLDivElement | null>(null);\n  const popoverContent = popoverData && <SeriesDetails details={details} compactList={true} ref={popoverContentRef} />;\n\n  const popoverDismissedRecently = useRef(false);\n  const escapePressed = useRef(false);\n\n  const highlightSegment = useCallback(\n    (internalDatum: InternalChartDatum<T>) => {\n      const segment = internalDatum.datum;\n      if (segment !== highlightedSegment) {\n        onHighlightChange(segment);\n      }\n\n      if (popoverTrackRef.current) {\n        setPopoverData({\n          datum: internalDatum.datum,\n          series: {\n            color: internalDatum.color,\n            index: internalDatum.index,\n            label: internalDatum.datum.title,\n            markerType: 'rectangle',\n          },\n          trackRef: popoverTrackRef,\n        });\n        setPopoverOpen(true);\n      }\n    },\n    [highlightedSegment, setPopoverOpen, onHighlightChange]\n  );\n\n  const clearHighlightedSegment = useCallback(() => {\n    setPopoverOpen(false);\n    onHighlightChange(null);\n  }, [onHighlightChange, setPopoverOpen]);\n\n  const checkMouseLeave = (event: React.MouseEvent) => {\n    if (pinnedSegment !== null) {\n      return;\n    }\n\n    if (\n      nodeContains(popoverRef.current, event.relatedTarget) ||\n      nodeContains(focusedSegmentRef.current, event.relatedTarget)\n    ) {\n      return;\n    }\n\n    clearHighlightedSegment();\n  };\n\n  useEffect(() => {\n    const onKeyDown = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        clearHighlightedSegment();\n        escapePressed.current = true;\n      }\n    };\n    document.addEventListener('keydown', onKeyDown);\n    return () => document.removeEventListener('keydown', onKeyDown);\n  }, [clearHighlightedSegment]);\n\n  const onMouseDown = useCallback(\n    (internalDatum: InternalChartDatum<T>) => {\n      if (pinnedSegment === internalDatum.datum) {\n        setPinnedSegment(null);\n        clearHighlightedSegment();\n      } else {\n        setPinnedSegment(internalDatum.datum);\n        highlightSegment(internalDatum);\n      }\n    },\n    [pinnedSegment, clearHighlightedSegment, setPinnedSegment, highlightSegment]\n  );\n  const onMouseOver = useCallback(\n    (internalDatum: InternalChartDatum<T>) => {\n      if (escapePressed.current) {\n        escapePressed.current = false;\n        return;\n      }\n      if (pinnedSegment !== null) {\n        return;\n      }\n      highlightSegment(internalDatum);\n    },\n    [pinnedSegment, highlightSegment]\n  );\n\n  const onKeyDown = useCallback(\n    (event: React.KeyboardEvent) => {\n      const keyCode = event.keyCode;\n      if (\n        keyCode !== KeyCode.right &&\n        keyCode !== KeyCode.left &&\n        keyCode !== KeyCode.enter &&\n        keyCode !== KeyCode.space\n      ) {\n        return;\n      }\n\n      event.preventDefault();\n\n      let nextIndex = highlightedSegmentIndex || 0;\n      const MAX = pieData.length - 1;\n      if (keyCode === KeyCode.right) {\n        nextIndex++;\n        if (nextIndex > MAX) {\n          nextIndex = 0;\n        }\n      } else if (keyCode === KeyCode.left) {\n        nextIndex--;\n        if (nextIndex < 0) {\n          nextIndex = MAX;\n        }\n      }\n      if (keyCode === KeyCode.enter || keyCode === KeyCode.space) {\n        setPinnedSegment(pieData[nextIndex].data.datum);\n      }\n      highlightSegment(pieData[nextIndex].data);\n    },\n    [setPinnedSegment, highlightSegment, pieData, highlightedSegmentIndex]\n  );\n  const onApplicationFocus = useCallback(\n    (_event: any, target: 'keyboard' | 'mouse') => {\n      if (pinnedSegment !== null || popoverDismissedRecently.current || target === 'mouse') {\n        return;\n      }\n\n      const segment = highlightedSegment || legendSegment || pieData[0].data.datum;\n      const matched = pieData.filter(d => d.data.datum === segment);\n      highlightSegment(matched[0].data);\n    },\n    [pinnedSegment, pieData, highlightSegment, highlightedSegment, legendSegment]\n  );\n\n  const onApplicationBlur = useCallback(\n    (event: React.FocusEvent) => {\n      const blurTarget = event.relatedTarget || event.target;\n      if (blurTarget === null || !(blurTarget instanceof Element) || !nodeBelongs(containerRef.current, blurTarget)) {\n        // We only need to close the popover and remove the pinned segment so that we keep track of the current\n        // highlighted legendSeries. using clearHighlightedSegment() would set the legendSeries to null, in that case\n        // using Keyboard Tab will always highlight the first legend item in the legend component.\n        setPopoverOpen(false);\n        setPinnedSegment(null);\n      }\n    },\n    [setPinnedSegment]\n  );\n  const onPopoverDismiss = (outsideClick?: boolean) => {\n    setPopoverOpen(false);\n    setPinnedSegment(null);\n\n    if (!outsideClick) {\n      // The delay is needed to bypass focus events caused by click or keypress needed to unpin the popover.\n      setTimeout(() => {\n        popoverDismissedRecently.current = true;\n        plotRef.current!.focusApplication();\n        popoverDismissedRecently.current = false;\n      }, 0);\n    } else {\n      onHighlightChange(null);\n    }\n  };\n\n  return (\n    <div\n      className={clsx(styles['chart-container'], fitHeight && styles['chart-container--fit-height'])}\n      ref={containerRef}\n    >\n      <div\n        className={clsx(\n          styles['chart-container-chart-plot'],\n          fitHeight && styles['chart-container-chart-plot--fit-height']\n        )}\n      >\n        <ChartPlot\n          ref={plotRef}\n          width=\"100%\"\n          height={fitHeight ? '100%' : height}\n          transform={`translate(${width / 2} ${height / 2})`}\n          isPrecise={true}\n          isClickable={!isPopoverOpen}\n          ariaLabel={ariaLabel}\n          ariaLabelledby={ariaLabelledby}\n          ariaDescription={ariaDescription}\n          ariaDescribedby={hasInnerContent ? innerMetricId : undefined}\n          ariaRoleDescription={i18nStrings?.chartAriaRoleDescription}\n          activeElementRef={focusedSegmentRef}\n          activeElementKey={highlightedSegmentIndex?.toString()}\n          onApplicationFocus={onApplicationFocus}\n          onApplicationBlur={onApplicationBlur}\n          onKeyDown={onKeyDown}\n          onMouseOut={checkMouseLeave}\n        >\n          <Segments\n            pieData={pieData}\n            dimensions={dimensions}\n            variant={variant}\n            focusedSegmentRef={focusedSegmentRef}\n            popoverTrackRef={popoverTrackRef}\n            highlightedSegment={highlightedSegment}\n            segmentAriaRoleDescription={i18nStrings?.segmentAriaRoleDescription}\n            onMouseDown={onMouseDown}\n            onMouseOver={onMouseOver}\n          />\n          {hasLabels && (\n            <Labels\n              pieData={pieData}\n              dimensions={dimensions}\n              segmentDescription={segmentDescription}\n              visibleDataSum={dataSum}\n              hideTitles={hideTitles}\n              hideDescriptions={hideDescriptions}\n              highlightedSegment={highlightedSegment}\n              containerRef={containerRef}\n            />\n          )}\n        </ChartPlot>\n      </div>\n\n      {hasInnerContent && (\n        <div className={styles['inner-content']} id={innerMetricId}>\n          {innerMetricValue && (\n            <InternalBox\n              variant={dimensions.size === 'small' ? 'h3' : 'h1'}\n              tagOverride=\"div\"\n              color=\"inherit\"\n              padding=\"n\"\n            >\n              {innerMetricValue}\n            </InternalBox>\n          )}\n          {innerMetricDescription && dimensions.size !== 'small' && (\n            <InternalBox variant=\"h3\" color=\"text-body-secondary\" tagOverride=\"div\" padding=\"n\">\n              {innerMetricDescription}\n            </InternalBox>\n          )}\n        </div>\n      )}\n      {isPopoverOpen && popoverData && (\n        <ChartPopover\n          ref={popoverRef}\n          title={\n            popoverData.series && (\n              <InternalBox className={styles['popover-header']} variant=\"strong\">\n                <SeriesMarker color={popoverData.series.color} type={popoverData.series.markerType} />{' '}\n                {popoverData.series.label}\n              </InternalBox>\n            )\n          }\n          trackRef={popoverData.trackRef}\n          trackKey={popoverData.series.index}\n          dismissButton={pinnedSegment !== null}\n          dismissAriaLabel={i18nStrings.detailPopoverDismissAriaLabel}\n          onDismiss={onPopoverDismiss}\n          container={plotRef.current?.svg || null}\n          size={detailPopoverSize}\n          onMouseLeave={checkMouseLeave}\n          onBlur={onApplicationBlur}\n        >\n          {popoverContent}\n          {detailPopoverFooterContent && <ChartPopoverFooter>{detailPopoverFooterContent}</ChartPopoverFooter>}\n        </ChartPopover>\n      )}\n      <LiveRegion source={[popoverContentRef]} />\n    </div>\n  );\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { getBaseProps } from '../internal/base-component';\nimport { useControllable } from '../internal/hooks/use-controllable';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport Legend, { ChartLegendProps } from '../internal/components/chart-legend';\nimport Filter, { ChartFilterProps } from '../internal/components/chart-filter';\nimport { pie } from 'd3-shape';\n\nimport InternalPieChart, { InternalChartDatum } from './pie-chart';\nimport { PieChartProps } from './interfaces';\nimport styles from './styles.css.js';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport createCategoryColorScale from '../internal/utils/create-category-color-scale';\nimport useContainerWidth from '../internal/utils/use-container-width';\nimport { nodeBelongs } from '../internal/utils/node-belongs';\nimport { ChartWrapper } from '../internal/components/chart-wrapper';\nimport ChartStatusContainer, { getChartStatus } from '../internal/components/chart-status-container';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { getDimensionsBySize } from './utils';\n\nexport { PieChartProps };\n\nconst PieChart = function PieChart<T extends PieChartProps.Datum = PieChartProps.Datum>({\n  fitHeight,\n  variant = 'pie',\n  size = 'medium',\n  hideTitles = false,\n  hideDescriptions = false,\n  hideLegend = false,\n  hideFilter = false,\n  statusType = 'finished',\n  data: externalData = [],\n  i18nStrings = {},\n  highlightedSegment: controlledHighlightedSegment,\n  visibleSegments: controlledVisibleSegments,\n  onHighlightChange: controlledOnHighlightChange,\n  onFilterChange,\n  additionalFilters,\n  legendTitle,\n  detailPopoverSize = 'medium',\n  ...props\n}: PieChartProps<T>) {\n  const { __internalRootRef = null } = useBaseComponent('PieChart', {\n    props: {\n      fitHeight,\n      variant,\n      size,\n      hideTitles,\n      hideDescriptions,\n      hideLegend,\n      hideFilter,\n      detailPopoverSize,\n    },\n  });\n  const baseProps = getBaseProps(props);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [containerWidth, measureRef] = useContainerWidth();\n\n  const data: ReadonlyArray<InternalChartDatum<T>> = useMemo(() => {\n    const colors = createCategoryColorScale(externalData, undefined, it => it.color || null);\n\n    return externalData.map((datum, i) => ({\n      index: i,\n      color: colors[i],\n      datum,\n    }));\n  }, [externalData]);\n\n  const [highlightedSegment = null, setHighlightedSegment] = useControllable(\n    controlledHighlightedSegment,\n    controlledOnHighlightChange,\n    null,\n    {\n      componentName: 'PieChart',\n      controlledProp: 'highlightedSegment',\n      changeHandler: 'onHighlightChange',\n    }\n  );\n  const [legendSegment, setLegendSegment] = useState<null | T>(highlightedSegment);\n  useEffect(() => {\n    setLegendSegment(controlledHighlightedSegment || null);\n  }, [controlledHighlightedSegment]);\n\n  const [visibleSegments, setVisibleSegments] = useControllable(\n    controlledVisibleSegments,\n    onFilterChange,\n    externalData,\n    {\n      componentName: 'PieChart',\n      controlledProp: 'visibleSegments',\n      changeHandler: 'onFilterChange',\n    }\n  );\n\n  const visibleData = useMemo(\n    () => data.filter(d => visibleSegments?.indexOf(d.datum) !== -1),\n    [data, visibleSegments]\n  );\n\n  const filterItems: ChartFilterProps<T>['series'] = data?.map(data => ({\n    label: data.datum.title,\n    color: data.color,\n    type: 'rectangle',\n    datum: data.datum,\n  }));\n\n  const legendItems: ChartLegendProps<T>['series'] = filterItems.filter(d => visibleSegments?.indexOf(d.datum) !== -1);\n\n  const filterChange = useCallback(\n    (selectedSeries: ReadonlyArray<T>) => {\n      setVisibleSegments(selectedSeries);\n      fireNonCancelableEvent(onFilterChange, {\n        visibleSegments: selectedSeries,\n      });\n    },\n    [setVisibleSegments, onFilterChange]\n  );\n\n  const onHighlightChange = useCallback(\n    (segment: T | null) => {\n      setLegendSegment(segment);\n      setHighlightedSegment(segment);\n      fireNonCancelableEvent(controlledOnHighlightChange, { highlightedSegment: segment });\n    },\n    [controlledOnHighlightChange, setHighlightedSegment]\n  );\n\n  const onBlur = (event: React.FocusEvent) => {\n    if (event.relatedTarget && !nodeBelongs(containerRef.current, event.relatedTarget)) {\n      highlightedSegment && onHighlightChange(null);\n      setLegendSegment(null);\n    }\n  };\n\n  const mergedRef = useMergeRefs(containerRef, measureRef, __internalRootRef);\n\n  const { pieData, dataSum } = useMemo(() => {\n    const dataSum = visibleData.reduce((sum, d) => sum + d.datum.value, 0);\n\n    const pieFactory = pie<InternalChartDatum<T>>()\n      // Minimum 1% segment size\n      .value(d => (d.datum.value < dataSum / 100 ? dataSum / 100 : d.datum.value))\n      .sort(null);\n\n    // Filter out segments with value of zero or below\n    const pieData = pieFactory(visibleData.filter(d => d.datum.value > 0));\n\n    return { pieData, dataSum };\n  }, [visibleData]);\n\n  const hasNoData = !externalData || externalData.length === 0;\n  const { isEmpty, showChart } = getChartStatus({ externalData: data, visibleData: pieData, statusType });\n  // Pie charts have a special condition for empty/noMatch due to how zero-value segments are handled.\n  const isNoMatch = isEmpty && visibleData.length !== data.length;\n  const showFilters = statusType === 'finished' && !hasNoData && (additionalFilters || !hideFilter);\n  const reserveLegendSpace = !showChart && !hideLegend;\n  const reserveFilterSpace = statusType !== 'finished' && !isNoMatch && (!hideFilter || additionalFilters);\n  const hasLabels = !(hideTitles && hideDescriptions);\n\n  const isRefresh = useVisualRefresh();\n  const defaultDimensions = getDimensionsBySize({ size, hasLabels, visualRefresh: isRefresh });\n  const radius = defaultDimensions.outerRadius;\n  const height = 2 * (radius + defaultDimensions.padding + (hasLabels ? defaultDimensions.paddingLabels : 0));\n\n  return (\n    <ChartWrapper\n      ref={mergedRef}\n      fitHeight={!!fitHeight}\n      {...baseProps}\n      className={clsx(baseProps.className, styles.root)}\n      contentClassName={clsx(styles.content, styles[`content--${defaultDimensions.size}`], {\n        [styles['content--without-labels']]: !hasLabels,\n        [styles['content--fit-height']]: fitHeight,\n      })}\n      defaultFilter={\n        showFilters && !hideFilter ? (\n          <Filter\n            series={filterItems}\n            onChange={filterChange}\n            selectedSeries={visibleSegments}\n            i18nStrings={i18nStrings}\n          />\n        ) : null\n      }\n      additionalFilters={showFilters ? additionalFilters : null}\n      reserveFilterSpace={!!reserveFilterSpace}\n      reserveLegendSpace={!!reserveLegendSpace}\n      chartStatus={\n        <ChartStatusContainer\n          isEmpty={isEmpty}\n          isNoMatch={isNoMatch}\n          showChart={showChart}\n          statusType={statusType}\n          empty={props.empty}\n          noMatch={props.noMatch}\n          loadingText={props.loadingText}\n          errorText={props.errorText}\n          recoveryText={props.recoveryText}\n          onRecoveryClick={props.onRecoveryClick}\n        />\n      }\n      chart={\n        showChart ? (\n          <InternalPieChart\n            {...props}\n            variant={variant}\n            size={size}\n            height={height}\n            fitHeight={fitHeight}\n            data={externalData}\n            width={containerWidth}\n            hideTitles={hideTitles}\n            hideDescriptions={hideDescriptions}\n            i18nStrings={i18nStrings}\n            onHighlightChange={onHighlightChange}\n            highlightedSegment={highlightedSegment}\n            legendSegment={legendSegment}\n            detailPopoverSize={detailPopoverSize}\n            pieData={pieData}\n            dataSum={dataSum}\n          />\n        ) : null\n      }\n      legend={\n        !hideLegend &&\n        !hasNoData &&\n        statusType === 'finished' && (\n          <Legend<T>\n            series={legendItems}\n            highlightedSeries={legendSegment}\n            legendTitle={legendTitle}\n            ariaLabel={i18nStrings?.legendAriaLabel}\n            onHighlightChange={onHighlightChange}\n            plotContainerRef={containerRef}\n          />\n        )\n      }\n      onBlur={onBlur}\n    />\n  );\n};\n\napplyDisplayName(PieChart, 'PieChart');\nexport default PieChart;\n","import constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport InternalStatusIndicator, { StatusIndicatorProps } from './internal';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport useBaseComponent from '../internal/hooks/use-base-component';\n\nexport { StatusIndicatorProps };\n\nexport default function StatusIndicator({ type = 'success', wrapText = true, ...props }: StatusIndicatorProps) {\n  const baseComponentProps = useBaseComponent('StatusIndicator', {\n    props: { colorOverride: props.colorOverride, type, wrapText },\n  });\n  return <InternalStatusIndicator type={type} wrapText={wrapText} {...props} {...baseComponentProps} />;\n}\n\napplyDisplayName(StatusIndicator, 'StatusIndicator');\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n"],"names":["memo","_ref","model","filterLabel","filterPlaceholder","filterSelectedAriaLabel","filterItems","allSeries","map","s","title","color","markerType","getInternalSeries","label","type","datum","React","ChartFilter","series","onChange","handlers","onFilterSeries","selectedSeries","i18nStrings","legendTitle","ariaLabel","plotContainerRef","legendItems","useMemo","legendSeries","useSelector","interactions","state","ChartLegend","highlightedSeries","onHighlightChange","onLegendHighlight","axis","position","InternalBox","className","clsx","styles","fontWeight","textAlign","margin","bottom","scale","ticks","tickFormatter","autoWidth","maxLabelsWidth","width","ref","useContainerQuery","rect","contentBoxWidth","useEffect","style","maxWidth","value","scaledValue","d3Scale","undefined","isFinite","lines","toString","split","Fragment","key","concat","line","lineIndex","TICK_LENGTH","TICK_MARGIN","TICK_LINE_HEIGHT","X_TICK_COUNT_RATIO","Y_TICK_COUNT_RATIO","SPACE_BETWEEN","formatTicks","getLabelSpace","tick","_a","NaN","space","Math","max","getVisibleTicks","from","until","balanceTicks","arguments","length","filter","getTicksInRange","reduceLabelRatio","findReduceLabelRatio","reducedTicks","index","push","getReducedTicks","visibleTicks","prevTick","hasIntersection","removeIntersections","ratio","i","a","b","left","right","plotWidth","plotHeight","Number","POSITIVE_INFINITY","ariaRoleDescription","i18n","useInternalI18n","virtualTextRef","useRef","yOffset","isCategorical","bandwidth","labelToBoxCache","formattedTicks","current","_b","height","textContent","element","getBBox","getSVGTextSize","_d","_c","isRtl","getIsRtl","role","_ref2","transform","grid","ticks_line","x1","y1","x2","y2","x","lineTextProps","y","ticks__text","children","ResponsiveText","Object","assign","visibility","offsetLeft","offsetRight","xOffset","balanceLabels","scaleType","_ref3","join","ticks__line","baselineY","Linear","context","this","_context","p","pointX","pointY","defined","constant","curve","curveLinear","output","data","d","buffer","n","defined0","path","lineStart","lineEnd","point","_","prototype","areaStart","_line","areaEnd","_point","closePath","lineTo","moveTo","chartAreaClipPath","areaPath","x0","y0","area","j","k","x0z","Array","y0z","arealine","lineX0","lineY0","lineY1","lineX1","scaled","areaGenerator","linePath","lineGenerator","fill","stroke","opacity","clipPath","xScale","range","useUniqueId","highlightedX","useHighlightDimmed","seriesData","seriesIndex","computed","plot","sx","id","isHighlighted","isDimmed","AreaSeries","ThresholdSeries","AreaChartPopover","highlightDetails","dismissAriaLabel","footer","size","onBlur","popoverProps","formattedX","trackRef","refs","verticalMarker","trackKey","highlightIndex","dismissButton","isPopoverPinned","onDismiss","onPopoverDismiss","onMouseLeave","onPopoverLeave","popoverRef","ChartPopover","container","ChartSeriesDetails","details","seriesDetails","totalDetails","ChartPopoverFooter","forwardRef","ariaHasPopup","ariaExpanded","cx","cy","r","highlightedPoint","HighlightedPoint","showPoints","showLine","points","firstPoint","VerticalMarker","CartesianChartContainer","minHeight","fitHeight","leftAxisLabel","leftAxisLabelMeasure","bottomAxisLabel","chartPlot","popover","xTitle","yTitle","detailPopoverSize","detailPopoverFooter","ariaLabelledby","ariaDescription","xTickFormatter","deprecatedXTickFormatter","yTickFormatter","deprecatedYTickFormatter","detailTotalFormatter","deprecatedDetailTotalFormatter","detailTotalLabel","chartAriaRoleDescription","xAxisAriaRoleDescription","yAxisAriaRoleDescription","detailPopoverDismissAriaLabel","inlineStartLabelsWidth","setInlineStartLabelsWidth","useState","containerWidth","containerWidthRef","useContainerWidth","maxInlineStartLabelsWidth","round","blockEndLabelsProps","cacheRef","getComputedTextLength","useBLockEndLabels","xTicks","hX","hPoint","seriesPoints","xs","detailsTotal","reduce","total","seriesTitle","formattedY","formatValue","Boolean","pointDetails","activeLabel","useHighlightDetails","highlightedPointRef","mergedRef","useMergeRefs","isPointHighlighted","get","detailPopoverFooterContent","AxisLabel","LabelsMeasure","yScale","yTicks","ChartPlot","offsetBottom","activeElementKey","activeElementRef","activeElementFocusOffset","isClickable","onMouseMove","onSVGMouseMove","onMouseOut","onSVGMouseOut","onClick","onSVGMouseDown","onKeyDown","onSVGKeyDown","onApplicationFocus","onApplicationBlur","plotMeasure","strokeWidth","pointerEvents","InlineStartLabels","AreaDataSeries","BlockEndLabels","EmphasizedBaseline","AreaVerticalMarker","AreaHighlightedPoint","EPSILON","computeDomainX","xValues","getXValues","arr","set","Set","uniqArray","has","add","uniq","min","computePlotPoints","xy","scaledOffsetX","visibleData","scaledX","getVisibleData","forEach","xIndex","stackY","sIndex","scaledY","sort","p1","p2","insertIntoMatrix","findClosest","sortedArray","target","getter","Error","isAscending","delta","abs","lo","hi","mid","floor","circleIndex","to","_ref4","matrix","row","col","getTimezoneOffsetInMilliseconds","date","utcDate","Date","UTC","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","setUTCFullYear","getTime","MILLISECONDS_IN_DAY","compareLocalAsc","dateLeft","dateRight","diff","differenceInDays","dirtyDateLeft","dirtyDateRight","requiredArgs","toDate","sign","difference","startOfDayLeft","startOfDay","startOfDayRight","timestampLeft","timestampRight","differenceInCalendarDays","setDate","result","dirtyDate","duration","_typeof","years","toInteger","months","weeks","days","hours","minutes","seconds","dateWithMonths","addMonths","dateWithDays","addDays","msToAdd","createXTicks","values","isNumeric","isTime","rawTicks","domain","oneDayInterval","twoDayInterval","isDayInterval","isMixedDayInterval","start","curr","createTwoDayInterval","uniform","ascending","descending","bisector","f","compare1","compare2","zero$1","center","bisectRight","bisect","InternMap","Map","constructor","entries","keyof","super","defineProperties","_intern","_key","intern_get","intern_set","delete","intern_delete","valueOf","e10","sqrt","e5","e2","stop","count","reverse","step","tickIncrement","r0","r1","power","log","LN10","error","pow","tickStep","step0","step1","initRange","implicit","Symbol","ordinal","unknown","slice","copy","apply","band","ordinalRange","paddingInner","paddingOuter","align","rescale","ceil","rangeRound","padding","define","factory","extend","parent","definition","create","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","format","m","l","trim","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","hasOwnProperty","g","rgb$1","o","rgb_formatHex","hex","rgb_formatRgb","clampa","clampi","isNaN","h","Hsl","hslConvert","clamph","clampt","hsl2rgb","m1","m2","channels","displayable","formatHex8","formatHsl","clamp","gamma","nogamma","t","exponential","linear$1","rgbGamma","end","numberArray","c","genericArray","nb","na","interpolate","date$1","setTime","interpolateNumber","object","reA","reB","source","string","am","bm","bs","bi","lastIndex","q","one","zero","ArrayBuffer","isView","DataView","isArray","interpolateRound","number$1","unit","identity$1","normalize","bimap","d0","d1","polymap","transformer","untransform","piecewise","input","interpolate$1","clamper","invert","u","continuous","formatDecimalParts","toExponential","indexOf","coefficient","exponent","prefixExponent","re","formatSpecifier","specifier","match","FormatSpecifier","symbol","comma","precision","formatRounded","formatTypes","%","toFixed","toLocaleString","replace","e","toPrecision","toUpperCase","identity","locale$1","formatPrefix","prefixes","formatLocale$1","locale","grouping","thousands","group","call","substring","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","String","percent","minus","nan","newFormat","prefix","test","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","i1","i0","formatTrim","charCodeAt","Infinity","tickFormat","precisionPrefix","precisionRound","precisionFixed","linear","nice","prestep","maxIter","linearish","interval","transformLog","transformExp","exp","transformLogn","transformExpn","pow10","reflect","loggish","logs","pows","base","E","log10","log2","logp","powp","v","z","t0","t1","timeInterval","floori","offseti","field","offset","previous","every","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","second","getUTCSeconds","timeMinute","utcMinute","setUTCSeconds","getUTCMinutes","timeHour","utcHour","setUTCMinutes","getUTCHours","timeDay","setHours","getTimezoneOffset","utcDay","setUTCHours","setUTCDate","getUTCDate","unixDay","timeWeekday","getDay","timeSunday","timeMonday","timeTuesday","timeWednesday","timeThursday","timeFriday","timeSaturday","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","timeMonth","setMonth","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","timeYear","setFullYear","utcYear","ticker","year","month","week","day","hour","minute","tickIntervals","tickInterval","timeTicks","timeTickInterval","localDate","H","M","S","L","newDate","timeFormat","pads","numberRe","percentRe","requoteRe","pad","requote","formatRe","names","formatLookup","name","parseWeekdayNumberSunday","w","parseWeekdayNumberMonday","parseWeekNumberSunday","U","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseQuarter","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","dISO","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatYearISO","formatFullYear","formatFullYearISO","formatZone","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","UTCdISO","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCYearISO","formatUTCFullYear","formatUTCFullYearISO","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","number","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","time","createNumericScale","scaleLog","scaleLinear","isNumericDomain","createTimeScale","scaleTime","isDateDomain","createBandScale","scaleBand","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","locale_shortWeekdays","shortDays","locale_months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","utcFormats","parses","parseSpecifier","charAt","newParse","parse","X","utcFormat","utcParse","formatLocale","defaultLocale","ChartScale","noCategoricalOuterPadding","createScale","cloneScale","newScaleType","newDomain","newRange","NumericChartScale","adjustDomain","computeChartProps","xDomain","externalXDomain","yDomain","externalYDomain","xScaleType","yScaleType","xTickCount","getXTickCount","NEGATIVE_INFINITY","computeDomainY","yTickCount","getYTickCount","createYTicks","initialState","freeze","InteractionsStore","AsyncStore","highlightPoint","highlightX","highlightFirstPoint","firstSeriesPoint","_getFirstSeriesPoint","highlightSeries","clearHighlight","clearHighlightedLegend","clearState","pinPopover","unpinPopover","togglePopoverPin","MAX_HOVER_MARGIN","SVG_HOVER_THROTTLE","POPOVER_DEADZONE","useChartModel","externalSeries","visibleSeries","setVisibleSeries","setHighlightedSeries","explicitHeight","plotRef","containerRef","verticalMarkerRef","plotMeasureRef","hasVisibleSeries","useHeightMeasure","stableSetVisibleSeries","useStableCallback","containsMultipleSeries","colorScale","createCategoryColorScale","decorateSeries","valueFormatter","mapping","createSeriesDecorator","isMouseOverPopover","clientX","clientY","firstChild","popoverPosition","getBoundingClientRect","onSVGMouseMoveThrottled","func","delay","trailing","pending","lastInvokeTime","timerId","pendingFunc","invokeTime","now","args","startTimer","cancelAnimationFrame","requestAnimationFrame","throttled","_len","cancel","throttle","svgRect","svg","offsetX","offsetY","top","closestX","xPoints","closestPoint","moveWithinXAxis","direction","moveWithinSeries","nextXIndex","moveBetweenSeries","yIndex","currentYIndex","nextYIndex","event","nodeContains","relatedTarget","preventDefault","keyCode","KeyCode","up","down","enter","handleKey","onBlockEnd","onBlockStart","onInlineStart","onInlineEnd","onActivate","_event","trigger","nodeBelongs","outsideClick","setTimeout","focusApplication","focusPlot","onContainerBlur","onDocumentKeyDown","useReaction","InternalAreaChart","controlledHighlightedSeries","controlledVisibleSeries","onFilterChange","controlledOnVisibleChange","controlledOnHighlightChange","hideFilter","additionalFilters","hideLegend","statusType","empty","noMatch","errorText","loadingText","recoveryText","onRecoveryClick","__internalRootRef","props","__rest","baseProps","getBaseProps","isDevelopment","sampleXValues","isSeriesValid","warnOnce","setWidth","setVisibleSeriesState","useControllable","componentName","controlledProp","changeHandler","useCallback","fireNonCancelableEvent","newVisibleSeries","useFilterProps","notifyHighlightedSeries","useHighlightProps","isEmpty","isNoMatch","showChart","getChartStatus","externalData","showFilters","showLegend","reserveLegendSpace","reserveFilterSpace","document","addEventListener","removeEventListener","ChartWrapper","root","contentMinHeight","defaultFilter","AreaChartFilter","chartStatus","ChartStatusContainer","chart","ChartContainer","legend","AreaChartLegend","legendAriaLabel","AreaChart","baseComponentProps","useBaseComponent","applyDisplayName","ColumnLayout","columns","variant","borders","disableGutters","minColumnWidth","externalProps","getExternalProps","InternalColumnLayout","InternalTokenGroup","alignment","items","limit","disableOuterPadding","limitShowFewerAriaLabel","limitShowMoreAriaLabel","checkControlled","removedItemIndex","setRemovedItemIndex","hasItems","TokenList","renderItem","item","itemIndex","Token","dismissLabel","disabled","Option","option","isGenericGroup","moveFocusNextToIndex","onExpandedClick","isExpanded","externalRef","options","filteringType","filteringPlaceholder","filteringAriaLabel","filteringClearAriaLabel","filteringResultsText","ariaRequired","placeholder","finishedText","renderHighlightedAriaLive","selectedOptions","deselectAriaLabel","keepOpen","tokenLimit","onFocus","onLoadItems","virtualScroll","inlineTokens","hideTokens","expandToViewport","tokenLimitShowFewerAriaLabel","tokenLimitShowMoreAriaLabel","autoFocus","restProps","checkOptionValueField","formFieldContext","useFormFieldContext","i18nCommon","errorIconAriaLabel","selectedAriaLabel","handleLoadMore","handleRecoveryClick","fireLoadItems","useLoadItems","useInteractiveGroups","filteringValue","setFilteringValue","filteredOptions","parentMap","totalCount","matchesCount","prepareOptions","updateSelectedOption","filtered","isAllChildrenSelected","optionsArray","findOptionIndex","select","union","visibleOptions","unselect","newSelectedOptions","isGroup","intersection","rootRef","selfControlId","controlId","multiSelectAriaLabelId","footerId","scrollToIndex","isOpen","highlightType","highlightedOption","highlightedIndex","getTriggerProps","getDropdownProps","getFilterProps","getMenuProps","getOptionProps","highlightOption","announceSelected","useSelect","handleNativeSearch","useNativeSearch","isEnabled","isFiltered","filteredText","dropdownStatus","useDropdownStatus","hasRecoveryCallback","Filter","clearAriaLabel","Trigger","triggerProps","selectedOption","triggerVariant","joinStrings","menuProps","onLoadMore","ariaDescribedby","content","announcement","useAnnouncement","getParent","tokens","labelTag","description","iconAlt","iconName","iconUrl","iconSvg","tags","option__label","ListComponent","VirtualList","PlainList","showTokens","tokenGroupI18nStrings","limitShowFewer","tokenLimitShowFewer","limitShowMore","tokenLimitShowMore","dropdownProps","onKeyPress","Dropdown","dropdownContentRole","open","header","onMouseDown","activeElement","isSticky","DropdownFooter","stretchBeyondTriggerWidth","listBottom","hasDropdownStatus","checkboxes","screenReaderContent","detail","optionToDeselect","targetRef","focus","ScreenreaderOnly","defaultOptions","__customIcon","SeriesMarker","updateSelection","InternalFormField","InternalMultiselect","segmentsRef","highlightedSeriesIndex","targetSeries","findSeriesIndex","handleSelection","handleMouseLeave","highlightInlineStart","currentIndex","nextIndex","highlightInlineEnd","contains","someHighlighted","elem","tabIndex","onMouseOver","handleMouseOver","applicationRef","focusTransitionRef","isFocused","setFocused","app","attributeName","getAttributeNames","removeAttribute","setAttribute","muteApplication","onApplicationKeyDown","useImperativeHandle","removeChild","appendChild","application","attributeValue","getAttribute","preventScroll","FocusOutline","elementKey","elementRef","focusVisible","setFocusVisible","handleMousedown","handleKeydown","isModifierKey","useFocusVisibleState","el","showOutline","rx","DEFAULT_PLOT_FOCUS_OFFSET","DEFAULT_ELEMENT_FOCUS_OFFSET","offsetTop","ariaLiveRegion","isPrecise","focusOffset","svgRef","plotClickedRef","isPlotFocused","setPlotFocused","isApplicationFocused","setApplicationFocused","internalDescriptionId","ariaDescriptionId","plotFocusable","plotTabIndex","plotAria","focusable","marginTop","marginBottom","marginLeft","marginRight","clickable","precise","onPlotMouseDown","ApplicationController","LiveRegion","fixedWidth","onMouseEnter","popoverObjectRef","onDocumentClick","capture","isPinned","popoverStyles","PopoverContainer","arrow","keepPosition","allowVerticalOverflow","allowScrollToFit","PopoverBody","overflowVisible","expandedSeries","setPopoverText","setExpandedState","compactList","detailsRef","querySelectorAll","announced","expandabeleSectionHeaderStyles","HTMLElement","innerText","list","compact","subItems","expandableId","dimmed","expandable","ExpandableSeries","itemKey","expanded","NonExpandableSeries","SubItems","ChartSeriesMarker","InternalExpandableSection","headerText","headerActions","_ref5","_ref6","marker","backgroundColor","statusContainer","renderedRecoveryText","InternalStatusIndicator","InternalLink","onFollow","contentClassName","filtersNode","InternalSpaceBetween","legendNode","wrapper","getTextWidth","textNode","textRef","renderTextContent","textAnchor","text","visibleLength","truncateText","maxLength","getMeasure","skip","deps","measuredHeight","setHeight","stableGetMeasure","useResizeObserver","entry","borderBoxHeight","categoryPalette","isThreshold","getOwnColor","colors","categoryIndex","it","ownColor","defaultColor","thresholdColor","parseCssVariable","defaultValue","threshold","prev","atan2","cos","sin","epsilon","pi","PI","halfPi","tau","asin","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","cornerTangents","rc","cw","x01","y01","ox","oy","x11","y11","x10","y10","x00","y00","dx","dy","d2","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cornerRadius","padRadius","arc","a0","a1","da","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","p0","oc","x3","y3","x32","y32","intersect","ax","ay","bx","by","kc","acos","lc","centroid","minLabelLineAngularPadding","dimensionsBySize","small","innerLabelPadding","paddingLabels","medium","large","refreshDimensionsBySize","getDimensionsBySize","hasLabels","visualRefresh","dimensions","sizeSpec","getPixelSize","matchedSize","radiiRatio","balanceLabelNodes","nodes","markers","leftSide","radius","previousBBox","node","box","parseFloat","computeXOffset","lineNode","parentNode","querySelector","endY","endX","squareDistance","edge","upperEdge","lowerEdge","closestEdge","rightSide","containerBoundaries","actualRef","virtualRef","timeoutId","groupRect","visibleWidth","clearTimeout","LabelElement","hideTitles","hideDescriptions","label__description","pieData","highlightedSegment","segmentDescription","visibleDataSum","setState","elementRect","useElementBoundaries","shouldOptimizeLabels","arcMarkerStart","arcMarkerBreak","labelDatum","smartAngle","paddedStartAngle","paddedEndAngle","computeSmartAngle","lineExtension","startX","startY","breakX","breakY","textX","textY","useLayoutEffect","labelNodes","segment","Segments","focusedSegmentRef","popoverTrackRef","segmentAriaRoleDescription","arcFactory","highlightedArcFactory","centroidLeft","centroidTop","arcPath","highlightedPath","segment__path","segment__highlight","innerMetricValue","innerMetricDescription","detailPopoverContent","legendSegment","dataSum","pinnedSegment","setPinnedSegment","isRefresh","useVisualRefresh","hasInnerContent","innerMetricId","isPopoverOpen","setPopoverOpen","popoverData","setPopoverData","highlightedSegmentIndex","detailFunction","defaultDetails","detailsValue","detailsPercentage","popoverContentRef","popoverContent","SeriesDetails","popoverDismissedRecently","escapePressed","highlightSegment","internalDatum","clearHighlightedSegment","checkMouseLeave","MAX","matched","blurTarget","Element","Labels","tagOverride","PieChart","controlledHighlightedSegment","visibleSegments","controlledVisibleSegments","measureRef","setHighlightedSegment","setLegendSegment","setVisibleSegments","filterChange","sum","pieFactory","sortValues","pie","arcs","pa","hasNoData","defaultDimensions","InternalPieChart","Legend","StatusIndicator","wrapText","colorOverride","tauEpsilon","Path","_x0","_y0","_x1","_y1","quadraticCurveTo","bezierCurveTo","arcTo","x21","y21","l01_2","x20","y20","l21_2","l20_2","l21","l01","t01","t21","ccw"],"sourceRoot":""}