{"version":3,"file":"static/js/33.1ff8c45a.chunk.js","mappings":"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","sources":["../node_modules/src/area-chart/elements/area-chart-filter.tsx","../node_modules/src/area-chart/elements/area-chart-legend.tsx","../node_modules/@cloudscape-design/components/internal/components/cartesian-chart/styles.css.js","../node_modules/src/internal/components/cartesian-chart/axis-label.tsx","../node_modules/src/internal/components/cartesian-chart/labels-measure.tsx","../node_modules/src/internal/components/cartesian-chart/constants.ts","../node_modules/src/internal/components/cartesian-chart/label-utils.ts","../node_modules/src/internal/components/cartesian-chart/inline-start-labels.tsx","../node_modules/src/internal/components/cartesian-chart/block-end-labels.tsx","../node_modules/src/internal/components/cartesian-chart/emphasized-baseline.tsx","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/src/area-chart/elements/area-series.tsx","../node_modules/d3-shape/src/area.js","../node_modules/src/area-chart/elements/threshold-series.tsx","../node_modules/@cloudscape-design/components/area-chart/styles.css.js","../node_modules/src/area-chart/elements/data-series.tsx","../node_modules/src/area-chart/elements/chart-popover.tsx","../node_modules/src/internal/components/cartesian-chart/highlighted-point.tsx","../node_modules/src/area-chart/elements/highlighted-point.tsx","../node_modules/src/internal/components/cartesian-chart/vertical-marker.tsx","../node_modules/src/area-chart/elements/vertical-marker.tsx","../node_modules/src/internal/components/cartesian-chart/chart-container.tsx","../node_modules/src/area-chart/chart-container.tsx","../node_modules/src/area-chart/elements/use-highlight-details.ts","../node_modules/src/area-chart/model/utils.ts","../node_modules/date-fns/esm/_lib/requiredArgs/index.js","../node_modules/date-fns/esm/toDate/index.js","../node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js","../node_modules/date-fns/esm/startOfDay/index.js","../node_modules/date-fns/esm/differenceInCalendarDays/index.js","../node_modules/date-fns/esm/differenceInDays/index.js","../node_modules/date-fns/esm/_lib/toInteger/index.js","../node_modules/date-fns/esm/add/index.js","../node_modules/date-fns/esm/addMonths/index.js","../node_modules/date-fns/esm/addDays/index.js","../node_modules/src/internal/components/cartesian-chart/ticks.ts","../node_modules/@cloudscape-design/components/internal/vendor/d3-scale.js","../node_modules/src/internal/components/cartesian-chart/scales.ts","../node_modules/src/area-chart/model/compute-chart-props.ts","../node_modules/src/area-chart/model/interactions-store.ts","../node_modules/src/area-chart/model/use-chart-model.ts","../node_modules/src/area-chart/model/create-series-decorator.ts","../node_modules/src/internal/utils/throttle.ts","../node_modules/src/area-chart/internal.tsx","../node_modules/src/area-chart/model/use-filter-props.ts","../node_modules/src/area-chart/model/use-highlight-props.ts","../node_modules/src/area-chart/index.tsx","../node_modules/src/column-layout/index.tsx","../node_modules/src/grid/index.tsx","../node_modules/src/internal/components/option/utils/filter-options.ts","../node_modules/@cloudscape-design/components/internal/components/dropdown-footer/styles.css.js","../node_modules/@cloudscape-design/components/internal/components/dropdown-status/styles.css.js","../node_modules/src/internal/components/dropdown-status/index.tsx","../node_modules/src/internal/components/dropdown-footer/index.tsx","../node_modules/src/internal/components/options-list/utils/test-indexes.ts","../node_modules/src/internal/components/option/utils/prepare-options.ts","../node_modules/src/internal/components/option/utils/flatten-options.ts","../node_modules/src/internal/components/options-list/utils/use-highlight-option.ts","../node_modules/src/internal/components/options-list/utils/use-keyboard.ts","../node_modules/src/internal/components/options-list/utils/use-ids.ts","../node_modules/src/select/utils/connect-options.ts","../node_modules/src/select/utils/use-select.ts","../node_modules/src/select/utils/use-native-search.ts","../node_modules/src/internal/components/option/option-announcer.ts","../node_modules/@cloudscape-design/components/select/parts/styles.css.js","../node_modules/@cloudscape-design/components/internal/components/option/styles.css.js","../node_modules/src/internal/components/option/highlight-match.tsx","../node_modules/src/internal/components/option/option-parts.tsx","../node_modules/src/internal/components/option/index.tsx","../node_modules/@cloudscape-design/components/internal/components/selectable-item/styles.css.js","../node_modules/src/internal/components/selectable-item/index.tsx","../node_modules/src/select/parts/item.tsx","../node_modules/src/select/parts/multiselect-item.tsx","../node_modules/src/select/utils/get-item-props.ts","../node_modules/src/select/utils/render-options.tsx","../node_modules/src/select/parts/plain-list.tsx","../node_modules/@cloudscape-design/components/internal/vendor/react-virtual.js","../node_modules/src/select/parts/virtual-list.tsx","../node_modules/src/internal/hooks/use-virtual/index.ts","../node_modules/src/select/parts/filter.tsx","../node_modules/@cloudscape-design/components/internal/components/button-trigger/styles.css.js","../node_modules/src/internal/components/button-trigger/index.tsx","../node_modules/src/select/parts/trigger.tsx","../node_modules/@cloudscape-design/components/token-group/styles.css.js","../node_modules/@cloudscape-design/components/internal/components/token-list/styles.css.js","../node_modules/src/internal/components/token-list/token-limit-toggle.tsx","../node_modules/src/internal/components/token-list/token-focus-controller.tsx","../node_modules/src/internal/components/token-list/index.tsx","../node_modules/src/token-group/dismiss-button.tsx","../node_modules/src/token-group/token.tsx","../node_modules/src/token-group/internal.tsx","../node_modules/@cloudscape-design/components/multiselect/styles.css.js","../node_modules/src/multiselect/internal.tsx","../node_modules/src/select/utils/check-option-value-field.ts","../node_modules/src/select/utils/use-load-items.ts","../node_modules/src/select/utils/use-announcement.ts","../node_modules/@cloudscape-design/components/internal/components/chart-filter/styles.css.js","../node_modules/src/internal/components/chart-filter/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-legend/styles.css.js","../node_modules/src/internal/components/chart-legend/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-plot/styles.css.js","../node_modules/src/internal/components/chart-plot/application-controller.tsx","../node_modules/src/internal/components/chart-plot/focus-outline.tsx","../node_modules/src/internal/components/chart-plot/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-popover-footer/styles.css.js","../node_modules/src/internal/components/chart-popover-footer/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-popover/styles.css.js","../node_modules/src/internal/components/chart-popover/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-series-details/styles.css.js","../node_modules/src/internal/components/chart-series-details/index.tsx","../node_modules/src/internal/components/chart-series-details/series-details-text.ts","../node_modules/@cloudscape-design/components/internal/components/chart-series-marker/styles.css.js","../node_modules/src/internal/components/chart-series-marker/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-status-container/styles.css.js","../node_modules/src/internal/components/chart-status-container/index.tsx","../node_modules/@cloudscape-design/components/internal/components/chart-wrapper/styles.css.js","../node_modules/src/internal/components/chart-wrapper/index.tsx","../node_modules/src/internal/components/responsive-text/responsive-text-utils.ts","../node_modules/src/internal/components/responsive-text/index.tsx","../node_modules/src/internal/hooks/container-queries/use-height-measure.ts","../node_modules/src/internal/styles/colors.ts","../node_modules/src/internal/utils/create-category-color-scale.ts","../node_modules/src/internal/utils/use-container-width.ts","../node_modules/d3-shape/src/descending.js","../node_modules/d3-shape/src/identity.js","../node_modules/d3-shape/src/math.js","../node_modules/d3-shape/src/arc.js","../node_modules/@cloudscape-design/components/pie-chart/styles.css.js","../node_modules/src/pie-chart/utils.ts","../node_modules/src/pie-chart/responsive-text.tsx","../node_modules/src/pie-chart/labels.tsx","../node_modules/src/pie-chart/segments.tsx","../node_modules/src/pie-chart/pie-chart.tsx","../node_modules/src/pie-chart/index.tsx","../node_modules/d3-shape/src/pie.js","../node_modules/src/status-indicator/index.tsx","../node_modules/d3-path/src/path.js","../node_modules/d3-shape/src/constant.js"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\n\nimport { AreaChartProps } from '../interfaces';\nimport { ChartModel } from '../model';\nimport ChartFilter from '../../internal/components/chart-filter';\n\nexport default memo(AreaChartFilter) as typeof AreaChartFilter;\n\nfunction AreaChartFilter<T extends AreaChartProps.DataTypes>({\n  model,\n  filterLabel,\n  filterPlaceholder,\n  filterSelectedAriaLabel,\n}: {\n  model: ChartModel<T>;\n  filterLabel?: string;\n  filterPlaceholder?: string;\n  filterSelectedAriaLabel?: string;\n}) {\n  const filterItems = model.allSeries.map(s => {\n    const { title, color, markerType } = model.getInternalSeries(s);\n    return { label: title, color, type: markerType, datum: s };\n  });\n\n  return (\n    <ChartFilter\n      series={filterItems}\n      onChange={model.handlers.onFilterSeries}\n      selectedSeries={model.series}\n      i18nStrings={{\n        filterLabel,\n        filterPlaceholder,\n        filterSelectedAriaLabel,\n      }}\n    />\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useMemo } from 'react';\n\nimport { AreaChartProps } from '../interfaces';\nimport ChartLegend from '../../internal/components/chart-legend';\nimport { ChartModel } from '../model';\nimport { useSelector } from '../async-store';\n\nexport default memo(AreaChartLegend) as typeof AreaChartLegend;\n\nfunction AreaChartLegend<T extends AreaChartProps.DataTypes>({\n  model,\n  legendTitle,\n  ariaLabel,\n  plotContainerRef,\n}: {\n  model: ChartModel<T>;\n  plotContainerRef: React.RefObject<HTMLDivElement>;\n  legendTitle?: string;\n  ariaLabel?: string;\n}) {\n  const legendItems = useMemo(\n    () =>\n      model.series.map(s => {\n        const { title, color, markerType } = model.getInternalSeries(s);\n        return { label: title, color, type: markerType, datum: s };\n      }),\n    [model]\n  );\n\n  const legendSeries = useSelector(model.interactions, state => state.legendSeries);\n\n  return (\n    <ChartLegend\n      series={legendItems}\n      highlightedSeries={legendSeries}\n      onHighlightChange={model.handlers.onLegendHighlight}\n      legendTitle={legendTitle}\n      ariaLabel={ariaLabel}\n      plotContainerRef={plotContainerRef}\n    />\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"axis\": \"awsui_axis_f0fot_11j60_9\",\n  \"vertical-marker\": \"awsui_vertical-marker_f0fot_11j60_10\",\n  \"axis--emphasized\": \"awsui_axis--emphasized_f0fot_11j60_15\",\n  \"axis-label\": \"awsui_axis-label_f0fot_11j60_19\",\n  \"axis-label--x\": \"awsui_axis-label--x_f0fot_11j60_24\",\n  \"axis-label--y\": \"awsui_axis-label--y_f0fot_11j60_25\",\n  \"grid\": \"awsui_grid_f0fot_11j60_29\",\n  \"ticks__line\": \"awsui_ticks__line_f0fot_11j60_34\",\n  \"ticks__text\": \"awsui_ticks__text_f0fot_11j60_39\",\n  \"ticks--y\": \"awsui_ticks--y_f0fot_11j60_44\",\n  \"ticks--x\": \"awsui_ticks--x_f0fot_11j60_45\",\n  \"ticks--bottom\": \"awsui_ticks--bottom_f0fot_11j60_49\",\n  \"labels-inline-start\": \"awsui_labels-inline-start_f0fot_11j60_54\",\n  \"ticks\": \"awsui_ticks_f0fot_11j60_34\",\n  \"labels-inline-start__label\": \"awsui_labels-inline-start__label_f0fot_11j60_69\",\n  \"labels-inline-start--hidden\": \"awsui_labels-inline-start--hidden_f0fot_11j60_73\",\n  \"labels-block-end\": \"awsui_labels-block-end_f0fot_11j60_81\",\n  \"vertical-marker-circle\": \"awsui_vertical-marker-circle_f0fot_11j60_92\",\n  \"vertical-marker-circle-active\": \"awsui_vertical-marker-circle-active_f0fot_11j60_98\",\n  \"focus-outline\": \"awsui_focus-outline_f0fot_11j60_103\",\n  \"chart-container\": \"awsui_chart-container_f0fot_11j60_111\",\n  \"fit-height\": \"awsui_fit-height_f0fot_11j60_116\",\n  \"chart-container-outer\": \"awsui_chart-container-outer_f0fot_11j60_121\",\n  \"chart-container-inner\": \"awsui_chart-container-inner_f0fot_11j60_128\",\n  \"chart-container-plot-wrapper\": \"awsui_chart-container-plot-wrapper_f0fot_11j60_135\",\n  \"chart-container-plot\": \"awsui_chart-container-plot_f0fot_11j60_135\",\n  \"chart-container-bottom-labels\": \"awsui_chart-container-bottom-labels_f0fot_11j60_147\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\nimport clsx from 'clsx';\n\nimport InternalBox from '../../../box/internal';\n\nimport styles from './styles.css.js';\n\ninterface AxisLabelProps {\n  title?: string;\n  axis: 'x' | 'y';\n  position: 'left' | 'bottom';\n}\n\nexport default memo(AxisLabel) as typeof AxisLabel;\n\nfunction AxisLabel({ title, axis, position }: AxisLabelProps) {\n  if (!title) {\n    return null;\n  }\n\n  return (\n    <InternalBox\n      className={clsx(styles['axis-label'], axis === 'x' ? styles['axis-label--x'] : styles['axis-label--y'])}\n      fontWeight=\"bold\"\n      textAlign={position === 'left' ? 'left' : 'center'}\n      margin={{ bottom: position === 'left' ? 'l' : 'n' }}\n    >\n      <span aria-hidden=\"true\">{title}</span>\n    </InternalBox>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useEffect, Fragment } from 'react';\nimport clsx from 'clsx';\n\nimport { ChartScale, NumericChartScale } from './scales';\n\nimport styles from './styles.css.js';\nimport { ChartDataTypes } from '../../../mixed-line-bar-chart/interfaces';\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\n\ninterface LabelsMeasureProps {\n  scale: ChartScale | NumericChartScale;\n  ticks: readonly ChartDataTypes[];\n  tickFormatter?: (value: ChartDataTypes) => string;\n  autoWidth: (value: number) => void;\n  maxLabelsWidth?: number;\n}\n\nexport default memo(LabelsMeasure) as typeof LabelsMeasure;\n\n// Places the invisible left-hand side labels to calculate their maximum width.\nfunction LabelsMeasure({ scale, ticks, tickFormatter, autoWidth, maxLabelsWidth }: LabelsMeasureProps) {\n  const [width, ref] = useContainerQuery<number>(rect => rect.contentBoxWidth);\n\n  // Tell elements's width to the parent.\n  useEffect(() => {\n    autoWidth(width || 0);\n  }, [autoWidth, width]);\n\n  const labelMapper = (value: ChartDataTypes) => {\n    const scaledValue = scale.d3Scale(value as any);\n    if (scaledValue === undefined || !isFinite(scaledValue)) {\n      return null;\n    }\n\n    const formattedValue = tickFormatter ? tickFormatter(value as any) : value.toString();\n    const lines = (formattedValue + '').split('\\n');\n\n    return (\n      <Fragment key={`${value}`}>\n        {lines.map((line, lineIndex) => (\n          <div key={lineIndex} className={styles['labels-inline-start__label']} aria-hidden=\"true\">\n            {line}\n          </div>\n        ))}\n      </Fragment>\n    );\n  };\n\n  return (\n    <div\n      ref={ref}\n      className={clsx(styles['labels-inline-start'], styles['labels-inline-start--hidden'])}\n      style={{ maxWidth: maxLabelsWidth }}\n    >\n      {ticks.map(labelMapper)}\n    </div>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const TICK_LENGTH = 8;\nexport const TICK_MARGIN = 4;\nexport const TICK_LINE_HEIGHT = 16;\nexport const X_TICK_COUNT_RATIO = 100;\nexport const Y_TICK_COUNT_RATIO = 50;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ChartDataTypes } from './interfaces';\nimport { ChartScale, NumericChartScale } from './scales';\n\nconst SPACE_BETWEEN = 4;\n\nexport interface FormattedTick {\n  position: number;\n  space: number;\n  lines: string[];\n}\n\nexport function formatTicks({\n  ticks,\n  scale,\n  getLabelSpace,\n  tickFormatter,\n}: {\n  ticks: readonly ChartDataTypes[];\n  scale: ChartScale | NumericChartScale;\n  getLabelSpace: (label: string) => number;\n  tickFormatter?: (value: any) => string;\n}): FormattedTick[] {\n  return ticks.map(tick => {\n    const position = scale.d3Scale(tick as any) ?? NaN;\n    const label = tickFormatter ? tickFormatter(tick as any) : tick.toString();\n    const lines = (label + '').split('\\n');\n    return { position, lines, space: Math.max(...lines.map(getLabelSpace)) };\n  });\n}\n\nexport function getVisibleTicks(ticks: readonly FormattedTick[], from: number, until: number, balanceTicks = false) {\n  ticks = getTicksInRange(ticks, from, until);\n  return balanceTicks ? getReducedTicks(ticks) : removeIntersections(ticks);\n}\n\nfunction getTicksInRange(ticks: readonly FormattedTick[], from: number, until: number) {\n  return ticks.filter(tick => from <= tick.position - tick.space / 2 && tick.position + tick.space / 2 <= until);\n}\n\nfunction getReducedTicks(ticks: readonly FormattedTick[]): readonly FormattedTick[] {\n  const reduceLabelRatio = findReduceLabelRatio(ticks);\n\n  const reducedTicks = [];\n  for (let index = 0; index < ticks.length; index += reduceLabelRatio) {\n    reducedTicks.push(ticks[index]);\n  }\n  return reducedTicks;\n}\n\n// Returns a ratio such that all elements can be displayed with no intersections.\nfunction findReduceLabelRatio(ticks: readonly FormattedTick[], ratio = 1): number {\n  if (ratio >= ticks.length) {\n    return ratio;\n  }\n  for (let i = ratio; i < ticks.length; i += ratio) {\n    if (hasIntersection(ticks[i - ratio], ticks[i])) {\n      return findReduceLabelRatio(ticks, ratio + 1);\n    }\n  }\n  return ratio;\n}\n\nfunction removeIntersections(ticks: readonly FormattedTick[]) {\n  const visibleTicks = [];\n  let prevTick = null;\n  for (const tick of ticks) {\n    if (!prevTick || !hasIntersection(prevTick, tick)) {\n      visibleTicks.push(tick);\n      prevTick = tick;\n    }\n  }\n  return visibleTicks;\n}\n\nfunction hasIntersection(a: FormattedTick, b: FormattedTick) {\n  const [left, right] = a.position < b.position ? [a, b] : [b, a];\n  const leftEdge = left.position + left.space / 2 + SPACE_BETWEEN;\n  const rightEdge = right.position - right.space / 2;\n  return leftEdge > rightEdge;\n}\n\n// Ignoring as unsupported in JSDom.\n/* istanbul ignore next */\nexport function getSVGTextSize(element: null | SVGTextElement): undefined | { width: number; height: number } {\n  if (element && element.getBBox) {\n    return element.getBBox();\n  }\n  return undefined;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { ChartScale, NumericChartScale } from './scales';\nimport { TICK_LENGTH, TICK_LINE_HEIGHT, TICK_MARGIN } from './constants';\n\nimport styles from './styles.css.js';\nimport { formatTicks, getSVGTextSize, getVisibleTicks } from './label-utils';\nimport { ChartDataTypes } from '../../../mixed-line-bar-chart/interfaces';\nimport { useInternalI18n } from '../../../i18n/context';\nimport ResponsiveText from '../responsive-text';\nimport { getIsRtl } from '@cloudscape-design/component-toolkit/internal';\n\nconst OFFSET_PX = 12;\n\ninterface InlineStartLabelsProps {\n  axis?: 'x' | 'y';\n  plotWidth: number;\n  plotHeight: number;\n  maxLabelsWidth?: number;\n  scale: ChartScale | NumericChartScale;\n  ticks: readonly ChartDataTypes[];\n  tickFormatter?: (value: number) => string;\n  title?: string;\n  ariaRoleDescription?: string;\n}\n\nexport default memo(InlineStartLabels) as typeof InlineStartLabels;\n\n// Renders the visible tick labels on the value axis, as well as their grid lines.\nfunction InlineStartLabels({\n  axis = 'y',\n  plotWidth,\n  plotHeight,\n  maxLabelsWidth = Number.POSITIVE_INFINITY,\n  scale,\n  ticks,\n  tickFormatter,\n  title,\n  ariaRoleDescription,\n}: InlineStartLabelsProps) {\n  const i18n = useInternalI18n('[charts]');\n  const virtualTextRef = useRef<SVGTextElement>(null);\n\n  const yOffset = axis === 'x' && scale.isCategorical() ? Math.max(0, scale.d3Scale.bandwidth() - 1) / 2 : 0;\n\n  const labelToBoxCache = useRef<{ [label: string]: undefined | { width: number; height: number } }>({});\n  const getLabelSpace = (label: string) => {\n    if (labelToBoxCache.current[label] !== undefined) {\n      return labelToBoxCache.current[label]?.height ?? 0;\n    }\n    if (virtualTextRef.current) {\n      virtualTextRef.current.textContent = label;\n    }\n    labelToBoxCache.current[label] = getSVGTextSize(virtualTextRef.current);\n    return labelToBoxCache.current[label]?.height ?? 0;\n  };\n\n  const formattedTicks = formatTicks({ ticks, scale, getLabelSpace, tickFormatter });\n\n  if (virtualTextRef.current) {\n    virtualTextRef.current.textContent = '';\n  }\n\n  const from = 0 - OFFSET_PX - yOffset;\n  const until = plotHeight + OFFSET_PX - yOffset;\n  const visibleTicks = getVisibleTicks(formattedTicks, from, until);\n\n  const isRtl = virtualTextRef.current ? getIsRtl(virtualTextRef.current) : false;\n\n  return (\n    <g\n      className={styles['labels-inline-start']}\n      aria-label={title}\n      role=\"list\"\n      aria-roledescription={i18n('i18nStrings.chartAriaRoleDescription', ariaRoleDescription)}\n      aria-hidden={true}\n    >\n      {visibleTicks.map(\n        ({ position, lines }, index) =>\n          isFinite(position) && (\n            <g\n              key={index}\n              role=\"listitem\"\n              transform={`translate(0,${position + yOffset})`}\n              className={clsx(styles.ticks, axis === 'x' ? styles['ticks--x'] : styles['ticks--y'])}\n            >\n              {axis === 'y' && (\n                <line\n                  className={clsx(styles.grid, styles.ticks_line)}\n                  x1={-TICK_LENGTH}\n                  y1={0}\n                  x2={plotWidth}\n                  y2={0}\n                  aria-hidden=\"true\"\n                />\n              )}\n\n              {lines.map((line, lineIndex) => {\n                const x = -(TICK_LENGTH + TICK_MARGIN);\n                const lineTextProps = {\n                  x: !isRtl ? x : plotWidth - x,\n                  y: (lineIndex - (lines.length - 1) * 0.5) * TICK_LINE_HEIGHT,\n                  className: styles.ticks__text,\n                  children: line,\n                };\n                return (labelToBoxCache.current[lines[0]]?.width ?? 0) > maxLabelsWidth ? (\n                  <ResponsiveText key={lineIndex} {...lineTextProps} maxWidth={maxLabelsWidth} />\n                ) : (\n                  <text key={lineIndex} {...lineTextProps} />\n                );\n              })}\n            </g>\n          )\n      )}\n\n      <text ref={virtualTextRef} x={0} y={0} style={{ visibility: 'hidden' }} aria-hidden=\"true\"></text>\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { ChartDataTypes } from './interfaces';\nimport { ChartScale, NumericChartScale } from './scales';\nimport { TICK_LENGTH, TICK_LINE_HEIGHT, TICK_MARGIN } from './constants';\n\nimport styles from './styles.css.js';\nimport { formatTicks, getVisibleTicks, FormattedTick } from './label-utils';\nimport { useInternalI18n } from '../../../i18n/context';\n\ninterface BlockEndLabelsProps {\n  axis?: 'x' | 'y';\n  width: number;\n  height: number;\n  scale: ChartScale | NumericChartScale;\n  title?: string;\n  ariaRoleDescription?: string;\n  offsetLeft?: number;\n  offsetRight?: number;\n  virtualTextRef: React.Ref<SVGTextElement>;\n  formattedTicks: readonly FormattedTick[];\n}\n\nexport function useBLockEndLabels({\n  ticks,\n  scale,\n  tickFormatter,\n}: {\n  scale: ChartScale | NumericChartScale;\n  ticks: readonly ChartDataTypes[];\n  tickFormatter?: (value: ChartDataTypes) => string;\n}) {\n  const virtualTextRef = useRef<SVGTextElement>(null);\n\n  const cacheRef = useRef<{ [label: string]: number }>({});\n  const getLabelSpace = (label: string) => {\n    if (cacheRef.current[label] !== undefined && cacheRef.current[label] !== 0) {\n      return cacheRef.current[label];\n    }\n    if (virtualTextRef.current && virtualTextRef.current.getComputedTextLength) {\n      virtualTextRef.current.textContent = label;\n      cacheRef.current[label] = virtualTextRef.current.getComputedTextLength();\n      return cacheRef.current[label];\n    }\n    return 0;\n  };\n\n  const formattedTicks = formatTicks({ ticks, scale, getLabelSpace, tickFormatter });\n\n  if (virtualTextRef.current) {\n    virtualTextRef.current.textContent = '';\n  }\n\n  let height = TICK_LENGTH + TICK_MARGIN;\n  for (const { lines } of formattedTicks) {\n    height = Math.max(height, TICK_LENGTH + TICK_MARGIN + lines.length * TICK_LINE_HEIGHT);\n  }\n\n  return { virtualTextRef, formattedTicks, height };\n}\n\nexport default memo(BlockEndLabels) as typeof BlockEndLabels;\n\n// Renders the visible tick labels on the bottom axis, as well as their grid lines.\nfunction BlockEndLabels({\n  axis = 'x',\n  width,\n  height,\n  scale,\n  title,\n  ariaRoleDescription,\n  offsetLeft = 0,\n  offsetRight = 0,\n  virtualTextRef,\n  formattedTicks,\n}: BlockEndLabelsProps) {\n  const i18n = useInternalI18n('[charts]');\n\n  const xOffset = scale.isCategorical() && axis === 'x' ? Math.max(0, scale.d3Scale.bandwidth() - 1) / 2 : 0;\n\n  const from = 0 - offsetLeft - xOffset;\n  const until = width + offsetRight - xOffset;\n  const balanceLabels = axis === 'x' && scale.scaleType !== 'log';\n  const visibleTicks = getVisibleTicks(formattedTicks, from, until, balanceLabels);\n\n  return (\n    <g\n      transform={`translate(0,${height})`}\n      className={styles['labels-block-end']}\n      aria-label={title}\n      role=\"list\"\n      aria-roledescription={i18n('i18nStrings.chartAriaRoleDescription', ariaRoleDescription)}\n      aria-hidden={true}\n    >\n      {visibleTicks.map(\n        ({ position, lines }, index) =>\n          isFinite(position) && (\n            <g\n              key={index}\n              transform={`translate(${position + xOffset},0)`}\n              className={clsx(styles.ticks, styles['ticks--bottom'], {\n                [styles['ticks--x']]: axis === 'x',\n                [styles['ticks--y']]: axis === 'y',\n              })}\n              role=\"listitem\"\n              aria-label={lines.join('\\n')}\n            >\n              <line className={styles.ticks__line} x1={0} x2={0} y1={0} y2={TICK_LENGTH} aria-hidden=\"true\" />\n              {lines.map((line, lineIndex) => (\n                <text\n                  className={styles.ticks__text}\n                  key={lineIndex}\n                  x={0}\n                  y={TICK_LENGTH + TICK_MARGIN + lineIndex * TICK_LINE_HEIGHT}\n                >\n                  {line}\n                </text>\n              ))}\n            </g>\n          )\n      )}\n\n      <text ref={virtualTextRef} x={0} y={0} style={{ visibility: 'hidden' }} aria-hidden=\"true\"></text>\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\nimport clsx from 'clsx';\n\nimport { NumericChartScale } from './scales';\nimport { TICK_MARGIN, TICK_LENGTH } from './constants';\n\nimport styles from './styles.css.js';\n\ninterface EmphasizedBaselineProps {\n  axis?: 'x' | 'y';\n  width: number;\n  height: number;\n  scale: NumericChartScale;\n}\n\nexport default memo(EmphasizedBaseline) as typeof EmphasizedBaseline;\n\nfunction EmphasizedBaseline({ axis = 'x', width, height, scale }: EmphasizedBaselineProps) {\n  // Y position of the zero baseline, if it exists\n  const baselineY = scale.d3Scale(0) ?? NaN;\n  const showYBaseline = axis === 'x' && isFinite(baselineY) && baselineY <= height;\n\n  if (showYBaseline) {\n    return (\n      <line\n        className={clsx(styles.axis, styles['axis--emphasized'])}\n        x1={-TICK_MARGIN}\n        x2={width}\n        y1={baselineY}\n        y2={baselineY}\n        aria-hidden=\"true\"\n      />\n    );\n  }\n\n  if (axis === 'y') {\n    return (\n      <line\n        className={clsx(styles.axis, styles['axis--emphasized'])}\n        x1={0}\n        y1={0}\n        x2={0}\n        y2={height + TICK_LENGTH}\n        aria-hidden=\"true\"\n      />\n    );\n  }\n\n  return null;\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\nimport { line, area } from 'd3-shape';\nimport { ChartModel } from '../model';\n\nexport interface AreaSeriesProps<T> {\n  data: readonly ChartModel.PlotPoint<T>[];\n  color: string;\n  chartAreaClipPath: string;\n}\n\nexport default memo(AreaSeries) as typeof AreaSeries;\n\nfunction AreaSeries<T>({ data, color, chartAreaClipPath }: AreaSeriesProps<T>) {\n  const areaGenerator = area<ChartModel.PlotPoint<T>>()\n    .x((p: ChartModel.PlotPoint<T>) => p.scaled.x)\n    .y0((p: ChartModel.PlotPoint<T>) => p.scaled.y0)\n    .y1((p: ChartModel.PlotPoint<T>) => p.scaled.y1);\n  const areaPath = areaGenerator(data as ChartModel.PlotPoint<T>[]) || '';\n\n  const lineGenerator = line<ChartModel.PlotPoint<T>>()\n    .x((p: ChartModel.PlotPoint<T>) => p.scaled.x)\n    .y((p: ChartModel.PlotPoint<T>) => p.scaled.y1);\n  const linePath = lineGenerator(data as ChartModel.PlotPoint<T>[]) || '';\n\n  return (\n    <>\n      <path\n        aria-hidden={true}\n        fill={color}\n        stroke={color}\n        style={{ opacity: 0.4 }}\n        clipPath={`url(#${chartAreaClipPath})`}\n        d={areaPath}\n      />\n      <path aria-hidden={true} stroke={color} clipPath={`url(#${chartAreaClipPath})`} d={linePath} />\n    </>\n  );\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\nimport { ChartScale } from '../../internal/components/cartesian-chart/scales';\nimport { ChartModel } from '../model';\n\nexport interface ThresholdSeriesProps<T> {\n  data: readonly ChartModel.PlotPoint<T>[];\n  xScale: ChartScale;\n  color: string;\n  chartAreaClipPath: string;\n}\n\nexport default memo(ThresholdSeries) as typeof ThresholdSeries;\n\nfunction ThresholdSeries<T>({ data, xScale, color, chartAreaClipPath }: ThresholdSeriesProps<T>) {\n  const range = xScale.d3Scale.range();\n  const y = data[0].scaled.y0;\n  const path = { x1: range[0], x2: range[1], y1: y, y2: y };\n\n  return <line aria-hidden={true} stroke={color} clipPath={`url(#${chartAreaClipPath})`} {...path} />;\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"series\": \"awsui_series_y1yrh_mrtbw_97\",\n  \"root\": \"awsui_root_y1yrh_mrtbw_115\",\n  \"series--highlighted\": \"awsui_series--highlighted_y1yrh_mrtbw_127\",\n  \"series--dimmed\": \"awsui_series--dimmed_y1yrh_mrtbw_131\",\n  \"series--threshold\": \"awsui_series--threshold_y1yrh_mrtbw_135\",\n  \"popover-divider\": \"awsui_popover-divider_y1yrh_mrtbw_140\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\nimport clsx from 'clsx';\n\nimport { useUniqueId } from '../../internal/hooks/use-unique-id';\nimport AreaSeries from './area-series';\nimport ThresholdSeries from './threshold-series';\nimport { AreaChartProps } from '../interfaces';\nimport { ChartModel } from '../model';\n\nimport styles from '../styles.css.js';\nimport { useSelector } from '../async-store';\n\nexport default memo(DataSeries) as typeof DataSeries;\n\nfunction DataSeries<T extends AreaChartProps.DataTypes>({ model }: { model: ChartModel<T> }) {\n  const chartAreaClipPath = useUniqueId('awsui-area-chart__chart-area-');\n\n  const highlightedX = useSelector(model.interactions, state => state.highlightedX);\n  const highlightedSeries = useSelector(model.interactions, state => state.highlightedSeries);\n  const useHighlightDimmed = !highlightedX;\n\n  // Iterating series in the reversed order so that SVG paths overlap correctly.\n  const seriesData: [AreaChartProps.Series<T>, ChartModel.PlotPoint<T>[]][] = [];\n  for (let seriesIndex = model.series.length - 1; seriesIndex >= 0; seriesIndex--) {\n    if (model.computed.plot.sx[seriesIndex]) {\n      seriesData.push([model.series[seriesIndex], model.computed.plot.sx[seriesIndex] || []]);\n    }\n  }\n\n  return (\n    <>\n      <defs aria-hidden=\"true\">\n        <clipPath id={chartAreaClipPath}>\n          <rect x={0} y={0} width={model.width} height={model.height} />\n        </clipPath>\n      </defs>\n      <g role=\"group\">\n        {seriesData.map(([series, data]) => {\n          const isHighlighted = series === highlightedSeries;\n          const isDimmed = !!highlightedSeries && !isHighlighted;\n\n          return (\n            <g\n              key={series.title}\n              role=\"group\"\n              aria-label={series.title}\n              className={clsx(styles.series, styles[`series--${series.type}`], {\n                [styles['series--highlighted']]: isHighlighted,\n                [styles['series--dimmed']]: useHighlightDimmed && isDimmed,\n              })}\n            >\n              {series.type === 'area' ? (\n                <AreaSeries\n                  data={data}\n                  color={model.getInternalSeries(series).color}\n                  chartAreaClipPath={chartAreaClipPath}\n                />\n              ) : (\n                <ThresholdSeries\n                  data={data}\n                  xScale={model.computed.xScale}\n                  color={model.getInternalSeries(series).color}\n                  chartAreaClipPath={chartAreaClipPath}\n                />\n              )}\n            </g>\n          );\n        })}\n      </g>\n    </>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport ChartPopover from '../../internal/components/chart-popover';\nimport ChartSeriesDetails from '../../internal/components/chart-series-details';\n\nimport { AreaChartProps } from '../interfaces';\nimport { ChartModel } from '../model';\nimport styles from '../styles.css.js';\nimport { HighlightDetails } from './use-highlight-details';\nimport ChartPopoverFooter from '../../internal/components/chart-popover-footer';\n\nexport default function AreaChartPopover<T extends AreaChartProps.DataTypes>({\n  model,\n  highlightDetails,\n  dismissAriaLabel,\n  footer,\n  size,\n  onBlur,\n}: {\n  model: ChartModel<T>;\n  highlightDetails: null | HighlightDetails;\n  dismissAriaLabel?: string;\n  footer?: React.ReactNode;\n  size?: 'small' | 'medium' | 'large';\n  onBlur?: (event: React.FocusEvent) => void;\n}) {\n  if (!highlightDetails) {\n    return null;\n  }\n\n  const popoverProps = {\n    title: highlightDetails.formattedX,\n    trackRef: model.refs.verticalMarker,\n    trackKey: highlightDetails.highlightIndex,\n    dismissButton: highlightDetails.isPopoverPinned,\n    onDismiss: model.handlers.onPopoverDismiss,\n    onMouseLeave: model.handlers.onPopoverLeave,\n    ref: model.refs.popoverRef,\n  };\n\n  return (\n    <ChartPopover\n      {...popoverProps}\n      container={model.refs.container.current}\n      dismissAriaLabel={dismissAriaLabel}\n      size={size}\n      onBlur={onBlur}\n    >\n      <ChartSeriesDetails details={highlightDetails.seriesDetails} />\n      <div className={styles['popover-divider']} />\n      <ChartSeriesDetails details={highlightDetails.totalDetails} />\n      {footer && <ChartPopoverFooter>{footer}</ChartPopoverFooter>}\n    </ChartPopover>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, memo } from 'react';\n\nimport styles from './styles.css.js';\n\ninterface SeriesPoint {\n  key: string;\n  x: number;\n  y: number;\n  color: string;\n}\n\nexport interface HighlightedPointProps {\n  point: null | SeriesPoint;\n  role?: 'group' | 'button';\n  ariaLabel?: string;\n  ariaHasPopup?: boolean;\n  ariaExpanded?: boolean;\n}\n\nexport default memo(forwardRef(HighlightedPoint));\n\nfunction HighlightedPoint(\n  { point, role = 'group', ariaLabel, ariaHasPopup, ariaExpanded }: HighlightedPointProps,\n  ref: React.Ref<SVGGElement>\n) {\n  if (!point) {\n    return null;\n  }\n\n  return (\n    <g ref={ref} role={role} aria-label={ariaLabel} aria-haspopup={ariaHasPopup} aria-expanded={ariaExpanded}>\n      <circle\n        key={point.key}\n        aria-hidden=\"true\"\n        className={styles['vertical-marker-circle-active']}\n        cx={point.x}\n        cy={point.y}\n        r={4}\n        stroke={point.color}\n        fill={point.color}\n      />\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, memo } from 'react';\n\nimport HighlightedPoint from '../../internal/components/cartesian-chart/highlighted-point';\n\nimport { ChartModel } from '../model';\nimport { useSelector } from '../async-store';\n\nexport default memo(forwardRef(AreaHighlightedPoint));\n\nfunction AreaHighlightedPoint(\n  {\n    model,\n    ariaLabel,\n  }: {\n    model: ChartModel<any>;\n    ariaLabel?: string;\n  },\n  ref: React.Ref<SVGGElement>\n) {\n  const highlightedPoint = useSelector(model.interactions, state => state.highlightedPoint);\n  const isPopoverPinned = useSelector(model.interactions, state => state.isPopoverPinned);\n\n  const point = highlightedPoint\n    ? {\n        key: `${highlightedPoint.index.x}:${highlightedPoint.index.s}`,\n        x: highlightedPoint.scaled.x,\n        y: highlightedPoint.scaled.y1,\n        color: model.getInternalSeries(model.series[highlightedPoint.index.s]).color,\n      }\n    : null;\n\n  return (\n    <HighlightedPoint\n      ref={ref}\n      point={point}\n      role=\"button\"\n      ariaLabel={ariaLabel}\n      ariaHasPopup={true}\n      ariaExpanded={isPopoverPinned}\n    />\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, memo } from 'react';\n\nimport styles from './styles.css.js';\n\ninterface SeriesPoint {\n  key: string;\n  x: number;\n  y: number;\n  color: string;\n}\n\nexport interface VerticalMarkerProps {\n  height: number;\n  showPoints?: boolean;\n  showLine?: boolean;\n  points: null | readonly SeriesPoint[];\n}\n\nexport default memo(forwardRef(VerticalMarker));\n\nfunction VerticalMarker(\n  { height, showPoints = true, showLine = true, points }: VerticalMarkerProps,\n  ref: React.Ref<SVGLineElement>\n) {\n  const [firstPoint] = points || [];\n\n  return (\n    <g>\n      <line\n        ref={ref}\n        aria-hidden=\"true\"\n        className={styles['vertical-marker']}\n        style={{ visibility: showLine && firstPoint ? 'visible' : 'hidden' }}\n        x1={firstPoint?.x}\n        x2={firstPoint?.x}\n        y1={0}\n        y2={height}\n      />\n\n      {showPoints &&\n        points &&\n        points.map(point => (\n          <circle\n            key={point.key}\n            aria-hidden=\"true\"\n            className={styles['vertical-marker-circle']}\n            cx={point.x}\n            cy={point.y}\n            r={4}\n            stroke={point.color}\n          />\n        ))}\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\n\nimport VerticalMarker from '../../internal/components/cartesian-chart/vertical-marker';\n\nimport { AreaChartProps } from '../interfaces';\nimport { ChartModel } from '../model';\nimport { useSelector } from '../async-store';\n\nexport default memo(AreaVerticalMarker) as typeof AreaVerticalMarker;\n\nfunction AreaVerticalMarker<T extends AreaChartProps.DataTypes>({ model }: { model: ChartModel<T> }) {\n  const highlightedX = useSelector(model.interactions, state => state.highlightedX);\n\n  const verticalMarker = (highlightedX || []).map(point => ({\n    key: `${point.index.x}:${point.index.s}`,\n    x: point.scaled.x,\n    y: point.scaled.y1,\n    color: model.getInternalSeries(model.series[point.index.s]).color,\n  }));\n\n  return <VerticalMarker height={model.height} points={verticalMarker} ref={model.refs.verticalMarker} />;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { forwardRef } from 'react';\nimport styles from './styles.css.js';\nimport clsx from 'clsx';\n\ninterface CartesianChartContainerProps {\n  minHeight: number;\n  fitHeight: boolean;\n  leftAxisLabel: React.ReactNode;\n  leftAxisLabelMeasure: React.ReactNode;\n  bottomAxisLabel: React.ReactNode;\n  chartPlot: React.ReactNode;\n  popover: React.ReactNode;\n}\n\nconst CONTENT_MIN_HEIGHT_BOUNDARY = 40;\n\nexport const CartesianChartContainer = forwardRef(\n  (\n    {\n      minHeight,\n      fitHeight,\n      leftAxisLabel,\n      leftAxisLabelMeasure,\n      bottomAxisLabel,\n      chartPlot,\n      popover,\n    }: CartesianChartContainerProps,\n    ref: React.Ref<HTMLDivElement>\n  ) => {\n    if (fitHeight) {\n      return (\n        <div className={clsx(styles['chart-container'], styles['fit-height'])} ref={ref}>\n          {leftAxisLabel}\n\n          <div className={clsx(styles['chart-container-outer'], styles['fit-height'])}>\n            {leftAxisLabelMeasure}\n\n            <div className={styles['chart-container-inner']}>\n              <div\n                className={clsx(styles['chart-container-plot-wrapper'], styles['fit-height'])}\n                style={{ minHeight: Math.max(minHeight, CONTENT_MIN_HEIGHT_BOUNDARY) }}\n              >\n                <div className={clsx(styles['chart-container-plot'], styles['fit-height'])}>{chartPlot}</div>\n              </div>\n\n              <div className={clsx(styles['chart-container-bottom-labels'], styles['fit-height'])}>\n                {bottomAxisLabel}\n              </div>\n            </div>\n\n            {popover}\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className={styles['chart-container']} ref={ref}>\n        {leftAxisLabel}\n\n        <div className={styles['chart-container-outer']}>\n          {leftAxisLabelMeasure}\n\n          <div className={styles['chart-container-inner']}>\n            {chartPlot}\n            {bottomAxisLabel}\n          </div>\n\n          {popover}\n        </div>\n      </div>\n    );\n  }\n);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState, useEffect, memo, useRef, useMemo } from 'react';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\n\nimport ChartPlot from '../internal/components/chart-plot';\nimport AxisLabel from '../internal/components/cartesian-chart/axis-label';\nimport LabelsMeasure from '../internal/components/cartesian-chart/labels-measure';\nimport InlineStartLabels from '../internal/components/cartesian-chart/inline-start-labels';\nimport BlockEndLabels, { useBLockEndLabels } from '../internal/components/cartesian-chart/block-end-labels';\nimport EmphasizedBaseline from '../internal/components/cartesian-chart/emphasized-baseline';\nimport { AreaChartProps } from './interfaces';\nimport { ChartModel } from './model';\nimport AreaDataSeries from './elements/data-series';\nimport AreaChartPopover from './elements/chart-popover';\nimport AreaHighlightedPoint from './elements/highlighted-point';\nimport AreaVerticalMarker from './elements/vertical-marker';\n\nimport useHighlightDetails from './elements/use-highlight-details';\nimport useContainerWidth from '../internal/utils/use-container-width';\nimport { useSelector } from './async-store';\nimport { CartesianChartContainer } from '../internal/components/cartesian-chart/chart-container';\n\nconst DEFAULT_CHART_WIDTH = 500;\nconst INLINE_START_LABELS_MARGIN = 16;\nconst BLOCK_END_LABELS_OFFSET = 12;\n\ntype TickFormatter = undefined | ((value: AreaChartProps.DataTypes) => string);\n\ninterface ChartContainerProps<T extends AreaChartProps.DataTypes>\n  extends Pick<\n    AreaChartProps<T>,\n    | 'xTitle'\n    | 'yTitle'\n    | 'xTickFormatter'\n    | 'yTickFormatter'\n    | 'detailTotalFormatter'\n    | 'detailPopoverSize'\n    | 'detailPopoverFooter'\n    | 'ariaLabel'\n    | 'ariaLabelledby'\n    | 'ariaDescription'\n    | 'i18nStrings'\n  > {\n  model: ChartModel<T>;\n  autoWidth: (value: number) => void;\n  fitHeight?: boolean;\n  minHeight: number;\n}\n\nexport default memo(ChartContainer) as typeof ChartContainer;\n\nfunction ChartContainer<T extends AreaChartProps.DataTypes>({\n  model,\n  autoWidth,\n  xTitle,\n  yTitle,\n  detailPopoverSize,\n  detailPopoverFooter,\n  ariaLabel,\n  ariaLabelledby,\n  ariaDescription,\n  i18nStrings: {\n    xTickFormatter: deprecatedXTickFormatter,\n    yTickFormatter: deprecatedYTickFormatter,\n    detailTotalFormatter: deprecatedDetailTotalFormatter,\n    detailTotalLabel,\n    chartAriaRoleDescription,\n    xAxisAriaRoleDescription,\n    yAxisAriaRoleDescription,\n    detailPopoverDismissAriaLabel,\n  } = {},\n  fitHeight,\n  minHeight,\n  xTickFormatter = deprecatedXTickFormatter,\n  yTickFormatter = deprecatedYTickFormatter,\n  detailTotalFormatter = deprecatedDetailTotalFormatter,\n}: ChartContainerProps<T>) {\n  const [inlineStartLabelsWidth, setInlineStartLabelsWidth] = useState(0);\n  const [containerWidth, containerWidthRef] = useContainerWidth(DEFAULT_CHART_WIDTH);\n  const maxInlineStartLabelsWidth = Math.round(containerWidth / 2);\n\n  const blockEndLabelsProps = useBLockEndLabels({\n    ticks: model.computed.xTicks,\n    scale: model.computed.xScale,\n    tickFormatter: xTickFormatter as TickFormatter,\n  });\n\n  // Calculate the width of the plot area and tell it to the parent.\n  const plotWidth = Math.max(0, containerWidth - inlineStartLabelsWidth - INLINE_START_LABELS_MARGIN);\n  useEffect(() => {\n    autoWidth(plotWidth);\n  }, [autoWidth, plotWidth]);\n\n  const highlightDetails = useHighlightDetails({\n    model,\n    xTickFormatter,\n    yTickFormatter,\n    detailTotalFormatter,\n    detailTotalLabel,\n  });\n\n  const highlightedPointRef = useRef<SVGGElement>(null);\n\n  const mergedRef = useMergeRefs(containerWidthRef, model.refs.container);\n\n  const isPointHighlighted = model.interactions.get().highlightedPoint !== null;\n\n  const highlightedX = useSelector(model.interactions, state => state.highlightedX);\n\n  const detailPopoverFooterContent = useMemo(\n    () => (detailPopoverFooter && highlightedX ? detailPopoverFooter(highlightedX[0].x) : null),\n    [detailPopoverFooter, highlightedX]\n  );\n\n  return (\n    <CartesianChartContainer\n      ref={mergedRef}\n      minHeight={minHeight + blockEndLabelsProps.height}\n      fitHeight={!!fitHeight}\n      leftAxisLabel={<AxisLabel axis=\"y\" position=\"left\" title={yTitle} />}\n      leftAxisLabelMeasure={\n        <LabelsMeasure\n          scale={model.computed.yScale}\n          ticks={model.computed.yTicks}\n          tickFormatter={yTickFormatter as TickFormatter}\n          autoWidth={setInlineStartLabelsWidth}\n          maxLabelsWidth={maxInlineStartLabelsWidth}\n        />\n      }\n      bottomAxisLabel={<AxisLabel axis=\"x\" position=\"bottom\" title={xTitle} />}\n      chartPlot={\n        <ChartPlot\n          ref={model.refs.plot}\n          width=\"100%\"\n          height={fitHeight ? `calc(100% - ${blockEndLabelsProps.height}px)` : model.height}\n          offsetBottom={blockEndLabelsProps.height}\n          ariaLabel={ariaLabel}\n          ariaLabelledby={ariaLabelledby}\n          ariaDescription={ariaDescription}\n          ariaRoleDescription={chartAriaRoleDescription}\n          activeElementKey={!highlightDetails?.isPopoverPinned && highlightDetails?.activeLabel}\n          activeElementRef={isPointHighlighted ? highlightedPointRef : model.refs.verticalMarker}\n          activeElementFocusOffset={isPointHighlighted ? 3 : { x: 8, y: 0 }}\n          isClickable={!highlightDetails?.isPopoverPinned}\n          onMouseMove={model.handlers.onSVGMouseMove}\n          onMouseOut={model.handlers.onSVGMouseOut}\n          onClick={model.handlers.onSVGMouseDown}\n          onKeyDown={model.handlers.onSVGKeyDown}\n          onApplicationFocus={model.handlers.onApplicationFocus}\n          onApplicationBlur={model.handlers.onApplicationBlur}\n        >\n          <line\n            ref={model.refs.plotMeasure}\n            x1=\"0\"\n            x2=\"0\"\n            y1=\"0\"\n            y2=\"100%\"\n            stroke=\"transparent\"\n            strokeWidth={1}\n            style={{ pointerEvents: 'none' }}\n          />\n\n          <InlineStartLabels\n            plotWidth={model.width}\n            plotHeight={model.height}\n            scale={model.computed.yScale}\n            ticks={model.computed.yTicks}\n            tickFormatter={yTickFormatter}\n            title={yTitle}\n            ariaRoleDescription={yAxisAriaRoleDescription}\n            maxLabelsWidth={maxInlineStartLabelsWidth}\n          />\n\n          <AreaDataSeries model={model} />\n\n          <BlockEndLabels\n            {...blockEndLabelsProps}\n            width={model.width}\n            height={model.height}\n            scale={model.computed.xScale}\n            title={xTitle}\n            ariaRoleDescription={xAxisAriaRoleDescription}\n            offsetLeft={inlineStartLabelsWidth + BLOCK_END_LABELS_OFFSET}\n            offsetRight={BLOCK_END_LABELS_OFFSET}\n          />\n\n          <EmphasizedBaseline width={model.width} height={model.height} scale={model.computed.yScale} />\n\n          <AreaVerticalMarker model={model} />\n\n          <AreaHighlightedPoint ref={highlightedPointRef} model={model} ariaLabel={highlightDetails?.activeLabel} />\n        </ChartPlot>\n      }\n      popover={\n        <AreaChartPopover\n          model={model}\n          highlightDetails={highlightDetails}\n          dismissAriaLabel={detailPopoverDismissAriaLabel}\n          size={detailPopoverSize}\n          footer={detailPopoverFooterContent}\n          onBlur={model.handlers.onApplicationBlur}\n        />\n      }\n    />\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useSelector } from '../async-store';\nimport { CartesianChartProps } from '../../internal/components/cartesian-chart/interfaces';\nimport { ChartSeriesDetailItem } from '../../internal/components/chart-series-details';\nimport { useInternalI18n } from '../../i18n/context';\nimport { AreaChartProps } from '../interfaces';\nimport { ChartModel } from '../model';\n\nexport interface HighlightDetails {\n  isPopoverPinned: boolean;\n  highlightIndex: number;\n  formattedX: string;\n  seriesTitle: string;\n  formattedY: number | string;\n  seriesDetails: readonly ChartSeriesDetailItem[];\n  totalDetails: readonly ChartSeriesDetailItem[];\n  pointDetails: null | ChartSeriesDetailItem;\n  activeLabel: string;\n}\n\nexport default function useHighlightDetails<T extends AreaChartProps.DataTypes>({\n  model,\n  xTickFormatter,\n  yTickFormatter,\n  detailTotalFormatter,\n  detailTotalLabel,\n}: {\n  model: ChartModel<T>;\n  xTickFormatter?: CartesianChartProps.TickFormatter<T>;\n  yTickFormatter?: CartesianChartProps.TickFormatter<number>;\n  detailTotalFormatter?: CartesianChartProps.TickFormatter<number>;\n  detailTotalLabel?: string;\n}): null | HighlightDetails {\n  const i18n = useInternalI18n('area-chart');\n  const hX = useSelector(model.interactions, state => state.highlightedX);\n  const hPoint = useSelector(model.interactions, state => state.highlightedPoint);\n  const isPopoverPinned = useSelector(model.interactions, state => state.isPopoverPinned);\n\n  if (!hX) {\n    return null;\n  }\n\n  const [firstPoint] = hX;\n  const highlightIndex = firstPoint.index.x;\n  const seriesPoints = [...model.computed.plot.xs[highlightIndex]];\n  const detailsTotal = seriesPoints.reduce((total, point) => total + point.value, 0);\n  const formattedX = xTickFormatter ? xTickFormatter(firstPoint.x) : firstPoint.x.toString();\n  const seriesTitle = hPoint ? getInternalSeries(hPoint).title : '';\n  const formattedY = hPoint ? getInternalSeries(hPoint).formatValue(hPoint.value, hPoint.x) : '';\n  const seriesDetails = seriesPoints.map(point => {\n    const { title, formatValue, color, markerType } = getInternalSeries(point);\n    const isDimmed = Boolean(hPoint) && point !== hPoint;\n    return { key: title, value: formatValue(point.value, point.x), color, markerType, isDimmed };\n  });\n  const totalDetails = [\n    {\n      key: i18n('i18nStrings.detailTotalLabel', detailTotalLabel) || '',\n      value: detailTotalFormatter\n        ? detailTotalFormatter(detailsTotal)\n        : yTickFormatter\n          ? yTickFormatter(detailsTotal)\n          : detailsTotal,\n    },\n  ];\n  const pointDetails = hPoint ? seriesDetails[hPoint.index.s] : null;\n  const activeLabel = `${seriesTitle} ${formattedX} ${formattedY}, ${totalDetails[0].key} ${totalDetails[0].value}`;\n\n  return {\n    isPopoverPinned,\n    highlightIndex,\n    formattedX,\n    seriesTitle,\n    formattedY,\n    activeLabel,\n    seriesDetails,\n    totalDetails,\n    pointDetails,\n  };\n\n  function getInternalSeries(point: ChartModel.PlotPoint<T>) {\n    return model.getInternalSeries(model.series[point.index.s]);\n  }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AreaChartProps } from '../interfaces';\nimport { ChartScale, NumericChartScale } from '../../internal/components/cartesian-chart/scales';\nimport { ChartDataTypes, XDomain, YDomain, YScaleType } from '../../internal/components/cartesian-chart/interfaces';\nimport { ChartModel } from './index';\n\n// A sufficiently small value.\n// The Number.EPSILON is not available in the target ECMA version.\n// See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/EPSILON\nconst EPSILON = 0.0000000000001;\n\n// When x-domain is not set explicitly - guess it based on the available data.\nexport function computeDomainX<T extends ChartDataTypes>(series: readonly AreaChartProps.Series<T>[]): XDomain<T> {\n  const xValues = getXValues(series);\n\n  if (xValues.length === 0) {\n    return [] as unknown as XDomain<T>;\n  }\n\n  // Assuming categorical domain.\n  // In that case, all values are to be included.\n  if (typeof xValues[0] === 'string') {\n    return uniq(xValues) as unknown as XDomain<T>;\n  }\n\n  // For non-categorical domain find min and max bounds.\n  return xValues.reduce(\n    ([min, max], x) => [x < min ? x : min, max < x ? x : max],\n    [xValues[0], xValues[0]]\n  ) as unknown as XDomain<T>;\n}\n\n// When y-domain is not set explicitly - guess it based on the available data and series.\nexport function computeDomainY<T>(series: readonly AreaChartProps.Series<T>[], scaleType: YScaleType): YDomain {\n  let min = Number.POSITIVE_INFINITY;\n  let max = Number.NEGATIVE_INFINITY;\n\n  // Find the min and max for threshold series.\n  series.forEach(s => {\n    if (s.type === 'threshold') {\n      min = Math.min(min, s.y);\n      max = Math.max(max, s.y);\n    }\n  });\n\n  // Find the min and max for area series considering their stacking.\n  getXValues(series).forEach((_, xIndex) => {\n    // Maintains the prev stack level.\n    let stackY = scaleType === 'linear' ? 0 : EPSILON;\n\n    for (const s of series) {\n      if (s.type === 'area') {\n        stackY = stackY + (s.data[xIndex]?.y || 0);\n        min = Math.min(min, stackY);\n        max = Math.max(max, stackY);\n      }\n    }\n  });\n\n  // If min/max is not overridden than either series or series data is empty.\n  if (min === Number.POSITIVE_INFINITY) {\n    return [];\n  }\n\n  // Log scales can't start from 0, so, if possible, start from 1.\n  if (scaleType === 'log' && min === 0 && max > 1) {\n    return [1, max];\n  }\n\n  return [min, max];\n}\n\n// For given data, series and scales, compute all points and group them as\n// x:y, x:series and series:x to allow constant time access to the required point or subset.\nexport function computePlotPoints<T>(\n  series: readonly AreaChartProps.Series<T>[],\n  xScale: ChartScale,\n  yScale: NumericChartScale\n): {\n  xy: ChartModel.PlotPoint<T>[][];\n  xs: ChartModel.PlotPoint<T>[][];\n  sx: ChartModel.PlotPoint<T>[][];\n} {\n  const xValues = getXValues(series);\n\n  // Lookup for xy[xIndex][yIndex]\n  const xy: ChartModel.PlotPoint<T>[][] = [];\n  // Lookup for xs[xIndex][seriesIndex]\n  const xs: ChartModel.PlotPoint<T>[][] = [];\n  // Lookup for sx[seriesIndex][xIndex]\n  const sx: ChartModel.PlotPoint<T>[][] = [];\n\n  // Filter out the data which is beyond the plot for whatever reason.\n  getVisibleData(xValues, xScale).forEach(({ x, scaledX }, xIndex) => {\n    // Maintains the prev stack level. Starting from epsilon to not break log scales.\n    let stackY = yScale.scaleType === 'linear' ? 0 : EPSILON;\n\n    // A column of series points related to the same x.\n    const points: ChartModel.PlotPoint<T>[] = [];\n\n    // Collect the points, leaving y-index as 0 for now.\n    series.forEach((s, sIndex) => {\n      if (s.type === 'threshold') {\n        const scaledY = yScale.d3Scale(s.y) || 0;\n        points.push({\n          x: x,\n          y0: s.y,\n          y1: s.y,\n          scaled: { x: scaledX, y0: scaledY, y1: scaledY },\n          index: { x: xIndex, s: sIndex, y: 0 },\n          value: 0,\n        });\n      } else {\n        const value = s.data[xIndex]?.y || 0;\n        const y0 = stackY;\n        const y1 = stackY + value;\n        points.push({\n          x: x,\n          y0: y0,\n          y1: y1,\n          scaled: { x: scaledX, y0: yScale.d3Scale(y0) || 0, y1: yScale.d3Scale(y1) || 0 },\n          index: { x: xIndex, s: sIndex, y: 0 },\n          value: value,\n        });\n\n        stackY = y1;\n      }\n    });\n\n    // Sort points by y and insert the missing y-index.\n    points\n      .sort((p1, p2) => p1.y1 - p2.y1)\n      .forEach((point, index) => {\n        point.index.y = index;\n\n        // Insert the points to the respective two-dimensional lookup arrays.\n        insertIntoMatrix(xy, point.index.x, point.index.y, point);\n        insertIntoMatrix(xs, point.index.x, point.index.s, point);\n        insertIntoMatrix(sx, point.index.s, point.index.x, point);\n      });\n  });\n\n  return { xy, xs, sx };\n}\n\n// Finds the closest point in the sorted array.\nexport function findClosest<T>(sortedArray: readonly T[], target: number, getter: (item: T) => number): T {\n  // The method guarantees to return a point hence empty arrays are not allowed.\n  if (sortedArray.length === 0) {\n    throw new Error('Invariant violation: array is empty.');\n  }\n\n  const isAscending = getter(sortedArray[0]) < getter(sortedArray[sortedArray.length - 1]);\n  const compare = (x: T) => (isAscending ? getter(x) < target : getter(x) > target);\n  const delta = (x: T) => Math.abs(getter(x) - target);\n\n  // Use binary search to find the closest value in a sorted array.\n  let lo = 0;\n  let hi = sortedArray.length - 1;\n  while (hi - lo > 1) {\n    const mid = Math.floor((lo + hi) / 2);\n    if (compare(sortedArray[mid])) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n  return delta(sortedArray[lo]) < delta(sortedArray[hi]) ? sortedArray[lo] : sortedArray[hi];\n}\n\n// Returns given index if it is in range or the opposite range boundary otherwise.\nexport function circleIndex(index: number, [from, to]: [number, number]): number {\n  if (index < from) {\n    return to;\n  }\n  if (index > to) {\n    return from;\n  }\n  return index;\n}\n\n// Compares all x-values between series to ensure they are consistent.\nexport function isSeriesValid<T>(series: readonly AreaChartProps.Series<T>[]) {\n  const sampleXValues = getXValues(series);\n\n  for (const s of series) {\n    if (s.type === 'area') {\n      for (let i = 0; i < Math.max(s.data.length, sampleXValues.length); i++) {\n        if (s.data[i]?.x !== sampleXValues[i]) {\n          return false;\n        }\n      }\n    }\n  }\n\n  return true;\n}\n\n// Takes first area series x-values as all data x-values are to match across series.\nfunction getXValues<T>(series: readonly AreaChartProps.Series<T>[]) {\n  for (const s of series) {\n    if (s.type === 'area') {\n      return s.data.map(({ x }) => x);\n    }\n  }\n\n  return [];\n}\n\n// Returns data that is visible in the given scale.\nfunction getVisibleData<T>(data: readonly T[], xScale: ChartScale) {\n  const scaledOffsetX = xScale.isCategorical() ? Math.max(0, xScale.d3Scale.bandwidth() - 1) / 2 : 0;\n\n  const visibleData = [];\n  for (const x of data) {\n    const scaledX = xScale.d3Scale(x as any);\n\n    if (scaledX !== undefined) {\n      visibleData.push({ x, scaledX: scaledX + scaledOffsetX });\n    }\n  }\n  return visibleData;\n}\n\n// Inserts given value into a two-dimensional array.\nfunction insertIntoMatrix<T>(matrix: T[][], row: number, col: number, value: T) {\n  if (!matrix[row]) {\n    matrix[row] = [];\n  }\n  matrix[row][col] = value;\n}\n\n// Creates new array with only unique elements of the given array.\nfunction uniq<T>(arr: readonly T[]): readonly T[] {\n  const set = new Set();\n  const uniqArray: T[] = [];\n\n  for (const value of arr) {\n    if (!set.has(value)) {\n      set.add(value);\n      uniqArray.push(value);\n    }\n  }\n\n  return uniqArray;\n}\n","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (argument instanceof Date || _typeof(argument) === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\");\n      // eslint-disable-next-line no-console\n      console.warn(new Error().stack);\n    }\n    return new Date(NaN);\n  }\n}","/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport default function getTimezoneOffsetInMilliseconds(date) {\n  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport default function startOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","import getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport startOfDay from \"../startOfDay/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_DAY = 86400000;\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar days\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport default function differenceInCalendarDays(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var startOfDayLeft = startOfDay(dirtyDateLeft);\n  var startOfDayRight = startOfDay(dirtyDateRight);\n  var timestampLeft = startOfDayLeft.getTime() - getTimezoneOffsetInMilliseconds(startOfDayLeft);\n  var timestampRight = startOfDayRight.getTime() - getTimezoneOffsetInMilliseconds(startOfDayRight);\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a day is not constant\n  // (e.g. it's different in the day of the daylight saving time clock shift)\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY);\n}","import toDate from \"../toDate/index.js\";\nimport differenceInCalendarDays from \"../differenceInCalendarDays/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\"; // Like `compareAsc` but uses local time not UTC, which is needed\n// for accurate equality comparisons of UTC timestamps that end up\n// having the same representation in local time, e.g. one hour before\n// DST ends vs. the instant that DST ends.\nfunction compareLocalAsc(dateLeft, dateRight) {\n  var diff = dateLeft.getFullYear() - dateRight.getFullYear() || dateLeft.getMonth() - dateRight.getMonth() || dateLeft.getDate() - dateRight.getDate() || dateLeft.getHours() - dateRight.getHours() || dateLeft.getMinutes() - dateRight.getMinutes() || dateLeft.getSeconds() - dateRight.getSeconds() || dateLeft.getMilliseconds() - dateRight.getMilliseconds();\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1;\n    // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}\n\n/**\n * @name differenceInDays\n * @category Day Helpers\n * @summary Get the number of full days between the given dates.\n *\n * @description\n * Get the number of full day periods between two dates. Fractional days are\n * truncated towards zero.\n *\n * One \"full day\" is the distance between a local time in one day to the same\n * local time on the next or previous day. A full day can sometimes be less than\n * or more than 24 hours if a daylight savings change happens between two dates.\n *\n * To ignore DST and only measure exact 24-hour periods, use this instead:\n * `Math.floor(differenceInHours(dateLeft, dateRight)/24)|0`.\n *\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of full days according to the local timezone\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 365\n * // How many full days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 0\n * // How many full days are between\n * // 1 March 2020 0:00 and 1 June 2020 0:00 ?\n * // Note: because local time is used, the\n * // result will always be 92 days, even in\n * // time zones where DST starts and the\n * // period has only 92*24-1 hours.\n * const result = differenceInDays(\n *   new Date(2020, 5, 1),\n *   new Date(2020, 2, 1)\n * )\n//=> 92\n */\nexport default function differenceInDays(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var sign = compareLocalAsc(dateLeft, dateRight);\n  var difference = Math.abs(differenceInCalendarDays(dateLeft, dateRight));\n  dateLeft.setDate(dateLeft.getDate() - sign * difference);\n\n  // Math.abs(diff in full days - diff in calendar days) === 1 if last calendar day is not full\n  // If so, result must be decreased by 1 in absolute value\n  var isLastDayNotFull = Number(compareLocalAsc(dateLeft, dateRight) === -sign);\n  var result = sign * (difference - isLastDayNotFull);\n  // Prevent negative zero\n  return result === 0 ? 0 : result;\n}","export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n  var number = Number(dirtyNumber);\n  if (isNaN(number)) {\n    return number;\n  }\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport addDays from \"../addDays/index.js\";\nimport addMonths from \"../addMonths/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n/**\n * @name add\n * @category Common Helpers\n * @summary Add the specified years, months, weeks, days, hours, minutes and seconds to the given date.\n *\n * @description\n * Add the specified years, months, weeks, days, hours, minutes and seconds to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Duration} duration - the object with years, months, weeks, days, hours, minutes and seconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n *\n * | Key            | Description                        |\n * |----------------|------------------------------------|\n * | years          | Amount of years to be added        |\n * | months         | Amount of months to be added       |\n * | weeks          | Amount of weeks to be added        |\n * | days           | Amount of days to be added         |\n * | hours          | Amount of hours to be added        |\n * | minutes        | Amount of minutes to be added      |\n * | seconds        | Amount of seconds to be added      |\n *\n * All values default to 0\n *\n * @returns {Date} the new date with the seconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add the following duration to 1 September 2014, 10:19:50\n * const result = add(new Date(2014, 8, 1, 10, 19, 50), {\n *   years: 2,\n *   months: 9,\n *   weeks: 1,\n *   days: 7,\n *   hours: 5,\n *   minutes: 9,\n *   seconds: 30,\n * })\n * //=> Thu Jun 15 2017 15:29:20\n */\nexport default function add(dirtyDate, duration) {\n  requiredArgs(2, arguments);\n  if (!duration || _typeof(duration) !== 'object') return new Date(NaN);\n  var years = duration.years ? toInteger(duration.years) : 0;\n  var months = duration.months ? toInteger(duration.months) : 0;\n  var weeks = duration.weeks ? toInteger(duration.weeks) : 0;\n  var days = duration.days ? toInteger(duration.days) : 0;\n  var hours = duration.hours ? toInteger(duration.hours) : 0;\n  var minutes = duration.minutes ? toInteger(duration.minutes) : 0;\n  var seconds = duration.seconds ? toInteger(duration.seconds) : 0;\n\n  // Add years and months\n  var date = toDate(dirtyDate);\n  var dateWithMonths = months || years ? addMonths(date, months + years * 12) : date;\n\n  // Add weeks and days\n  var dateWithDays = days || weeks ? addDays(dateWithMonths, days + weeks * 7) : dateWithMonths;\n\n  // Add days, hours, minutes and seconds\n  var minutesToAdd = minutes + hours * 60;\n  var secondsToAdd = seconds + minutesToAdd * 60;\n  var msToAdd = secondsToAdd * 1000;\n  var finalDate = new Date(dateWithDays.getTime() + msToAdd);\n  return finalDate;\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\nexport default function addMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n  var dayOfMonth = date.getDate();\n\n  // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n  var endOfDesiredMonth = new Date(date.getTime());\n  endOfDesiredMonth.setMonth(date.getMonth() + amount + 1, 0);\n  var daysInMonth = endOfDesiredMonth.getDate();\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    date.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);\n    return date;\n  }\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} - the new date with the days added\n * @throws {TypeError} - 2 arguments required\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport default function addDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n  date.setDate(date.getDate() + amount);\n  return date;\n}","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ChartScale, NumericChartScale } from '../../components/cartesian-chart/scales';\nimport { differenceInDays, add } from 'date-fns';\nimport { X_TICK_COUNT_RATIO, Y_TICK_COUNT_RATIO } from './constants';\nimport { ChartDataTypes } from './interfaces';\n\n// The number of ticks is currently defined by the length of the scale.\n// The x scale tends to have longer labels, so we're using less ticks for it.\n// These numbers are currently based on first impressions and might change in the future.\n// We might also open up an API in the future to control the amount of ticks displayed.\nexport function getXTickCount(width: number) {\n  return Math.ceil(width / X_TICK_COUNT_RATIO);\n}\nexport function getYTickCount(height: number) {\n  return Math.ceil(height / Y_TICK_COUNT_RATIO);\n}\n\nexport function createXTicks(scale: ChartScale, values: number): ChartDataTypes[] {\n  if (scale.isNumeric()) {\n    return scale.d3Scale.ticks(values);\n  } else if (scale.isTime()) {\n    const rawTicks = scale.d3Scale.ticks(values) as Date[];\n    const domain = scale.d3Scale.domain() as Date[];\n    return uniform(rawTicks, domain[domain.length - 1]);\n  } else {\n    return scale.d3Scale.domain();\n  }\n}\n\nexport function createYTicks(scale: NumericChartScale, values: number): number[] {\n  const ticks = scale.d3Scale.ticks(values);\n\n  // The logarithmic scale sometimes produces a very large amount of (major and minor) ticks,\n  // at which point we need to reduce them significantly for space.\n  if (scale.scaleType === 'log' && ticks.length > 10) {\n    return scale.d3Scale.ticks(3);\n  }\n\n  return ticks;\n}\n\n/**\n * Ensure uniformly-spaced ticks for 2-day intervals. d3-scale generates\n * ticks for even or odd numbers, which causes varying interval lengths\n * between months.\n */\nfunction uniform(ticks: Date[], max: Date): Date[] {\n  if (ticks.length < 3 || !isMixedDayInterval(ticks)) {\n    return ticks;\n  }\n\n  return createTwoDayInterval(ticks[0], max);\n}\n\nfunction isMixedDayInterval(ticks: Date[]) {\n  let oneDayInterval = false;\n  let twoDayInterval = false;\n\n  for (let i = 1; i < ticks.length; i++) {\n    oneDayInterval = oneDayInterval || isDayInterval(ticks[i - 1], ticks[i], 1);\n    twoDayInterval = twoDayInterval || isDayInterval(ticks[i - 1], ticks[i], 2);\n  }\n  return oneDayInterval && twoDayInterval;\n}\n\nfunction isDayInterval(a: Date, b: Date, difference = 1) {\n  return Math.abs(differenceInDays(a, b)) === difference;\n}\n\nfunction createTwoDayInterval(start: Date, max: Date) {\n  const result: Date[] = [];\n  let curr = start;\n  while (curr < max) {\n    result.push(curr);\n    curr = add(curr, { days: 2 });\n  }\n  return result;\n}\n","/**\n * Name: d3-array\n * Version: 3.2.1\n * License: ISC\n * Private: false\n * Description: Array manipulation, ordering, searching, summarizing, etc.\n * Repository: https://github.com/d3/d3-array.git\n * Homepage: https://d3js.org/d3-array/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2022 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: internmap\n * Version: 2.0.3\n * License: ISC\n * Private: false\n * Description: Map and Set with automatic key interning\n * Repository: https://github.com/mbostock/internmap.git\n * Homepage: https://github.com/mbostock/internmap/\n * Author: Mike Bostock (https://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2021 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-scale\n * Version: 4.0.2\n * License: ISC\n * Private: false\n * Description: Encodings that map abstract data to visual representation.\n * Repository: https://github.com/d3/d3-scale.git\n * Homepage: https://d3js.org/d3-scale/\n * Author: Mike Bostock (https://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2021 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-color\n * Version: 3.1.0\n * License: ISC\n * Private: false\n * Description: Color spaces! RGB, HSL, Cubehelix, Lab and HCL (Lch).\n * Repository: https://github.com/d3/d3-color.git\n * Homepage: https://d3js.org/d3-color/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2022 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-interpolate\n * Version: 3.0.1\n * License: ISC\n * Private: false\n * Description: Interpolate numbers, colors, strings, arrays, objects, whatever!\n * Repository: https://github.com/d3/d3-interpolate.git\n * Homepage: https://d3js.org/d3-interpolate/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2021 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-format\n * Version: 3.1.0\n * License: ISC\n * Private: false\n * Description: Format numbers for human consumption.\n * Repository: https://github.com/d3/d3-format.git\n * Homepage: https://d3js.org/d3-format/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2021 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-time\n * Version: 3.1.0\n * License: ISC\n * Private: false\n * Description: A calculator for humanity’s peculiar conventions of time.\n * Repository: https://github.com/d3/d3-time.git\n * Homepage: https://d3js.org/d3-time/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2022 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n *\n *\n * ---\n *\n * Name: d3-time-format\n * Version: 4.1.0\n * License: ISC\n * Private: false\n * Description: A JavaScript time formatter and parser inspired by strftime and strptime.\n * Repository: https://github.com/d3/d3-time-format.git\n * Homepage: https://d3js.org/d3-time-format/\n * Author: Mike Bostock (http://bost.ocks.org/mike)\n * License Copyright:\n * ===\n *\n * Copyright 2010-2021 Mike Bostock\n *\n * Permission to use, copy, modify, and/or distribute this software for any purpose\n * with or without fee is hereby granted, provided that the above copyright notice\n * and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\n * OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\n * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\n * THIS SOFTWARE.\n */\nfunction ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\nfunction descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n\nfunction bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We can’t do this\n  // for a comparator (except for specific, known comparators) because we can’t\n  // tell if the comparator is symmetric, and an asymmetric comparator can’t be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero$1;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero$1() {\n  return 0;\n}\n\nfunction number$2(x) {\n  return x === null ? NaN : +x;\n}\n\nconst ascendingBisect = bisector(ascending);\nconst bisectRight = ascendingBisect.right;\nbisector(number$2).center;\nvar bisect = bisectRight;\n\nclass InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n\nvar e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction ticks(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nfunction tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nfunction tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n\nfunction range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n\nfunction initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nconst implicit = Symbol(\"implicit\");\n\nfunction ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nfunction band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = range(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n\nfunction Color() {}\n\nvar darker = 0.7;\nvar brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nfunction color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nfunction rgb$1(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb$1, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n\nvar constant = x => () => x;\n\nfunction linear$1(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear$1(a, d) : constant(isNaN(a) ? b : a);\n}\n\nvar rgb = (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = rgb$1(start)).r, (end = rgb$1(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction numberArray(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nfunction isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n\nfunction genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = interpolate(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n\nfunction date$1(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n\nfunction interpolateNumber(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n\nfunction object(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nfunction string(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: interpolateNumber(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n\nfunction interpolate(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? interpolateNumber\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date$1\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : interpolateNumber)(a, b);\n}\n\nfunction interpolateRound(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n\nfunction constants(x) {\n  return function() {\n    return x;\n  };\n}\n\nfunction number$1(x) {\n  return +x;\n}\n\nvar unit = [0, 1];\n\nfunction identity$1(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constants(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nfunction copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nfunction transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate$1 = interpolate,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity$1,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity$1) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate$1)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number$1), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate$1 = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity$1, rescale()) : clamp !== identity$1;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate$1 = _, rescale()) : interpolate$1;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nfunction continuous() {\n  return transformer()(identity$1, identity$1);\n}\n\nfunction formatDecimal(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nfunction formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n\nfunction exponent(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n\nfunction formatGroup(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n\nfunction formatNumerals(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n\n// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nfunction formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n\n// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nfunction formatTrim(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n\nvar prefixExponent;\n\nfunction formatPrefixAuto(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n\nfunction formatRounded(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n\nvar formatTypes = {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n\nfunction identity(x) {\n  return x;\n}\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nfunction formatLocale$1(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n\nvar locale$1;\nvar format;\nvar formatPrefix;\n\ndefaultLocale$1({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nfunction defaultLocale$1(definition) {\n  locale$1 = formatLocale$1(definition);\n  format = locale$1.format;\n  formatPrefix = locale$1.formatPrefix;\n  return locale$1;\n}\n\nfunction precisionFixed(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n\nfunction precisionPrefix(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n\nfunction precisionRound(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n\nfunction tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n\nfunction linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start;\n        d[i1] = stop;\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nfunction linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n\nfunction nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : x => Math.pow(base, x);\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), x => Math.log(x) / base);\n}\n\nfunction reflect(f) {\n  return (x, k) => -f(-x, k);\n}\n\nfunction loggish(transform) {\n  const scale = transform(transformLog, transformExp);\n  const domain = scale.domain;\n  let base = 10;\n  let logs;\n  let pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = count => {\n    const d = domain();\n    let u = d[0];\n    let v = d[d.length - 1];\n    const r = v < u;\n\n    if (r) ([u, v] = [v, u]);\n\n    let i = logs(u);\n    let j = logs(v);\n    let k;\n    let t;\n    const n = count == null ? 10 : +count;\n    let z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1; k < base; ++k) {\n          t = i < 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1; k >= 1; --k) {\n          t = i > 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = (count, specifier) => {\n    if (count == null) count = 10;\n    if (specifier == null) specifier = base === 10 ? \"s\" : \",\";\n    if (typeof specifier !== \"function\") {\n      if (!(base % 1) && (specifier = formatSpecifier(specifier)).precision == null) specifier.trim = true;\n      specifier = format(specifier);\n    }\n    if (count === Infinity) return specifier;\n    const k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return d => {\n      let i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = () => {\n    return domain(nice(domain(), {\n      floor: x => pows(Math.floor(logs(x))),\n      ceil: x => pows(Math.ceil(logs(x)))\n    }));\n  };\n\n  return scale;\n}\n\nfunction log() {\n  const scale = loggish(transformer()).domain([1, 10]);\n  scale.copy = () => copy(scale, log()).base(scale.base());\n  initRange.apply(scale, arguments);\n  return scale;\n}\n\nconst t0 = new Date, t1 = new Date;\n\nfunction timeInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = (date) => {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = (date) => {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = (date) => {\n    const d0 = interval(date), d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = (date, step) => {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = (start, stop, step) => {\n    const range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    let previous;\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = (test) => {\n    return timeInterval((date) => {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, (date, step) => {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = (start, end) => {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = (step) => {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? (d) => field(d) % step === 0\n              : (d) => interval.count(0, d) % step === 0);\n    };\n  }\n\n  return interval;\n}\n\nconst millisecond = timeInterval(() => {\n  // noop\n}, (date, step) => {\n  date.setTime(+date + step);\n}, (start, end) => {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = (k) => {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return timeInterval((date) => {\n    date.setTime(Math.floor(date / k) * k);\n  }, (date, step) => {\n    date.setTime(+date + step * k);\n  }, (start, end) => {\n    return (end - start) / k;\n  });\n};\n\nmillisecond.range;\n\nconst durationSecond = 1000;\nconst durationMinute = durationSecond * 60;\nconst durationHour = durationMinute * 60;\nconst durationDay = durationHour * 24;\nconst durationWeek = durationDay * 7;\nconst durationMonth = durationDay * 30;\nconst durationYear = durationDay * 365;\n\nconst second = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds());\n}, (date, step) => {\n  date.setTime(+date + step * durationSecond);\n}, (start, end) => {\n  return (end - start) / durationSecond;\n}, (date) => {\n  return date.getUTCSeconds();\n});\n\nsecond.range;\n\nconst timeMinute = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getMinutes();\n});\n\ntimeMinute.range;\n\nconst utcMinute = timeInterval((date) => {\n  date.setUTCSeconds(0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getUTCMinutes();\n});\n\nutcMinute.range;\n\nconst timeHour = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getHours();\n});\n\ntimeHour.range;\n\nconst utcHour = timeInterval((date) => {\n  date.setUTCMinutes(0, 0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getUTCHours();\n});\n\nutcHour.range;\n\nconst timeDay = timeInterval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\ntimeDay.range;\n\nconst utcDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return date.getUTCDate() - 1;\n});\n\nutcDay.range;\n\nconst unixDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return Math.floor(date / durationDay);\n});\n\nunixDay.range;\n\nfunction timeWeekday(i) {\n  return timeInterval((date) => {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setDate(date.getDate() + step * 7);\n  }, (start, end) => {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nconst timeSunday = timeWeekday(0);\nconst timeMonday = timeWeekday(1);\nconst timeTuesday = timeWeekday(2);\nconst timeWednesday = timeWeekday(3);\nconst timeThursday = timeWeekday(4);\nconst timeFriday = timeWeekday(5);\nconst timeSaturday = timeWeekday(6);\n\ntimeSunday.range;\ntimeMonday.range;\ntimeTuesday.range;\ntimeWednesday.range;\ntimeThursday.range;\ntimeFriday.range;\ntimeSaturday.range;\n\nfunction utcWeekday(i) {\n  return timeInterval((date) => {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, (start, end) => {\n    return (end - start) / durationWeek;\n  });\n}\n\nconst utcSunday = utcWeekday(0);\nconst utcMonday = utcWeekday(1);\nconst utcTuesday = utcWeekday(2);\nconst utcWednesday = utcWeekday(3);\nconst utcThursday = utcWeekday(4);\nconst utcFriday = utcWeekday(5);\nconst utcSaturday = utcWeekday(6);\n\nutcSunday.range;\nutcMonday.range;\nutcTuesday.range;\nutcWednesday.range;\nutcThursday.range;\nutcFriday.range;\nutcSaturday.range;\n\nconst timeMonth = timeInterval((date) => {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setMonth(date.getMonth() + step);\n}, (start, end) => {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, (date) => {\n  return date.getMonth();\n});\n\ntimeMonth.range;\n\nconst utcMonth = timeInterval((date) => {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, (start, end) => {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, (date) => {\n  return date.getUTCMonth();\n});\n\nutcMonth.range;\n\nconst timeYear = timeInterval((date) => {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setFullYear(date.getFullYear() + step);\n}, (start, end) => {\n  return end.getFullYear() - start.getFullYear();\n}, (date) => {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\ntimeYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\ntimeYear.range;\n\nconst utcYear = timeInterval((date) => {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, (start, end) => {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, (date) => {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nutcYear.range;\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nticker(utcYear, utcMonth, utcSunday, unixDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute);\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nfunction formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n\nvar locale;\nvar timeFormat;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nfunction defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  locale.parse;\n  locale.utcFormat;\n  locale.utcParse;\n  return locale;\n}\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nfunction calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nfunction time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute, second, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n\nexport { band as scaleBand, linear as scaleLinear, log as scaleLog, time as scaleTime };\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport {\n  scaleLinear,\n  scaleLog,\n  scaleTime,\n  scaleBand,\n  ScaleContinuousNumeric,\n  ScaleTime,\n  ScaleBand,\n} from '../../vendor/d3-scale';\n\nimport { ChartDataTypes, ChartDomain, ScaleType, ScaleRange } from './interfaces';\n\nexport interface NumericD3Scale {\n  type: 'numeric';\n  scale: ScaleContinuousNumeric<number, number>;\n}\n\nexport interface TimeD3Scale {\n  type: 'time';\n  scale: ScaleTime<number, number>;\n}\n\nexport interface CategoricalD3Scale {\n  type: 'categorical';\n  scale: ScaleBand<ChartDataTypes>;\n}\n\nexport type D3Scale = NumericD3Scale | TimeD3Scale | CategoricalD3Scale;\n\ntype InternalScale = ScaleContinuousNumeric<number, number> | ScaleBand<ChartDataTypes> | ScaleTime<number, number>;\n\nfunction isNumericDomain(domain: ChartDomain<ChartDataTypes>): domain is number[] {\n  return domain.length > 0 && typeof domain[0] === 'number';\n}\n\nfunction isDateDomain(domain: ChartDomain<ChartDataTypes>): domain is Date[] {\n  return domain.length > 0 && domain[0] instanceof Date;\n}\n\nfunction createNumericScale(type: ScaleType, domain: ChartDomain<ChartDataTypes>) {\n  let scale: ScaleContinuousNumeric<number, number>;\n  switch (type) {\n    case 'log':\n      scale = scaleLog();\n      break;\n    default:\n      scale = scaleLinear();\n  }\n\n  if (isNumericDomain(domain)) {\n    scale.domain(domain);\n  }\n\n  return scale;\n}\n\nfunction createTimeScale(domain: ChartDomain<ChartDataTypes>) {\n  const scale = scaleTime();\n  if (isDateDomain(domain)) {\n    scale.domain(domain);\n  }\n  return scale;\n}\n\nfunction createBandScale(domain: ChartDomain<ChartDataTypes>) {\n  const scale = scaleBand<ChartDataTypes>().padding(0.1);\n  scale.domain(domain);\n  return scale;\n}\n\nexport function createScale(type: ScaleType, domain: ChartDomain<ChartDataTypes>, range: ScaleRange): D3Scale {\n  switch (type) {\n    case 'linear':\n    case 'log':\n      return { type: 'numeric', scale: createNumericScale(type, domain).range(range) };\n\n    case 'time':\n      return { type: 'time', scale: createTimeScale(domain).range(range) };\n\n    case 'categorical':\n      return { type: 'categorical', scale: createBandScale(domain).range(range) };\n  }\n}\n\nexport class ChartScale {\n  public readonly scale: D3Scale;\n  public readonly d3Scale: InternalScale;\n\n  constructor(\n    public readonly scaleType: ScaleType,\n    public readonly domain: ChartDomain<ChartDataTypes>,\n    public readonly range: ScaleRange,\n    noCategoricalOuterPadding = false\n  ) {\n    this.scale = createScale(this.scaleType, this.domain, this.range);\n    this.d3Scale = this.scale.scale;\n\n    if (this.isCategorical()) {\n      if (noCategoricalOuterPadding) {\n        // Categorical charts with only line (or threshold) series don't need as much out padding\n        // compared to a bar series. Increasing the inner padding to push more data points to the outside.\n        this.d3Scale.paddingInner(0.7);\n        this.d3Scale.paddingOuter(0);\n      } else {\n        this.d3Scale.paddingInner(0.2);\n        this.d3Scale.paddingOuter(0.05);\n      }\n    }\n  }\n\n  cloneScale(newScaleType?: ScaleType, newDomain?: ChartDomain<ChartDataTypes>, newRange?: ScaleRange) {\n    return new ChartScale(newScaleType || this.scaleType, newDomain || this.domain, newRange || this.range);\n  }\n\n  isNumeric(): this is { d3Scale: ScaleContinuousNumeric<number, number>; domain: ChartDomain<number> } {\n    return this.scale.type === 'numeric';\n  }\n\n  isTime(): this is { d3Scale: ScaleTime<number, number>; domain: ChartDomain<Date> } {\n    return this.scale.type === 'time';\n  }\n\n  isCategorical(): this is { d3Scale: ScaleBand<ChartDataTypes>; domain: ChartDomain<string> } {\n    return this.scale.type === 'categorical';\n  }\n}\n\nexport class NumericChartScale {\n  public readonly scale: NumericD3Scale;\n  public readonly d3Scale: ScaleContinuousNumeric<number, number>;\n\n  constructor(\n    public readonly scaleType: 'linear' | 'log',\n    domain: ChartDomain<number>,\n    range: ScaleRange,\n    adjustDomain: null | number\n  ) {\n    const scale = createNumericScale(scaleType, domain).range(range);\n    if (adjustDomain !== null) {\n      scale.nice(adjustDomain);\n    }\n    this.scale = { type: 'numeric', scale };\n    this.d3Scale = this.scale.scale;\n  }\n\n  isCategorical() {\n    return false;\n  }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AreaChartProps } from '../interfaces';\nimport { computePlotPoints, computeDomainX, computeDomainY } from './utils';\n\nimport {\n  ChartDomain,\n  XDomain,\n  XScaleType,\n  YDomain,\n  YScaleType,\n} from '../../internal/components/cartesian-chart/interfaces';\nimport {\n  createXTicks,\n  createYTicks,\n  getXTickCount,\n  getYTickCount,\n} from '../../internal/components/cartesian-chart/ticks';\nimport { ChartScale, NumericChartScale } from '../../internal/components/cartesian-chart/scales';\n\nexport default function computeChartProps<T extends AreaChartProps.DataTypes>({\n  isRtl,\n  series,\n  xDomain: externalXDomain,\n  yDomain: externalYDomain,\n  xScaleType,\n  yScaleType,\n  height,\n  width,\n}: {\n  isRtl?: boolean;\n  series: readonly AreaChartProps.Series<T>[];\n  xDomain?: XDomain<T>;\n  yDomain?: YDomain;\n  xScaleType: XScaleType;\n  yScaleType: YScaleType;\n  height: number;\n  width: number;\n}) {\n  const xDomain = externalXDomain ? ([...externalXDomain] as unknown as ChartDomain<T>) : computeDomainX(series);\n  const xTickCount = getXTickCount(width);\n  const xScale = new ChartScale(xScaleType, xDomain, !isRtl ? [0, width] : [width, 0]);\n  const xTicks = xScale.domain.length > 0 ? createXTicks(xScale, xTickCount) : [];\n\n  const yDomain = externalYDomain || computeDomainY(series, yScaleType);\n  const yTickCount = getYTickCount(height);\n  const yScale = new NumericChartScale(yScaleType, yDomain, [height, 0], externalYDomain ? null : yTickCount);\n  const yTicks = createYTicks(yScale, yTickCount);\n\n  const plot = computePlotPoints(series, xScale, yScale);\n\n  return { xDomain, yDomain, xScale, yScale, xTicks, yTicks, plot };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ChartModel } from './index';\nimport { AreaChartProps } from '../interfaces';\nimport AsyncStore from '../async-store';\n\nconst initialState = Object.freeze({\n  highlightedX: null,\n  highlightedPoint: null,\n  highlightedSeries: null,\n  legendSeries: null,\n  isPopoverPinned: false,\n});\n\nexport default class InteractionsStore<T extends AreaChartProps.DataTypes> extends AsyncStore<\n  ChartModel.InteractionsState<T>\n> {\n  series: readonly AreaChartProps.Series<T>[];\n  plot: ChartModel.ComputedProps<T>['plot'];\n\n  constructor(series: readonly AreaChartProps.Series<T>[], plot: ChartModel.ComputedProps<T>['plot']) {\n    super(initialState);\n\n    this.series = series;\n    this.plot = plot;\n  }\n\n  highlightPoint(point: ChartModel.PlotPoint<T>) {\n    this.set(state => ({\n      ...state,\n      highlightedX: this.plot.xy[point.index.x],\n      highlightedPoint: point,\n      highlightedSeries: this.series[point.index.s],\n      legendSeries: this.series[point.index.s],\n    }));\n  }\n\n  highlightX(points: readonly ChartModel.PlotPoint<T>[]) {\n    this.set(state => ({\n      ...state,\n      highlightedX: points,\n      highlightedPoint: null,\n      highlightedSeries: null,\n      legendSeries: null,\n    }));\n  }\n\n  highlightFirstPoint() {\n    this.set(state => {\n      const series = state.legendSeries || state.highlightedSeries;\n      const firstSeriesPoint = series && this._getFirstSeriesPoint(series);\n      const point = state.highlightedPoint || firstSeriesPoint || this.plot.sx[0][0];\n      return {\n        ...state,\n        highlightedX: this.plot.xy[point.index.x],\n        highlightedPoint: point,\n        highlightedSeries: this.series[point.index.s],\n        legendSeries: this.series[point.index.s],\n      };\n    });\n  }\n\n  highlightSeries(s: null | AreaChartProps.Series<T>) {\n    this.set(state => ({\n      ...state,\n      highlightedSeries: s,\n      legendSeries: s,\n    }));\n  }\n\n  clearHighlight() {\n    this.set(state => ({\n      ...state,\n      highlightedX: null,\n      highlightedPoint: null,\n      highlightedSeries: null,\n    }));\n  }\n  clearHighlightedLegend() {\n    this.set(state => ({\n      ...state,\n      legendSeries: null,\n    }));\n  }\n\n  clearState() {\n    this.set(() => initialState);\n  }\n\n  pinPopover() {\n    this.set(state => ({ ...state, isPopoverPinned: true }));\n  }\n\n  unpinPopover() {\n    this.set(state => ({ ...state, isPopoverPinned: false }));\n  }\n\n  togglePopoverPin() {\n    this.set(state => ({ ...state, isPopoverPinned: !state.isPopoverPinned }));\n  }\n\n  _getFirstSeriesPoint(s: AreaChartProps.Series<T>): null | ChartModel.PlotPoint<T> {\n    const seriesIndex = this.series.indexOf(s);\n    const [firstSeriesPoint] = this.plot.sx[seriesIndex] || [];\n    return firstSeriesPoint || null;\n  }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AreaChartProps } from '../interfaces';\nimport React, { useEffect, useMemo, useRef, RefObject, MouseEvent } from 'react';\nimport { nodeContains } from '@cloudscape-design/component-toolkit/dom';\nimport { findClosest, circleIndex } from './utils';\n\nimport { KeyCode } from '../../internal/keycode';\nimport { XDomain, XScaleType, YDomain, YScaleType } from '../../internal/components/cartesian-chart/interfaces';\nimport computeChartProps from './compute-chart-props';\nimport createSeriesDecorator from './create-series-decorator';\nimport InteractionsStore from './interactions-store';\nimport { ChartModel } from './index';\nimport { ChartPlotRef } from '../../internal/components/chart-plot';\nimport { throttle } from '../../internal/utils/throttle';\nimport { useReaction } from '../async-store';\nimport { useHeightMeasure } from '../../internal/hooks/container-queries/use-height-measure';\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\nimport { nodeBelongs } from '../../internal/utils/node-belongs';\nimport handleKey from '../../internal/utils/handle-key';\n\nconst MAX_HOVER_MARGIN = 6;\nconst SVG_HOVER_THROTTLE = 25;\nconst POPOVER_DEADZONE = 12;\n\nexport interface UseChartModelProps<T extends AreaChartProps.DataTypes> {\n  isRtl?: boolean;\n  fitHeight?: boolean;\n  externalSeries: readonly AreaChartProps.Series<T>[];\n  visibleSeries: readonly AreaChartProps.Series<T>[];\n  setVisibleSeries: (series: readonly AreaChartProps.Series<T>[]) => void;\n  highlightedSeries: null | AreaChartProps.Series<T>;\n  setHighlightedSeries: (series: null | AreaChartProps.Series<T>) => void;\n  xDomain?: XDomain<T>;\n  yDomain?: YDomain;\n  xScaleType: XScaleType;\n  yScaleType: YScaleType;\n  height: number;\n  width: number;\n  popoverRef: RefObject<HTMLElement>;\n}\n\n// Represents the core the chart logic, including the model of all allowed user interactions.\nexport default function useChartModel<T extends AreaChartProps.DataTypes>({\n  isRtl,\n  fitHeight,\n  externalSeries: allSeries,\n  visibleSeries: series,\n  setVisibleSeries,\n  highlightedSeries,\n  setHighlightedSeries,\n  xDomain,\n  yDomain,\n  xScaleType,\n  yScaleType,\n  height: explicitHeight,\n  width,\n  popoverRef,\n}: UseChartModelProps<T>): ChartModel<T> {\n  // Chart elements refs used in handlers.\n  const plotRef = useRef<ChartPlotRef>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const verticalMarkerRef = useRef<SVGLineElement>(null);\n\n  const plotMeasureRef = useRef<SVGLineElement>(null);\n  const hasVisibleSeries = series.length > 0;\n  const height = useHeightMeasure(() => plotMeasureRef.current, !fitHeight, [hasVisibleSeries]) ?? explicitHeight;\n\n  const stableSetVisibleSeries = useStableCallback(setVisibleSeries);\n\n  const model = useMemo(() => {\n    // Compute scales, ticks and two-dimensional plots.\n    const computed = computeChartProps({\n      isRtl,\n      series,\n      xDomain,\n      yDomain,\n      xScaleType,\n      yScaleType,\n      height,\n      width,\n    });\n\n    // A store for chart interactions that don't require plot recomputation.\n    const interactions = new InteractionsStore(series, computed.plot);\n\n    const containsMultipleSeries = interactions.series.length > 1;\n\n    // A series decorator to provide extra props such as color and marker type.\n    const getInternalSeries = createSeriesDecorator(allSeries);\n\n    const isMouseOverPopover = (clientX: number, clientY: number) => {\n      if (popoverRef.current?.firstChild) {\n        const popoverPosition = (popoverRef.current.firstChild as HTMLElement).getBoundingClientRect();\n        if (\n          clientX > popoverPosition.x - POPOVER_DEADZONE &&\n          clientX < popoverPosition.x + popoverPosition.width + POPOVER_DEADZONE &&\n          clientY > popoverPosition.y - POPOVER_DEADZONE &&\n          clientY < popoverPosition.y + popoverPosition.height + POPOVER_DEADZONE\n        ) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    // A Callback for svg mouseover to hover the plot points.\n    // Throttling is necessary for a substantially smoother customer experience.\n    const onSVGMouseMoveThrottled = throttle((clientX: number, clientY: number) => {\n      // No hover logic when the popover is pinned or no data available.\n      if (\n        interactions.get().isPopoverPinned ||\n        !plotRef.current ||\n        interactions.plot.xy.length === 0 ||\n        isMouseOverPopover(clientX, clientY)\n      ) {\n        return;\n      }\n\n      const svgRect = plotRef.current.svg.getBoundingClientRect();\n      const offsetX = clientX - svgRect.left;\n      const offsetY = clientY - svgRect.top;\n\n      const closestX = findClosest(interactions.plot.xy, offsetX, xPoints => xPoints[0].scaled.x);\n      const closestPoint = findClosest(closestX, offsetY, point => point.scaled.y1);\n\n      // If close enough to the point - highlight the point and its column.\n      // If not - only highlight the closest column.\n      if (\n        Math.abs(offsetX - closestPoint.scaled.x) < MAX_HOVER_MARGIN &&\n        Math.abs(offsetY - closestPoint.scaled.y1) < MAX_HOVER_MARGIN\n      ) {\n        interactions.highlightPoint(closestPoint);\n      } else {\n        interactions.highlightX(closestX);\n      }\n    }, SVG_HOVER_THROTTLE);\n\n    const onSVGMouseMove = ({ clientX, clientY }: React.MouseEvent<SVGElement>) =>\n      onSVGMouseMoveThrottled(clientX, clientY);\n\n    // A callback for svg mouseout to clear all highlights.\n    const onSVGMouseOut = (event: React.MouseEvent<SVGElement>) => {\n      // Because the mouseover is throttled, in can occur slightly after the mouseout,\n      // neglecting its effect; cancelling the throttled function prevents that.\n      onSVGMouseMoveThrottled.cancel();\n\n      // No hover logic when the popover is pinned or mouse is over popover\n      if (interactions.get().isPopoverPinned || isMouseOverPopover(event.clientX, event.clientY)) {\n        return;\n      }\n\n      // Check if the target is contained within svg to allow hovering on the popover body.\n      if (!nodeContains(plotRef.current!.svg, event.relatedTarget as Element)) {\n        interactions.clearHighlightedLegend();\n        interactions.clearHighlight();\n      }\n    };\n\n    // A callback for svg click to pin/unpin the popover.\n    const onSVGMouseDown = (event: React.MouseEvent<SVGSVGElement>) => {\n      interactions.togglePopoverPin();\n      event.preventDefault();\n    };\n\n    const moveWithinXAxis = (direction: -1 | 1) => {\n      if (interactions.get().highlightedPoint) {\n        return moveWithinSeries(direction);\n      } else if (containsMultipleSeries) {\n        const { highlightedX } = interactions.get();\n        if (highlightedX) {\n          const currentXIndex = highlightedX[0].index.x;\n          const nextXIndex = circleIndex(currentXIndex + direction, [0, interactions.plot.xy.length - 1]);\n          interactions.highlightX(interactions.plot.xy[nextXIndex]);\n        }\n      }\n    };\n\n    // A helper function to highlight the next or previous point within selected series.\n    const moveWithinSeries = (direction: -1 | 1) => {\n      // Can only use motion when a particular point is highlighted.\n      const point = interactions.get().highlightedPoint;\n      if (!point) {\n        return;\n      }\n\n      // Take the index of the currently highlighted series.\n      const sIndex = point.index.s;\n      // Take the incremented(circularly) x-index of the currently highlighted point.\n      const xIndex = circleIndex(point.index.x + direction, [0, interactions.plot.xs.length - 1]);\n      // Highlight the next point using x:s grouped data.\n      interactions.highlightPoint(interactions.plot.xs[xIndex][sIndex]);\n    };\n\n    // A helper function to highlight the next or previous point within the selected column.\n    const moveBetweenSeries = (direction: -1 | 1) => {\n      const point = interactions.get().highlightedPoint;\n      if (!point) {\n        const { highlightedX } = interactions.get();\n        if (highlightedX) {\n          const xIndex = highlightedX[0].index.x;\n          const points = interactions.plot.xy[xIndex];\n          const yIndex = direction === 1 ? 0 : points.length - 1;\n          interactions.highlightPoint(points[yIndex]);\n        }\n        return;\n      }\n\n      // Take the index of the currently highlighted column.\n      const xIndex = point.index.x;\n      const currentYIndex = point.index.y;\n\n      if (\n        containsMultipleSeries &&\n        ((currentYIndex === 0 && direction === -1) ||\n          (currentYIndex === interactions.plot.xy[xIndex].length - 1 && direction === 1))\n      ) {\n        interactions.highlightX(interactions.plot.xy[xIndex]);\n      } else {\n        // Take the incremented(circularly) y-index of the currently highlighted point.\n        const nextYIndex = circleIndex(currentYIndex + direction, [0, interactions.plot.xy[xIndex].length - 1]);\n        // Highlight the next point using x:y grouped data.\n        interactions.highlightPoint(interactions.plot.xy[xIndex][nextYIndex]);\n      }\n    };\n\n    // A callback for svg keydown to enable motions and popover pin with the keyboard.\n    const onSVGKeyDown = (event: React.KeyboardEvent<HTMLElement | SVGElement>) => {\n      const keyCode = event.keyCode;\n      if (\n        keyCode !== KeyCode.up &&\n        keyCode !== KeyCode.right &&\n        keyCode !== KeyCode.down &&\n        keyCode !== KeyCode.left &&\n        keyCode !== KeyCode.space &&\n        keyCode !== KeyCode.enter\n      ) {\n        return;\n      }\n\n      // Preventing default fixes an issue in Safari+VO when VO additionally interprets arrow keys as its commands.\n      event.preventDefault();\n\n      // No keydown logic when the popover is pinned.\n      if (interactions.get().isPopoverPinned) {\n        return;\n      }\n\n      handleKey(event, {\n        onBlockEnd: () => moveBetweenSeries(-1),\n        onBlockStart: () => moveBetweenSeries(1),\n        onInlineStart: () => moveWithinXAxis(-1),\n        onInlineEnd: () => moveWithinXAxis(1),\n        onActivate: () => interactions.pinPopover(),\n      });\n    };\n\n    const highlightFirstX = () => {\n      interactions.highlightX(interactions.plot.xy[0]);\n    };\n\n    // A callback for application focus to highlight series.\n    const onApplicationFocus = (_event: React.FocusEvent, trigger: 'mouse' | 'keyboard') => {\n      // When focus is caused by a click event nothing is expected as clicks are handled separately.\n      if (trigger === 'keyboard') {\n        const { highlightedX, highlightedPoint, highlightedSeries, legendSeries } = interactions.get();\n        if (containsMultipleSeries && !highlightedX && !highlightedPoint && !highlightedSeries && !legendSeries) {\n          highlightFirstX();\n        } else if (!highlightedX) {\n          interactions.highlightFirstPoint();\n        }\n      }\n    };\n\n    // A callback for application blur to clear all highlights unless the popover is pinned.\n    const onApplicationBlur = (event: React.FocusEvent<Element>) => {\n      // Pinned popover stays pinned even if the focus is lost.\n      // If blur is not caused by the popover, forget the previously highlighted point.\n      if (!nodeBelongs(containerRef.current, event.relatedTarget) && !interactions.get().isPopoverPinned) {\n        interactions.clearHighlight();\n      }\n    };\n\n    const onFilterSeries = (series: readonly AreaChartProps.Series<T>[]) => {\n      stableSetVisibleSeries(series);\n    };\n\n    const onLegendHighlight = (series: null | AreaChartProps.Series<T>) => {\n      interactions.highlightSeries(series);\n    };\n\n    const onPopoverDismiss = (outsideClick?: boolean) => {\n      interactions.unpinPopover();\n\n      // Return focus back to the application or plot (when no point is highlighted).\n      if (!outsideClick) {\n        // The delay is needed to bypass focus events caused by click or keypress needed to unpin the popover.\n        setTimeout(() => {\n          if (interactions.get().highlightedPoint || interactions.get().highlightedX) {\n            plotRef.current!.focusApplication();\n          } else {\n            interactions.clearHighlight();\n            plotRef.current!.focusPlot();\n          }\n        }, 0);\n      }\n    };\n\n    const onContainerBlur = () => {\n      interactions.clearState();\n    };\n\n    const onDocumentKeyDown = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        interactions.clearHighlight();\n        interactions.clearHighlightedLegend();\n      }\n    };\n\n    const onPopoverLeave = (event: MouseEvent) => {\n      if (nodeContains(plotRef.current!.svg, event.relatedTarget as Element) || interactions.get().isPopoverPinned) {\n        return;\n      }\n      interactions.clearHighlight();\n      interactions.clearHighlightedLegend();\n    };\n    return {\n      width,\n      height,\n      series,\n      allSeries,\n      getInternalSeries,\n      computed,\n      interactions,\n      handlers: {\n        onSVGMouseMove,\n        onSVGMouseOut,\n        onSVGMouseDown,\n        onSVGKeyDown,\n        onApplicationFocus,\n        onApplicationBlur,\n        onFilterSeries,\n        onLegendHighlight,\n        onPopoverDismiss,\n        onContainerBlur,\n        onDocumentKeyDown,\n        onPopoverLeave,\n      },\n      refs: {\n        plot: plotRef,\n        plotMeasure: plotMeasureRef,\n        container: containerRef,\n        verticalMarker: verticalMarkerRef,\n        popoverRef,\n      },\n    };\n  }, [\n    allSeries,\n    series,\n    xDomain,\n    yDomain,\n    xScaleType,\n    yScaleType,\n    height,\n    width,\n    stableSetVisibleSeries,\n    popoverRef,\n    isRtl,\n  ]);\n\n  // Notify client when series highlight change.\n  useReaction(model.interactions, state => state.highlightedSeries, setHighlightedSeries);\n\n  // Update interactions store when series highlight in a controlled way.\n  useEffect(() => {\n    if (highlightedSeries !== model.interactions.get().highlightedSeries) {\n      model.interactions.highlightSeries(highlightedSeries);\n    }\n  }, [model, highlightedSeries]);\n\n  return model;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport createCategoryColorScale from '../../internal/utils/create-category-color-scale';\nimport { AreaChartProps } from '../interfaces';\nimport { ChartModel } from './index';\n\nexport default function createSeriesDecorator<T extends AreaChartProps.DataTypes>(\n  externalSeries: readonly AreaChartProps.Series<T>[]\n) {\n  const colorScale = createCategoryColorScale(\n    externalSeries,\n    s => s.type === 'threshold',\n    s => s.color || null\n  );\n\n  const decorateSeries = (s: AreaChartProps.Series<T>, index: number): ChartModel.InternalSeries<T> => {\n    const title = s.title;\n    const color = colorScale[index];\n    const markerType = s.type === 'area' ? 'hollow-rectangle' : 'dashed';\n    const formatValue =\n      s.type === 'threshold'\n        ? () => (s.valueFormatter ? s.valueFormatter(s.y) : s.y)\n        : (y: number, x: T) => (s.valueFormatter ? s.valueFormatter(y, x) : y);\n\n    return { series: s, title, color, markerType, formatValue };\n  };\n\n  // Map external series to internal ones.\n  const mapping = externalSeries.reduce((map, series, index) => {\n    map.set(series, decorateSeries(series, index));\n    return map;\n  }, new Map<AreaChartProps.Series<T>, ChartModel.InternalSeries<T>>());\n\n  // It is inconvenient to use internal series everywhere, that's\n  // why we also provide a decorator function to get the internal series on demand.\n  const seriesDecorator = (series: AreaChartProps.Series<T>): ChartModel.InternalSeries<T> =>\n    mapping.get(series) || decorateSeries(series, externalSeries.length);\n\n  return seriesDecorator;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nexport interface ThrottleOptions {\n  leading?: boolean;\n  trailing?: boolean;\n}\n\nexport interface ThrottledFunction<F extends (...args: any) => any> {\n  (...args: Parameters<F>): void;\n  cancel(): void;\n}\n\nexport function throttle<F extends (...args: any) => any>(\n  func: F,\n  delay: number,\n  { trailing = true }: ThrottleOptions = {}\n): ThrottledFunction<F> {\n  let pending: null | { this: any; args: any } = null;\n  let lastInvokeTime: null | number = null;\n  let timerId: null | number = null;\n\n  // Runs on every animation frame until timer stopped.\n  function pendingFunc() {\n    if (pending === null || lastInvokeTime === null) {\n      return;\n    }\n\n    const invokeTime = Date.now();\n    const shouldInvoke = invokeTime - lastInvokeTime >= delay;\n\n    if (shouldInvoke) {\n      func.apply(pending.this, pending.args);\n      lastInvokeTime = invokeTime;\n      pending = null;\n      timerId = null;\n    } else if (trailing) {\n      startTimer();\n    }\n  }\n\n  function startTimer() {\n    if (timerId) {\n      cancelAnimationFrame(timerId);\n    }\n    timerId = requestAnimationFrame(pendingFunc);\n  }\n\n  // Decorated client function with delay mechanism.\n  function throttled(this: any, ...args: any) {\n    if (lastInvokeTime === null) {\n      lastInvokeTime = Date.now();\n      func.apply(this, args);\n    } else {\n      pending = { this: this, args };\n      startTimer();\n    }\n  }\n\n  // Prevents delayed function from execution when no longer needed.\n  throttled.cancel = () => {\n    if (timerId) {\n      cancelAnimationFrame(timerId);\n    }\n    pending = null;\n    lastInvokeTime = null;\n    timerId = null;\n  };\n\n  return throttled;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { isDevelopment } from '../internal/is-development';\nimport { getBaseProps } from '../internal/base-component';\nimport ChartStatusContainer, { getChartStatus } from '../internal/components/chart-status-container';\n\nimport AreaChartFilter from './elements/area-chart-filter';\nimport AreaChartLegend from './elements/area-chart-legend';\nimport { AreaChartProps } from './interfaces';\nimport ChartContainer from './chart-container';\nimport styles from './styles.css.js';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport useChartModel from './model/use-chart-model';\nimport useFilterProps from './model/use-filter-props';\nimport useHighlightProps from './model/use-highlight-props';\nimport { isSeriesValid } from './model/utils';\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport { SomeRequired } from '../internal/types';\nimport { nodeBelongs } from '../internal/utils/node-belongs';\nimport { ChartWrapper } from '../internal/components/chart-wrapper';\nimport { getIsRtl } from '@cloudscape-design/component-toolkit/internal';\n\ntype InternalAreaChartProps<T extends AreaChartProps.DataTypes> = SomeRequired<\n  AreaChartProps<T>,\n  'height' | 'xScaleType' | 'yScaleType' | 'statusType' | 'detailPopoverSize' | 'i18nStrings'\n> &\n  InternalBaseComponentProps;\n\nexport default function InternalAreaChart<T extends AreaChartProps.DataTypes>({\n  fitHeight,\n  height,\n  xScaleType,\n  yScaleType,\n  xDomain,\n  yDomain,\n  xTickFormatter,\n  yTickFormatter,\n  detailTotalFormatter,\n  highlightedSeries: controlledHighlightedSeries,\n  visibleSeries: controlledVisibleSeries,\n  series: externalSeries,\n  onFilterChange: controlledOnVisibleChange,\n  onHighlightChange: controlledOnHighlightChange,\n  i18nStrings,\n  ariaLabel,\n  ariaLabelledby,\n  ariaDescription,\n  xTitle,\n  yTitle,\n  hideFilter,\n  additionalFilters,\n  hideLegend,\n  legendTitle,\n  statusType,\n  detailPopoverSize,\n  detailPopoverFooter,\n  empty,\n  noMatch,\n  errorText,\n  loadingText,\n  recoveryText,\n  onRecoveryClick,\n  __internalRootRef = null,\n  ...props\n}: InternalAreaChartProps<T>) {\n  const baseProps = getBaseProps(props);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const popoverRef = useRef<HTMLDivElement>(null);\n\n  if (isDevelopment) {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(() => {\n      if (!isSeriesValid(externalSeries)) {\n        warnOnce(\n          'AreaChart',\n          \"The `series` property violates the component's constraints: all `area` \" +\n            'series must have `data` arrays of the same length and with the same x-values.'\n        );\n      }\n    }, [externalSeries]);\n  }\n\n  const [width, setWidth] = useState(0);\n  const [visibleSeries, setVisibleSeries] = useFilterProps(\n    externalSeries,\n    controlledVisibleSeries,\n    controlledOnVisibleChange\n  );\n  const [highlightedSeries, setHighlightedSeries] = useHighlightProps(\n    externalSeries,\n    controlledHighlightedSeries,\n    controlledOnHighlightChange\n  );\n  const isRtl = containerRef.current ? getIsRtl(containerRef.current) : false;\n  const model = useChartModel({\n    isRtl,\n    fitHeight,\n    externalSeries,\n    visibleSeries,\n    setVisibleSeries,\n    highlightedSeries,\n    setHighlightedSeries,\n    xDomain,\n    yDomain,\n    xScaleType,\n    yScaleType,\n    height,\n    width,\n    popoverRef,\n  });\n\n  const { isEmpty, isNoMatch, showChart } = getChartStatus({\n    externalData: externalSeries,\n    visibleData: visibleSeries,\n    statusType,\n  });\n  const showFilters = statusType === 'finished' && (!isEmpty || isNoMatch) && (additionalFilters || !hideFilter);\n  const showLegend = !hideLegend && !isEmpty && statusType === 'finished';\n  const reserveLegendSpace = !showChart && !hideLegend;\n  const reserveFilterSpace = !showChart && !isNoMatch && (!hideFilter || additionalFilters);\n\n  useEffect(() => {\n    const onKeyDown = model.handlers.onDocumentKeyDown;\n    document.addEventListener('keydown', onKeyDown);\n    return () => document.removeEventListener('keydown', onKeyDown);\n  }, [model.handlers.onDocumentKeyDown]);\n\n  const onBlur = (event: React.FocusEvent) => {\n    if (event.relatedTarget && !nodeBelongs(containerRef.current, event.relatedTarget)) {\n      model.handlers.onContainerBlur();\n    }\n  };\n\n  const mergedRef = useMergeRefs(containerRef, __internalRootRef);\n\n  return (\n    <ChartWrapper\n      ref={mergedRef}\n      {...baseProps}\n      className={clsx(baseProps.className, styles.root)}\n      fitHeight={!!fitHeight}\n      contentMinHeight={height}\n      defaultFilter={\n        showFilters && !hideFilter ? (\n          <AreaChartFilter\n            model={model}\n            filterLabel={i18nStrings.filterLabel}\n            filterPlaceholder={i18nStrings.filterPlaceholder}\n            filterSelectedAriaLabel={i18nStrings.filterSelectedAriaLabel}\n          />\n        ) : null\n      }\n      additionalFilters={showFilters ? additionalFilters : null}\n      reserveFilterSpace={!!reserveFilterSpace}\n      reserveLegendSpace={!!reserveLegendSpace}\n      chartStatus={\n        <ChartStatusContainer\n          isEmpty={isEmpty}\n          isNoMatch={isNoMatch}\n          showChart={showChart}\n          statusType={statusType}\n          empty={empty}\n          noMatch={noMatch}\n          loadingText={loadingText}\n          errorText={errorText}\n          recoveryText={recoveryText}\n          onRecoveryClick={onRecoveryClick}\n        />\n      }\n      chart={\n        showChart ? (\n          <ChartContainer\n            model={model}\n            autoWidth={setWidth}\n            detailPopoverSize={detailPopoverSize}\n            detailPopoverFooter={detailPopoverFooter}\n            xTitle={xTitle}\n            yTitle={yTitle}\n            xTickFormatter={xTickFormatter}\n            yTickFormatter={yTickFormatter}\n            detailTotalFormatter={detailTotalFormatter}\n            ariaLabel={ariaLabel}\n            ariaLabelledby={ariaLabelledby}\n            ariaDescription={ariaDescription}\n            i18nStrings={i18nStrings}\n            fitHeight={fitHeight}\n            minHeight={height}\n          />\n        ) : null\n      }\n      legend={\n        showLegend ? (\n          <AreaChartLegend\n            plotContainerRef={containerRef}\n            model={model}\n            legendTitle={legendTitle}\n            ariaLabel={i18nStrings.legendAriaLabel}\n          />\n        ) : null\n      }\n      onBlur={onBlur}\n    />\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback, useEffect } from 'react';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../../internal/events';\nimport { useControllable } from '../../internal/hooks/use-controllable';\nimport { AreaChartProps } from '../interfaces';\n\ntype FilterProps<T> = [readonly AreaChartProps.Series<T>[], (series: readonly AreaChartProps.Series<T>[]) => void];\n\n// Provides controlled or uncontrolled props to filter chart series.\nexport default function useFilterProps<T>(\n  series: readonly AreaChartProps.Series<T>[],\n  controlledVisibleSeries?: readonly AreaChartProps.Series<T>[],\n  controlledOnVisibleChange?: NonCancelableEventHandler<AreaChartProps.FilterChangeDetail<T>>\n): FilterProps<T> {\n  const [visibleSeries = [], setVisibleSeriesState] = useControllable(\n    controlledVisibleSeries,\n    controlledOnVisibleChange,\n    series,\n    {\n      componentName: 'AreaChart',\n      controlledProp: 'visibleSeries',\n      changeHandler: 'onFilterChange',\n    }\n  );\n\n  const setVisibleSeries = useCallback(\n    (selectedSeries: readonly AreaChartProps.Series<T>[]) => {\n      setVisibleSeriesState(selectedSeries);\n      fireNonCancelableEvent(controlledOnVisibleChange, { visibleSeries: selectedSeries });\n    },\n    [controlledOnVisibleChange, setVisibleSeriesState]\n  );\n\n  // Reset filter if series change.\n  useEffect(() => {\n    const newVisibleSeries = visibleSeries.filter(s => series.indexOf(s) !== -1);\n\n    if (newVisibleSeries.length !== visibleSeries.length) {\n      setVisibleSeries(newVisibleSeries);\n    }\n  }, [series, visibleSeries, setVisibleSeries]);\n\n  return [visibleSeries, setVisibleSeries];\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback, useEffect } from 'react';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../../internal/events';\nimport { useControllable } from '../../internal/hooks/use-controllable';\nimport { AreaChartProps } from '../interfaces';\n\ntype HighlightProps<T> = [null | AreaChartProps.Series<T>, (s: null | AreaChartProps.Series<T>) => void];\n\n// Provides controlled or uncontrolled props to highlight chart elements.\nexport default function useHighlightProps<T>(\n  series: readonly AreaChartProps.Series<T>[],\n  controlledHighlightedSeries?: null | AreaChartProps.Series<T>,\n  controlledOnHighlightChange?: NonCancelableEventHandler<AreaChartProps.HighlightChangeDetail<T>>\n): HighlightProps<T> {\n  const [highlightedSeries = null, setHighlightedSeries] = useControllable(\n    controlledHighlightedSeries,\n    controlledOnHighlightChange,\n    null,\n    {\n      componentName: 'AreaChart',\n      controlledProp: 'highlightedSeries',\n      changeHandler: 'onHighlightChange',\n    }\n  );\n\n  const notifyHighlightedSeries = useCallback(\n    (s: null | AreaChartProps.Series<T>) => {\n      fireNonCancelableEvent(controlledOnHighlightChange, { highlightedSeries: s });\n    },\n    [controlledOnHighlightChange]\n  );\n\n  // Reset highlights if series change.\n  useEffect(() => {\n    if (controlledHighlightedSeries) {\n      const highlightedSeriesIndex = series.indexOf(controlledHighlightedSeries);\n\n      if (highlightedSeriesIndex === -1) {\n        setHighlightedSeries(null);\n        notifyHighlightedSeries(null);\n      }\n    }\n  }, [series, controlledHighlightedSeries, setHighlightedSeries, notifyHighlightedSeries]);\n\n  return [highlightedSeries, notifyHighlightedSeries];\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\n\nimport { AreaChartProps } from './interfaces';\nimport InternalAreaChart from './internal';\nimport useBaseComponent from '../internal/hooks/use-base-component';\n\nexport { AreaChartProps };\n\nfunction AreaChart<T extends AreaChartProps.DataTypes>({\n  height = 500,\n  xScaleType = 'linear',\n  yScaleType = 'linear',\n  statusType = 'finished',\n  detailPopoverSize = 'medium',\n  i18nStrings = {},\n  ...props\n}: AreaChartProps<T>) {\n  const baseComponentProps = useBaseComponent('AreaChart', {\n    props: {\n      detailPopoverSize,\n      hideLegend: props.hideLegend,\n      hideFilter: props.hideFilter,\n      fitHeight: props.fitHeight,\n      xScaleType,\n      yScaleType,\n    },\n  });\n  return (\n    <InternalAreaChart\n      height={height}\n      xScaleType={xScaleType}\n      yScaleType={yScaleType}\n      statusType={statusType}\n      detailPopoverSize={detailPopoverSize}\n      i18nStrings={i18nStrings}\n      {...props}\n      {...baseComponentProps}\n    />\n  );\n}\n\napplyDisplayName(AreaChart, 'AreaChart');\n\nexport default AreaChart;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport InternalColumnLayout from './internal';\nimport { getExternalProps } from '../internal/utils/external-props';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { ColumnLayoutProps } from './interfaces';\n\nexport { ColumnLayoutProps };\n\nexport default function ColumnLayout({\n  columns = 1,\n  variant = 'default',\n  borders = 'none',\n  disableGutters = false,\n  ...props\n}: ColumnLayoutProps) {\n  const baseComponentProps = useBaseComponent('ColumnLayout', {\n    props: { borders, columns, disableGutters, minColumnWidth: props.minColumnWidth, variant },\n  });\n  const externalProps = getExternalProps(props);\n  return (\n    <InternalColumnLayout\n      columns={columns}\n      variant={variant}\n      borders={borders}\n      disableGutters={disableGutters}\n      {...externalProps}\n      {...baseComponentProps}\n    />\n  );\n}\n\napplyDisplayName(ColumnLayout, 'ColumnLayout');\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport { getBaseProps } from '../internal/base-component';\nimport InternalGrid from './internal';\nimport { GridProps } from './interfaces';\nimport { useContainerBreakpoints } from '../internal/hooks/container-queries';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport useBaseComponent from '../internal/hooks/use-base-component';\n\nexport { GridProps };\n\nexport default function Grid({ gridDefinition = [], disableGutters = false, children, ...restProps }: GridProps) {\n  const baseComponentProps = useBaseComponent('Grid', {\n    props: { disableGutters },\n  });\n  const baseProps = getBaseProps(restProps);\n  const [breakpoint, ref] = useContainerBreakpoints(undefined);\n\n  return (\n    <InternalGrid\n      {...baseProps}\n      {...baseComponentProps}\n      ref={ref}\n      __breakpoint={breakpoint}\n      gridDefinition={gridDefinition}\n      disableGutters={disableGutters}\n    >\n      {children}\n    </InternalGrid>\n  );\n}\n\napplyDisplayName(Grid, 'Grid');\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DropdownOption, OptionDefinition, OptionGroup } from '../interfaces';\n\ntype SearchableField = 'value' | 'label' | 'description' | 'labelTag';\ntype SearchableTagField = 'tags' | 'filteringTags';\n\nconst searchableFields: SearchableField[] = ['value', 'label', 'description', 'labelTag'];\n\nexport const matchesString = (value: string | undefined, searchText: string, strictMatching: boolean): boolean => {\n  if (!value) {\n    return false;\n  }\n  const index = value.toLowerCase().indexOf(searchText);\n  return strictMatching ? index === 0 : index > -1;\n};\n\nconst matchesSingleOption = (dropdownOption: DropdownOption, text: string, strictMatching: boolean): boolean => {\n  const searchText = text.toLowerCase();\n\n  const option: OptionDefinition = dropdownOption.option;\n  const searchStrFields = (attr: SearchableField) => matchesString(option[attr], searchText, strictMatching);\n  const searchTagsFields = (attr: SearchableTagField) =>\n    option[attr]?.some(value => matchesString(value, searchText, strictMatching));\n\n  const searchableTagFields: SearchableTagField[] = ['tags'];\n  if (!strictMatching) {\n    searchableTagFields.push('filteringTags');\n  }\n\n  return searchableFields.some(searchStrFields) || searchableTagFields.some(searchTagsFields);\n};\n\nexport const filterOptions = (\n  options: ReadonlyArray<DropdownOption>,\n  searchText: string,\n  strictMatching = false\n): ReadonlyArray<DropdownOption> => {\n  if (searchText === '') {\n    return options;\n  }\n\n  let currentGroup: DropdownOption | null = null;\n  let parentMatched = false;\n  return options.reduce<DropdownOption[]>((acc, option) => {\n    if (option.type === 'parent') {\n      parentMatched = false;\n      currentGroup = option;\n      if (matchesSingleOption(option, searchText, strictMatching)) {\n        parentMatched = true;\n        acc.push(currentGroup);\n      }\n      return acc;\n    }\n    if (option.type !== 'child') {\n      currentGroup = null;\n      parentMatched = false;\n    }\n    if (parentMatched) {\n      acc.push(option);\n    } else if (matchesSingleOption(option, searchText, strictMatching)) {\n      if (currentGroup) {\n        acc.push(currentGroup);\n        currentGroup = null;\n      }\n      acc.push(option);\n    }\n    return acc;\n  }, []);\n};\n\nexport const isInteractive = (option?: DropdownOption) => !!option && !option.disabled && option.type !== 'parent';\n\nexport const isGroupInteractive = (option?: DropdownOption) => !!option && !option.disabled;\n\nexport const isGroup = (option?: OptionDefinition | OptionGroup): option is OptionGroup =>\n  !!option && 'options' in option;\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1afi9_1aapr_97\",\n  \"hidden\": \"awsui_hidden_1afi9_1aapr_131\",\n  \"no-items\": \"awsui_no-items_1afi9_1aapr_134\"\n};\n  ","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_vrgzu_95md8_97\",\n  \"recovery\": \"awsui_recovery_vrgzu_95md8_135\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport InternalLink from '../../../link/internal';\n\nimport InternalStatusIndicator from '../../../status-indicator/internal';\nimport { NonCancelableEventHandler, fireNonCancelableEvent } from '../../events';\nimport { usePrevious } from '../../hooks/use-previous';\n\nimport { DropdownStatusProps } from './interfaces';\nimport styles from './styles.css.js';\n\nexport { DropdownStatusProps };\n\nexport interface DropdownStatusPropsExtended extends DropdownStatusProps {\n  isEmpty?: boolean;\n  isNoMatch?: boolean;\n  isFiltered?: boolean;\n  noMatch?: React.ReactNode;\n  filteringResultsText?: string;\n  /**\n   * Called when the user clicks the recovery button placed at the\n   * bottom of the dropdown list in the error state. Use this to\n   * retry a failed request or provide another option for the user\n   * to recover from the error.\n   */\n  onRecoveryClick?: NonCancelableEventHandler;\n  /**\n   * Determines if retry button should be rendered\n   * in case recoveryText was automatically provided by i18n.\n   */\n  hasRecoveryCallback?: boolean;\n}\n\nfunction DropdownStatus({ children }: { children: React.ReactNode }) {\n  return <div className={styles.root}>{children}</div>;\n}\n\ntype UseDropdownStatus = ({\n  statusType,\n  empty,\n  loadingText,\n  finishedText,\n  filteringResultsText,\n  errorText,\n  recoveryText,\n  isEmpty,\n  isNoMatch,\n  isFiltered,\n  noMatch,\n  hasRecoveryCallback,\n  onRecoveryClick,\n}: DropdownStatusPropsExtended) => DropdownStatusResult;\n\ninterface DropdownStatusResult {\n  isSticky: boolean;\n  content: React.ReactNode | null;\n}\n\nexport const useDropdownStatus: UseDropdownStatus = ({\n  statusType,\n  empty,\n  loadingText,\n  finishedText,\n  filteringResultsText,\n  errorText,\n  recoveryText,\n  isEmpty,\n  isNoMatch,\n  isFiltered,\n  noMatch,\n  onRecoveryClick,\n  hasRecoveryCallback = false,\n  errorIconAriaLabel,\n}) => {\n  const previousStatusType = usePrevious(statusType);\n  const statusResult: DropdownStatusResult = { isSticky: true, content: null };\n\n  if (statusType === 'loading') {\n    statusResult.content = <InternalStatusIndicator type={'loading'}>{loadingText}</InternalStatusIndicator>;\n  } else if (statusType === 'error') {\n    statusResult.content = (\n      <span>\n        <InternalStatusIndicator\n          type=\"error\"\n          __display=\"inline\"\n          __animate={previousStatusType !== 'error'}\n          iconAriaLabel={errorIconAriaLabel}\n        >\n          {errorText}\n        </InternalStatusIndicator>{' '}\n        {!!recoveryText && hasRecoveryCallback && (\n          <InternalLink\n            onFollow={() => fireNonCancelableEvent(onRecoveryClick)}\n            variant=\"recovery\"\n            className={styles.recovery}\n          >\n            {recoveryText}\n          </InternalLink>\n        )}\n      </span>\n    );\n  } else if (isEmpty && empty) {\n    statusResult.content = empty;\n  } else if (isNoMatch && noMatch) {\n    statusResult.content = noMatch;\n  } else if (isFiltered && filteringResultsText) {\n    statusResult.content = filteringResultsText;\n  } else if (statusType === 'finished' && finishedText) {\n    statusResult.content = finishedText;\n    statusResult.isSticky = false;\n  }\n\n  return statusResult;\n};\n\nexport default DropdownStatus;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport styles from './styles.css.js';\nimport DropdownStatus from '../dropdown-status/index.js';\nimport LiveRegion from '../live-region/index.js';\n\ninterface DropdownFooter {\n  content?: React.ReactNode | null;\n  hasItems?: boolean;\n  id?: string;\n}\n\nconst DropdownFooter: React.FC<DropdownFooter> = ({ content, id, hasItems = true }: DropdownFooter) => (\n  <div className={clsx(styles.root, { [styles.hidden]: content === null, [styles['no-items']]: !hasItems })}>\n    <LiveRegion visible={true} tagName=\"div\" id={id}>\n      {content && <DropdownStatus>{content}</DropdownStatus>}\n    </LiveRegion>\n  </div>\n);\n\nexport default DropdownFooter;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\ninterface ListItem {\n  type?: string;\n}\ninterface TestIndexes {\n  throughIndex?: number;\n  groupIndex?: number;\n  inGroupIndex?: number;\n}\nconst testIndexMap = new WeakMap<ListItem, TestIndexes>();\n//retrieves the test indexes of the option for the findOption and findOptionInGroup test-utils\nexport const getTestOptionIndexes = <T extends ListItem>(item: T) => testIndexMap.get(item);\nexport const generateTestIndexes = <T extends ListItem, Group extends object>(\n  filteredItems: ReadonlyArray<T>,\n  getParentGroup: (item: T) => Group | undefined\n) => {\n  let throughIndex = 1;\n  let groupIndex = 0;\n  let inGroupIndex = 1;\n  let currentGroup: ListItem | null = null;\n  filteredItems.forEach(item => {\n    const isGroup = item.type === 'parent';\n    const group = isGroup ? item : getParentGroup(item);\n    if (group && group !== currentGroup) {\n      currentGroup = group;\n      groupIndex += 1;\n      inGroupIndex = 1;\n    }\n    if (isGroup) {\n      testIndexMap.set(item, { groupIndex });\n    } else if (group && item.type === 'child') {\n      testIndexMap.set(item, {\n        throughIndex: throughIndex++,\n        groupIndex,\n        inGroupIndex: inGroupIndex++,\n      });\n    } else if (item.type === 'child' || !item.type) {\n      testIndexMap.set(item, { throughIndex: throughIndex++ });\n    }\n  });\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { flattenOptions } from './flatten-options';\nimport { filterOptions } from './filter-options';\nimport { generateTestIndexes } from '../../options-list/utils/test-indexes';\nimport { SelectProps } from '../../../../select/interfaces';\n\nexport function prepareOptions(\n  options: SelectProps.Options,\n  filteringType: SelectProps.FilteringType,\n  filteringText: string\n) {\n  const { flatOptions, parentMap } = flattenOptions(options);\n  const filteredOptions = filteringType !== 'auto' ? flatOptions : filterOptions(flatOptions, filteringText);\n  generateTestIndexes(filteredOptions, parentMap.get.bind(parentMap));\n  return {\n    filteredOptions,\n    parentMap,\n    totalCount: flatOptions.length,\n    matchesCount: filteredOptions.length,\n  };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { OptionGroup, OptionDefinition, DropdownOption } from '../interfaces';\n\nexport const flattenOptions = (options: ReadonlyArray<OptionDefinition | OptionGroup>) => {\n  const parentMap = new Map<DropdownOption, DropdownOption>();\n\n  const flatOptions = options.reduce<DropdownOption[]>((acc, option) => {\n    if ('options' in option) {\n      const { options, ...rest } = option;\n      const parentDropdownOption: DropdownOption = { type: 'parent', option };\n      const allOptionsDisabled = options.every(option => option.disabled);\n      if (option.disabled || allOptionsDisabled) {\n        parentDropdownOption.disabled = true;\n      }\n      acc.push(parentDropdownOption);\n      options.forEach(child => {\n        const childDropdownOption: DropdownOption = { type: 'child', option: child };\n        if (rest.disabled || child.disabled) {\n          childDropdownOption.disabled = true;\n        }\n        acc.push(childDropdownOption);\n        parentMap.set(childDropdownOption, parentDropdownOption);\n      });\n    } else {\n      const dropdownOption: DropdownOption = { option };\n      if (option.disabled) {\n        dropdownOption.disabled = true;\n      }\n      acc.push(dropdownOption);\n    }\n\n    return acc;\n  }, []);\n\n  return {\n    flatOptions,\n    parentMap,\n  };\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback, useState } from 'react';\n\nexport class HighlightType {\n  constructor(\n    public type: 'keyboard' | 'mouse',\n    public moveFocus: boolean = type === 'keyboard'\n  ) {}\n}\n\nexport interface HighlightedOptionProps<OptionType> {\n  options: readonly OptionType[];\n  isHighlightable: (option: OptionType) => boolean;\n}\n\nexport interface HighlightedOptionState<OptionType> {\n  highlightType: HighlightType;\n  highlightedIndex: number;\n  highlightedOption?: OptionType;\n}\n\nexport interface HighlightedOptionHandlers<OptionType> {\n  // Mouse handlers\n  setHighlightedIndexWithMouse(index: number, moveFocus?: boolean): void;\n  // Keyboard handlers\n  moveHighlightWithKeyboard(direction: -1 | 1): void;\n  highlightOptionWithKeyboard(option: OptionType): void;\n  resetHighlightWithKeyboard(): void;\n  goHomeWithKeyboard(): void;\n  goEndWithKeyboard(): void;\n}\n\nexport function useHighlightedOption<OptionType>({\n  options,\n  isHighlightable,\n}: HighlightedOptionProps<OptionType>): [HighlightedOptionState<OptionType>, HighlightedOptionHandlers<OptionType>] {\n  const [highlightedIndex, setHighlightedIndexState] = useState(-1);\n  const [highlightType, setHighlightType] = useState<HighlightType>(new HighlightType('keyboard'));\n  const setHighlightedIndex = useCallback((index: number, highlightType: HighlightType) => {\n    setHighlightedIndexState(index);\n    setHighlightType(highlightType);\n  }, []);\n\n  const highlightedOption =\n    options[highlightedIndex] && isHighlightable(options[highlightedIndex]) ? options[highlightedIndex] : undefined;\n\n  const moveHighlightFrom = (direction: -1 | 1, startIndex = highlightedIndex, highlightType: HighlightType) => {\n    const fromBottomEnd = startIndex === -1 && direction === -1;\n    let newIndex = fromBottomEnd ? options.length : startIndex;\n    do {\n      newIndex += direction;\n    } while (options[newIndex] && !isHighlightable(options[newIndex]));\n\n    if (options[newIndex]) {\n      setHighlightedIndex(newIndex, highlightType);\n    }\n  };\n\n  const moveHighlight = (direction: -1 | 1, highlightType: HighlightType) =>\n    moveHighlightFrom(direction, highlightedIndex, highlightType);\n\n  const highlightOption = useCallback(\n    (option: OptionType, highlightType: HighlightType) => {\n      const index = options.indexOf(option);\n      setHighlightedIndex(index, highlightType);\n    },\n    [options, setHighlightedIndex]\n  );\n\n  return [\n    { highlightType, highlightedIndex, highlightedOption },\n    {\n      setHighlightedIndexWithMouse: (index: number, moveFocus = false) =>\n        setHighlightedIndex(index, new HighlightType('mouse', moveFocus)),\n      moveHighlightWithKeyboard: (direction: -1 | 1) => moveHighlight(direction, new HighlightType('keyboard')),\n      highlightOptionWithKeyboard: (option: OptionType) => highlightOption(option, new HighlightType('keyboard')),\n      resetHighlightWithKeyboard: () => setHighlightedIndex(-1, new HighlightType('keyboard')),\n      goHomeWithKeyboard: () => moveHighlightFrom(1, -1, new HighlightType('keyboard')),\n      goEndWithKeyboard: () => moveHighlightFrom(-1, options.length, new HighlightType('keyboard')),\n    },\n  ];\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback } from 'react';\nimport { KeyCode } from '../../../keycode';\nimport { BaseKeyDetail, CancelableEventHandler } from '../../../events';\n\nconst HOME = 36;\nconst END = 35;\n\ninterface UseMenuKeyboard {\n  (inputProps: {\n    goUp: () => void;\n    goDown: () => void;\n    selectOption: () => void;\n    goHome: () => void;\n    goEnd: () => void;\n    closeDropdown: () => void;\n    preventNativeSpace?: boolean;\n  }): CancelableEventHandler<BaseKeyDetail>;\n}\n\nexport const useMenuKeyboard: UseMenuKeyboard = ({\n  goUp,\n  goDown,\n  selectOption,\n  goHome,\n  goEnd,\n  closeDropdown,\n  preventNativeSpace = false,\n}) => {\n  return useCallback(\n    (e: CustomEvent<BaseKeyDetail>) => {\n      switch (e.detail.keyCode) {\n        case KeyCode.up:\n          e.preventDefault();\n          goUp();\n          break;\n        case KeyCode.down:\n          e.preventDefault();\n          goDown();\n          break;\n        case HOME:\n          goHome();\n          break;\n        case END:\n          goEnd();\n          break;\n        case KeyCode.escape:\n          e.stopPropagation();\n          closeDropdown();\n          break;\n        case KeyCode.enter:\n          e.preventDefault();\n          selectOption();\n          break;\n        case KeyCode.space:\n          if (preventNativeSpace) {\n            e.preventDefault();\n            selectOption();\n          }\n      }\n    },\n    [selectOption, goHome, goEnd, closeDropdown, preventNativeSpace, goUp, goDown]\n  );\n};\n\ninterface UseTriggerKeyboard {\n  (inputProps: { openDropdown: () => void; goHome: () => void }): CancelableEventHandler<BaseKeyDetail>;\n}\n\nexport const useTriggerKeyboard: UseTriggerKeyboard = ({ openDropdown, goHome }) => {\n  return useCallback(\n    (e: CustomEvent<BaseKeyDetail>) => {\n      switch (e.detail.keyCode) {\n        case KeyCode.up:\n        case KeyCode.down:\n          e.preventDefault();\n          goHome();\n          openDropdown();\n          break;\n        case KeyCode.space:\n        case KeyCode.enter:\n          e.preventDefault();\n          openDropdown();\n          break;\n      }\n    },\n    [openDropdown, goHome]\n  );\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const getOptionId = (menuId: string, index: number) => {\n  if (index < 0) {\n    return undefined;\n  }\n  return `${menuId}-option-${index}`;\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DropdownOption, OptionDefinition } from '../../internal/components/option/interfaces';\n\nexport const connectOptionsByValue = (\n  options: ReadonlyArray<DropdownOption>,\n  selectedOptions: ReadonlyArray<OptionDefinition>\n): ReadonlyArray<DropdownOption> => {\n  return (selectedOptions || []).map(selectedOption => {\n    for (const dropdownOption of options) {\n      if (\n        dropdownOption.type !== 'parent' &&\n        (dropdownOption.option as OptionDefinition).value === selectedOption.value\n      ) {\n        return dropdownOption;\n      }\n    }\n    return { option: selectedOption };\n  });\n};\n\nexport const findOptionIndex = (options: ReadonlyArray<OptionDefinition>, option: OptionDefinition) => {\n  for (let index = 0; index < options.length; index++) {\n    const __option = options[index];\n    if (__option === option || __option.value === option.value) {\n      return index;\n    }\n  }\n  return -1;\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { RefObject } from 'react';\nimport { DropdownProps } from '../../internal/components/dropdown/interfaces';\nimport { DropdownOption, OptionDefinition, OptionGroup } from '../../internal/components/option/interfaces';\nimport { isInteractive, isGroupInteractive, isGroup } from '../../internal/components/option/utils/filter-options';\nimport { useEffect, useRef } from 'react';\nimport { useHighlightedOption } from '../../internal/components/options-list/utils/use-highlight-option';\nimport { useOpenState } from '../../internal/components/options-list/utils/use-open-state';\nimport { useMenuKeyboard, useTriggerKeyboard } from '../../internal/components/options-list/utils/use-keyboard';\nimport { getOptionId } from '../../internal/components/options-list/utils/use-ids';\nimport { connectOptionsByValue } from './connect-options';\nimport useForwardFocus from '../../internal/hooks/forward-focus';\nimport { OptionsListProps } from '../../internal/components/options-list';\nimport { FilterProps } from '../parts/filter';\nimport { ItemProps } from '../parts/item';\nimport { usePrevious } from '../../internal/hooks/use-previous';\nimport { NonCancelableEventHandler, fireNonCancelableEvent } from '../../internal/events';\nimport { useUniqueId } from '../../internal/hooks/use-unique-id';\nimport { DropdownStatusProps } from '../../internal/components/dropdown-status';\nimport { ButtonTriggerProps } from '../../internal/components/button-trigger';\n\nexport type MenuProps = Omit<OptionsListProps, 'children'> & { ref: React.RefObject<HTMLUListElement> };\nexport type GetOptionProps = (option: DropdownOption, index: number) => ItemProps;\n\ninterface UseSelectProps {\n  selectedOptions: ReadonlyArray<OptionDefinition>;\n  updateSelectedOption: (option: OptionDefinition) => void;\n  options: ReadonlyArray<DropdownOption>;\n  filteringType: string;\n  keepOpen?: boolean;\n  onBlur?: NonCancelableEventHandler;\n  onFocus?: NonCancelableEventHandler;\n  externalRef: React.Ref<any>;\n  fireLoadItems: (filteringText: string) => void;\n  setFilteringValue: (filteringText: string) => void;\n  useInteractiveGroups?: boolean;\n  statusType: DropdownStatusProps.StatusType;\n}\n\nexport interface SelectTriggerProps extends ButtonTriggerProps {\n  ref: RefObject<HTMLButtonElement>;\n}\n\nexport function useSelect({\n  selectedOptions,\n  updateSelectedOption,\n  options,\n  filteringType,\n  onBlur,\n  onFocus,\n  externalRef,\n  keepOpen,\n  fireLoadItems,\n  setFilteringValue,\n  useInteractiveGroups = false,\n  statusType,\n}: UseSelectProps) {\n  const interactivityCheck = useInteractiveGroups ? isGroupInteractive : isInteractive;\n\n  const isHighlightable = (option?: DropdownOption) => !!option && (useInteractiveGroups || option.type !== 'parent');\n\n  const filterRef = useRef<HTMLInputElement>(null);\n  const triggerRef = useRef<HTMLButtonElement>(null);\n  const menuRef = useRef<HTMLUListElement>(null);\n  const hasFilter = filteringType !== 'none';\n  const activeRef = hasFilter ? filterRef : menuRef;\n  const __selectedOptions = connectOptionsByValue(options, selectedOptions);\n  const __selectedValuesSet = selectedOptions.reduce((selectedValuesSet: Set<string>, item: OptionDefinition) => {\n    if (item.value) {\n      selectedValuesSet.add(item.value);\n    }\n    return selectedValuesSet;\n  }, new Set<string>());\n  const [\n    { highlightType, highlightedOption, highlightedIndex },\n    {\n      moveHighlightWithKeyboard,\n      resetHighlightWithKeyboard,\n      setHighlightedIndexWithMouse,\n      highlightOptionWithKeyboard,\n      goHomeWithKeyboard,\n      goEndWithKeyboard,\n    },\n  ] = useHighlightedOption({ options, isHighlightable });\n\n  const { isOpen, openDropdown, closeDropdown, toggleDropdown, openedWithKeyboard } = useOpenState({\n    onOpen: () => fireLoadItems(''),\n    onClose: () => {\n      resetHighlightWithKeyboard();\n      setFilteringValue('');\n    },\n  });\n\n  const handleFocus = () => {\n    fireNonCancelableEvent(onFocus, {});\n  };\n\n  const handleBlur = () => {\n    fireNonCancelableEvent(onBlur, {});\n    closeDropdown();\n  };\n\n  const hasSelectedOption = __selectedOptions.length > 0;\n  const menuId = useUniqueId('option-list');\n  const dialogId = useUniqueId('dialog');\n  const highlightedOptionId = getOptionId(menuId, highlightedIndex);\n\n  const selectOption = (option?: DropdownOption) => {\n    const optionToSelect = option || highlightedOption;\n    if (!optionToSelect || !interactivityCheck(optionToSelect)) {\n      return;\n    }\n    updateSelectedOption(optionToSelect.option);\n    if (!keepOpen) {\n      triggerRef.current?.focus();\n      closeDropdown();\n    }\n  };\n\n  const activeKeyDownHandler = useMenuKeyboard({\n    goUp: () => {\n      if (\n        (!useInteractiveGroups && highlightedOption?.type === 'child' && highlightedIndex === 1) ||\n        highlightedIndex === 0\n      ) {\n        goEndWithKeyboard();\n        return;\n      }\n\n      moveHighlightWithKeyboard(-1);\n    },\n    goDown: () => {\n      if (highlightedIndex === options.length - 1) {\n        goHomeWithKeyboard();\n        return;\n      }\n\n      moveHighlightWithKeyboard(1);\n    },\n    selectOption,\n    goHome: goHomeWithKeyboard,\n    goEnd: goEndWithKeyboard,\n    closeDropdown: () => {\n      triggerRef.current?.focus();\n      closeDropdown();\n    },\n    preventNativeSpace: !hasFilter,\n  });\n\n  const triggerKeyDownHandler = useTriggerKeyboard({\n    openDropdown: () => openDropdown(true),\n    goHome: goHomeWithKeyboard,\n  });\n\n  const getDropdownProps: () => Pick<\n    DropdownProps,\n    'onFocus' | 'onBlur' | 'dropdownContentId' | 'dropdownContentRole'\n  > = () => ({\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    dropdownContentId: dialogId,\n    dropdownContentRole: hasFilter ? 'dialog' : undefined,\n  });\n\n  const getTriggerProps = (disabled = false, autoFocus = false) => {\n    const triggerProps: SelectTriggerProps = {\n      ref: triggerRef,\n      onFocus: () => closeDropdown(),\n      autoFocus,\n      ariaHasPopup: hasFilter ? 'dialog' : 'listbox',\n      ariaControls: isOpen ? (hasFilter ? dialogId : menuId) : undefined,\n    };\n    if (!disabled) {\n      triggerProps.onMouseDown = (event: CustomEvent) => {\n        event.preventDefault(); // prevent current focus from blurring as it immediately closes the dropdown\n        if (isOpen) {\n          triggerRef.current?.focus();\n        }\n        toggleDropdown();\n      };\n      triggerProps.onKeyDown = triggerKeyDownHandler;\n    }\n    return triggerProps;\n  };\n\n  const getFilterProps = (): Partial<FilterProps> => {\n    if (!hasFilter) {\n      return {};\n    }\n\n    return {\n      ref: filterRef,\n      onKeyDown: activeKeyDownHandler,\n      onChange: event => {\n        setFilteringValue(event.detail.value);\n        resetHighlightWithKeyboard();\n      },\n      __onDelayedInput: event => {\n        fireLoadItems(event.detail.value);\n      },\n      __nativeAttributes: {\n        'aria-activedescendant': highlightedOptionId,\n        ['aria-owns']: menuId,\n        ['aria-controls']: menuId,\n      },\n    };\n  };\n\n  const getMenuProps = () => {\n    const menuProps: MenuProps = {\n      id: menuId,\n      ref: menuRef,\n      open: isOpen,\n      onMouseUp: itemIndex => {\n        if (itemIndex > -1) {\n          selectOption(options[itemIndex]);\n        }\n      },\n      onMouseMove: itemIndex => {\n        if (itemIndex > -1) {\n          setHighlightedIndexWithMouse(itemIndex);\n        }\n      },\n      statusType,\n    };\n    if (!hasFilter) {\n      menuProps.onKeyDown = activeKeyDownHandler;\n      menuProps.nativeAttributes = {\n        'aria-activedescendant': highlightedOptionId,\n      };\n    }\n    return menuProps;\n  };\n  const getGroupState = (option: OptionGroup) => {\n    const totalSelected = option.options.filter(item => !!item.value && __selectedValuesSet.has(item.value)).length;\n    const hasSelected = totalSelected > 0;\n    const allSelected = totalSelected === option.options.length;\n    return {\n      selected: hasSelected && allSelected,\n      indeterminate: hasSelected && !allSelected,\n    };\n  };\n\n  const getOptionProps = (option: DropdownOption, index: number) => {\n    const highlighted = option === highlightedOption;\n    const groupState = isGroup(option.option) ? getGroupState(option.option) : undefined;\n    const selected = __selectedOptions.indexOf(option) > -1 || !!groupState?.selected;\n    const nextOption = options[index + 1]?.option;\n    const isNextSelected =\n      !!nextOption && isGroup(nextOption)\n        ? getGroupState(nextOption).selected\n        : __selectedOptions.indexOf(options[index + 1]) > -1;\n\n    const optionProps: any = {\n      key: index,\n      option,\n      highlighted,\n      selected,\n      isNextSelected,\n      indeterminate: !!groupState?.indeterminate,\n      ['data-mouse-target']: isHighlightable(option) ? index : -1,\n      id: getOptionId(menuId, index),\n    };\n\n    return optionProps;\n  };\n\n  const prevOpen = usePrevious<boolean>(isOpen);\n  useEffect(() => {\n    // highlight the first selected option, when opening the Select component without filter input\n    // keep the focus in the filter input when opening, so that screenreader can recognize the combobox\n    if (isOpen && !prevOpen && hasSelectedOption && !hasFilter) {\n      if (openedWithKeyboard) {\n        highlightOptionWithKeyboard(__selectedOptions[0]);\n      } else {\n        setHighlightedIndexWithMouse(options.indexOf(__selectedOptions[0]), true);\n      }\n    }\n  }, [\n    isOpen,\n    __selectedOptions,\n    hasSelectedOption,\n    setHighlightedIndexWithMouse,\n    highlightOptionWithKeyboard,\n    openedWithKeyboard,\n    options,\n    prevOpen,\n    hasFilter,\n  ]);\n\n  useEffect(() => {\n    if (isOpen) {\n      // dropdown-fit calculations ensure that the dropdown will fit inside the current\n      // viewport, so prevent the browser from trying to scroll it into view (e.g. if\n      // scroll-padding-top is set on a parent)\n      activeRef.current?.focus({ preventScroll: true });\n    }\n  }, [isOpen, activeRef]);\n\n  useForwardFocus(externalRef, triggerRef as React.RefObject<HTMLElement>);\n  const highlightedGroupSelected =\n    !!highlightedOption && isGroup(highlightedOption.option) && getGroupState(highlightedOption.option).selected;\n  const announceSelected =\n    !!highlightedOption && (__selectedOptions.indexOf(highlightedOption) > -1 || highlightedGroupSelected);\n\n  return {\n    isOpen,\n    highlightedOption,\n    highlightedIndex,\n    highlightType,\n    getTriggerProps,\n    getDropdownProps,\n    getMenuProps,\n    getFilterProps,\n    getOptionProps,\n    highlightOption: highlightOptionWithKeyboard,\n    selectOption,\n    announceSelected,\n    dialogId,\n  };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef } from 'react';\n\nimport {\n  filterOptions,\n  isInteractive,\n  isGroupInteractive,\n  isGroup,\n} from '../../internal/components/option/utils/filter-options';\nimport type { DropdownOption, OptionDefinition, OptionGroup } from '../../internal/components/option/interfaces';\nimport { useDebounceCallback } from '../../internal/hooks/use-debounce-callback';\n\nexport const isRepeatedChar = (str: string) => str.split('').every(c => c === str[0]);\n\ninterface UseNativeSearchProps {\n  isEnabled: boolean;\n  options: ReadonlyArray<DropdownOption>;\n  highlightOption: (option: DropdownOption) => void;\n  highlightedOption: OptionDefinition | undefined | null;\n  useInteractiveGroups?: boolean;\n}\n\nfunction findMatchingOption(\n  options: ReadonlyArray<DropdownOption>,\n  searchText: string,\n  currentHighlight: OptionDefinition | OptionGroup | undefined | null,\n  useInteractiveGroups?: boolean\n) {\n  const interactivityCheck = useInteractiveGroups ? isGroupInteractive : isInteractive;\n  const filter = (searchText: string) =>\n    filterOptions(options, searchText, true).filter(option => interactivityCheck(option));\n  const matchingOptions = filter(searchText);\n\n  if (matchingOptions.length === 1) {\n    return matchingOptions[0];\n  }\n\n  // Hit the same char over and over, we assume they want to cycle through\n  if (currentHighlight && searchText.length > 1 && isRepeatedChar(searchText)) {\n    const matchingOptions = filter(searchText[0]);\n\n    if (matchingOptions.length > 0) {\n      //handling OptionGroups when useInteractiveGroups is set\n      let active: number = isGroup(currentHighlight)\n        ? matchingOptions.map(({ option }) => option).indexOf(currentHighlight)\n        : matchingOptions\n            .map(({ option }) => (option as OptionDefinition).value)\n            .indexOf((currentHighlight as OptionDefinition).value);\n\n      // Pick the next thing (if something with this prefix wasn't selected\n      // we'll end up with the first option)\n      active += 1;\n      active = active % matchingOptions.length;\n      return matchingOptions[active];\n    }\n  }\n\n  // We have multiple things that start with this prefix.  Based on the\n  // behavior of native select, this is considered after the repeated case\n  if (matchingOptions.length > 0) {\n    return matchingOptions[0];\n  }\n  return null;\n}\n\nexport function useNativeSearch({\n  isEnabled,\n  options,\n  highlightOption,\n  highlightedOption,\n  useInteractiveGroups,\n}: UseNativeSearchProps) {\n  const value = useRef('');\n\n  const delayedResetValue = useDebounceCallback(() => (value.current = ''), 500);\n\n  return (event: React.KeyboardEvent) => {\n    if (!isEnabled) {\n      return;\n    }\n\n    const { key } = event;\n\n    if (!key || key.length !== 1) {\n      return;\n    }\n\n    delayedResetValue();\n    const newValue = value.current + key;\n    value.current = newValue;\n\n    const nextHighlight = findMatchingOption(options, newValue, highlightedOption, useInteractiveGroups);\n    if (nextHighlight) {\n      highlightOption(nextHighlight);\n    }\n  };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { OptionDefinition, OptionGroup } from './interfaces';\n\nfunction defaultOptionDescription(option: OptionDefinition, parentGroup: OptionGroup | undefined) {\n  return [\n    parentGroup && parentGroup.label,\n    option.__labelPrefix,\n    option.label || option.value,\n    option.description,\n    option.labelTag,\n  ]\n    .concat(option.tags)\n    .filter(el => !!el)\n    .join(' ');\n}\n\nexport default defaultOptionDescription;\n","\n    import './styles.scoped.css';\n    export default {\n  \"placeholder\": \"awsui_placeholder_dwuol_k04db_97\",\n  \"item\": \"awsui_item_dwuol_k04db_102\",\n  \"checkbox\": \"awsui_checkbox_dwuol_k04db_106\",\n  \"filter\": \"awsui_filter_dwuol_k04db_115\",\n  \"trigger\": \"awsui_trigger_dwuol_k04db_120\",\n  \"layout-strut\": \"awsui_layout-strut_dwuol_k04db_126\",\n  \"list-bottom\": \"awsui_list-bottom_dwuol_k04db_132\",\n  \"selected-icon\": \"awsui_selected-icon_dwuol_k04db_136\",\n  \"show-label-tag\": \"awsui_show-label-tag_dwuol_k04db_140\",\n  \"inline-token-trigger\": \"awsui_inline-token-trigger_dwuol_k04db_144\",\n  \"inline-token-list\": \"awsui_inline-token-list_dwuol_k04db_151\",\n  \"inline-token\": \"awsui_inline-token_dwuol_k04db_144\",\n  \"visual-refresh\": \"awsui_visual-refresh_dwuol_k04db_181\",\n  \"inline-token-hidden-placeholder\": \"awsui_inline-token-hidden-placeholder_dwuol_k04db_188\",\n  \"inline-token-counter\": \"awsui_inline-token-counter_dwuol_k04db_194\",\n  \"inline-token-trigger--disabled\": \"awsui_inline-token-trigger--disabled_dwuol_k04db_198\"\n};\n  ","\n    import './styles.scoped.css';\n    export default {\n  \"option\": \"awsui_option_1p2cx_1lo2r_101\",\n  \"disabled\": \"awsui_disabled_1p2cx_1lo2r_141\",\n  \"parent\": \"awsui_parent_1p2cx_1lo2r_144\",\n  \"highlighted\": \"awsui_highlighted_1p2cx_1lo2r_147\",\n  \"content\": \"awsui_content_1p2cx_1lo2r_151\",\n  \"label-content\": \"awsui_label-content_1p2cx_1lo2r_158\",\n  \"label\": \"awsui_label_1p2cx_1lo2r_158\",\n  \"tag\": \"awsui_tag_1p2cx_1lo2r_165\",\n  \"label-tag\": \"awsui_label-tag_1p2cx_1lo2r_166\",\n  \"label-prefix\": \"awsui_label-prefix_1p2cx_1lo2r_176\",\n  \"tags\": \"awsui_tags_1p2cx_1lo2r_189\",\n  \"description\": \"awsui_description_1p2cx_1lo2r_190\",\n  \"selected\": \"awsui_selected_1p2cx_1lo2r_201\",\n  \"icon\": \"awsui_icon_1p2cx_1lo2r_215\",\n  \"icon-size-big\": \"awsui_icon-size-big_1p2cx_1lo2r_222\",\n  \"filtering-match-highlight\": \"awsui_filtering-match-highlight_1p2cx_1lo2r_226\",\n  \"trigger-variant\": \"awsui_trigger-variant_1p2cx_1lo2r_241\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport styles from './styles.css.js';\n\nconst splitOnFiltering = (str: string, highlightText: string) => {\n  // We match by creating a regex using user-provided strings, so we skip\n  // highlighting if the generated regex would be too memory intensive.\n  if (highlightText.length > 100000) {\n    return { noMatches: [str], matches: null };\n  }\n\n  // Filtering needs to be case insensitive\n  const filteringPattern = highlightText.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, '\\\\$&');\n  const regexp = new RegExp(filteringPattern, 'gi');\n  const noMatches = str.split(regexp);\n  const matches = str.match(regexp);\n\n  return { noMatches, matches };\n};\n\nexport interface HighlightMatchProps {\n  str?: string;\n  highlightText?: string;\n}\n\nconst Highlight = ({ str }: HighlightMatchProps) =>\n  str ? <span className={styles['filtering-match-highlight']}>{str}</span> : null;\n\nexport default function HighlightMatch({ str, highlightText }: HighlightMatchProps) {\n  if (!str || !highlightText) {\n    return <span>{str}</span>;\n  }\n\n  if (str === highlightText) {\n    return <Highlight str={str} />;\n  }\n\n  const { noMatches, matches } = splitOnFiltering(str, highlightText);\n\n  const highlighted: (string | JSX.Element)[] = [];\n\n  noMatches.forEach((noMatch, idx) => {\n    highlighted.push(<span key={`noMatch-${idx}`}>{noMatch}</span>);\n\n    if (matches && idx < matches.length) {\n      highlighted.push(<Highlight key={`match-${idx}`} str={matches[idx]} />);\n    }\n  });\n\n  return <span>{highlighted}</span>;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport styles from './styles.css.js';\nimport clsx from 'clsx';\nimport React from 'react';\nimport { IconProps } from '../../../icon/interfaces';\nimport InternalIcon from '../../../icon/internal';\nimport HighlightMatch from './highlight-match';\n\ninterface LabelProps {\n  label?: string;\n  prefix?: string;\n  highlightText?: string;\n  triggerVariant: boolean;\n}\nexport const Label = ({ label, prefix, highlightText, triggerVariant }: LabelProps) => (\n  <span className={clsx(styles.label, triggerVariant && styles['trigger-variant'])}>\n    {prefix && (\n      <span className={clsx(styles['label-prefix'], triggerVariant && styles['trigger-variant'])}>{prefix} </span>\n    )}\n    <HighlightMatch str={label} highlightText={highlightText} />\n  </span>\n);\n\ninterface LabelTagProps {\n  labelTag?: string;\n  highlightText?: string;\n  triggerVariant: boolean;\n}\nexport const LabelTag = ({ labelTag, highlightText, triggerVariant }: LabelTagProps) =>\n  labelTag ? (\n    <span className={clsx(styles['label-tag'], triggerVariant && styles['trigger-variant'])}>\n      <HighlightMatch str={labelTag} highlightText={highlightText} />\n    </span>\n  ) : null;\n\ninterface DescriptionProps {\n  description?: string;\n  highlightedOption: boolean;\n  highlightText?: string;\n  selectedOption: boolean;\n  triggerVariant: boolean;\n}\nexport const Description = ({\n  description,\n  highlightedOption,\n  highlightText,\n  selectedOption,\n  triggerVariant,\n}: DescriptionProps) =>\n  description ? (\n    <span\n      className={clsx(styles.description, {\n        [styles['trigger-variant']]: triggerVariant,\n        [styles.highlighted]: highlightedOption,\n        [styles.selected]: selectedOption,\n      })}\n    >\n      <HighlightMatch str={description} highlightText={highlightText} />\n    </span>\n  ) : null;\n\ninterface TagsProps {\n  tags?: ReadonlyArray<string>;\n  highlightedOption: boolean;\n  highlightText?: string;\n  selectedOption: boolean;\n  triggerVariant: boolean;\n}\nexport const Tags = ({ tags, highlightedOption, highlightText, selectedOption, triggerVariant }: TagsProps) =>\n  tags ? (\n    <span\n      className={clsx(styles.tags, {\n        [styles.highlighted]: highlightedOption,\n        [styles.selected]: selectedOption,\n      })}\n    >\n      {tags.map((tag, idx) => (\n        <span key={idx} className={clsx(styles.tag, triggerVariant && styles['trigger-variant'])}>\n          <HighlightMatch str={tag} highlightText={highlightText} />\n        </span>\n      ))}\n    </span>\n  ) : null;\n\ninterface FilteringTagProps {\n  filteringTags?: ReadonlyArray<string>;\n  highlightedOption: boolean;\n  highlightText?: string;\n  selectedOption: boolean;\n  triggerVariant: boolean;\n}\nexport const FilteringTags = ({\n  filteringTags,\n  highlightedOption,\n  highlightText,\n  selectedOption,\n  triggerVariant,\n}: FilteringTagProps) => {\n  if (!highlightText || !filteringTags) {\n    return null;\n  }\n\n  const searchElement = highlightText.toLowerCase();\n\n  return (\n    <span\n      className={clsx(styles.tags, {\n        [styles.highlighted]: highlightedOption,\n        [styles.selected]: selectedOption,\n      })}\n    >\n      {filteringTags.map((filteringTag, key) => {\n        const match = filteringTag.toLowerCase().indexOf(searchElement) !== -1;\n        if (match) {\n          return (\n            <span\n              className={clsx(styles.tag, triggerVariant && styles['trigger-variant'])}\n              key={key}\n              aria-disabled={true}\n            >\n              <HighlightMatch str={filteringTag} highlightText={highlightText} />\n            </span>\n          );\n        }\n        return null;\n      })}\n    </span>\n  );\n};\n\nexport const OptionIcon = (props: IconProps) => {\n  if (!props.name && !props.url && !props.svg) {\n    return null;\n  }\n\n  return (\n    <span className={clsx(styles.icon, props.size === 'big' && [styles[`icon-size-big`]])}>\n      <InternalIcon {...props} />\n    </span>\n  );\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport { OptionProps } from './interfaces';\nimport { Label, LabelTag, Description, Tags, FilteringTags, OptionIcon } from './option-parts';\nimport { getBaseProps } from '../../base-component';\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\nimport { isDevelopment } from '../../is-development';\n\nexport { OptionProps };\n\nfunction validateStringValue(value: string | undefined, propertyName: string) {\n  if (typeof value !== 'undefined' && typeof value !== 'string') {\n    warnOnce(\n      'DropdownOption',\n      `This component only supports string values, but \"option.${propertyName}\" has ${typeof value} type. The component may work incorrectly.`\n    );\n  }\n}\n\nconst Option = ({\n  option,\n  highlightText,\n  triggerVariant = false,\n  isGroupOption = false,\n  isGenericGroup = true,\n  highlightedOption = false,\n  selectedOption = false,\n  ...restProps\n}: OptionProps) => {\n  if (!option) {\n    return null;\n  }\n  const { disabled } = option;\n  const baseProps = getBaseProps(restProps);\n\n  if (isDevelopment) {\n    validateStringValue(option.label, 'label');\n    validateStringValue(option.description, 'description');\n    validateStringValue(option.labelTag, 'labelTag');\n    option.tags?.forEach((tag, index) => {\n      validateStringValue(tag, `tags[${index}]`);\n    });\n    option.filteringTags?.forEach((tag, index) => {\n      validateStringValue(tag, `filteringTags[${index}]`);\n    });\n  }\n\n  const className = clsx(\n    styles.option,\n    disabled && styles.disabled,\n    isGroupOption && styles.parent,\n    highlightedOption && styles.highlighted\n  );\n\n  const icon = option.__customIcon || (\n    <OptionIcon\n      name={option.iconName}\n      url={option.iconUrl}\n      svg={option.iconSvg}\n      alt={option.iconAlt}\n      size={option.description || option.tags ? 'big' : 'normal'}\n    />\n  );\n\n  // The option is conditionally assigned 'title' and 'aria-disabled' attributes to ensure it is viewed as a (generic) group  by assistive technology only when necessary.\n  // Omitting the props might be necessary if they are provided on the parent element to avoid nested groups.\n  // See https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/generic_role\n  const genericGroupProps = isGenericGroup\n    ? {\n        title: option.label ?? option.value,\n        'aria-disabled': disabled,\n      }\n    : undefined;\n\n  return (\n    <span data-value={option.value} className={className} lang={option.lang} {...genericGroupProps} {...baseProps}>\n      {icon}\n      <span className={styles.content}>\n        <span className={styles['label-content']}>\n          <Label\n            label={option.label ?? option.value}\n            prefix={option.__labelPrefix}\n            highlightText={highlightText}\n            triggerVariant={triggerVariant}\n          />\n          <LabelTag labelTag={option.labelTag} highlightText={highlightText} triggerVariant={triggerVariant} />\n        </span>\n        <Description\n          description={option.description}\n          highlightedOption={highlightedOption}\n          selectedOption={selectedOption}\n          highlightText={highlightText}\n          triggerVariant={triggerVariant}\n        />\n        <Tags\n          tags={option.tags}\n          highlightedOption={highlightedOption}\n          selectedOption={selectedOption}\n          highlightText={highlightText}\n          triggerVariant={triggerVariant}\n        />\n        <FilteringTags\n          filteringTags={option.filteringTags}\n          highlightedOption={highlightedOption}\n          selectedOption={selectedOption}\n          highlightText={highlightText}\n          triggerVariant={triggerVariant}\n        />\n      </span>\n    </span>\n  );\n};\n\nexport default Option;\n","\n    import './styles.scoped.css';\n    export default {\n  \"selectable-item\": \"awsui_selectable-item_15o6u_1nwbb_97\",\n  \"pad-bottom\": \"awsui_pad-bottom_15o6u_1nwbb_121\",\n  \"has-background\": \"awsui_has-background_15o6u_1nwbb_130\",\n  \"highlighted\": \"awsui_highlighted_15o6u_1nwbb_133\",\n  \"selected\": \"awsui_selected_15o6u_1nwbb_133\",\n  \"disabled\": \"awsui_disabled_15o6u_1nwbb_151\",\n  \"next-item-selected\": \"awsui_next-item-selected_15o6u_1nwbb_161\",\n  \"is-keyboard\": \"awsui_is-keyboard_15o6u_1nwbb_173\",\n  \"parent\": \"awsui_parent_15o6u_1nwbb_177\",\n  \"interactiveGroups\": \"awsui_interactiveGroups_15o6u_1nwbb_181\",\n  \"child\": \"awsui_child_15o6u_1nwbb_199\",\n  \"virtual\": \"awsui_virtual_15o6u_1nwbb_214\",\n  \"measure-strut\": \"awsui_measure-strut_15o6u_1nwbb_225\",\n  \"measure-strut-first\": \"awsui_measure-strut-first_15o6u_1nwbb_234\",\n  \"screenreader-content\": \"awsui_screenreader-content_15o6u_1nwbb_238\",\n  \"option-content\": \"awsui_option-content_15o6u_1nwbb_244\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef, useLayoutEffect } from 'react';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport { BaseComponentProps, getBaseProps } from '../../base-component';\nimport { HighlightType } from '../options-list/utils/use-highlight-option.js';\n\nexport type SelectableItemProps = BaseComponentProps & {\n  children: React.ReactNode;\n  selected?: boolean;\n  highlighted?: boolean;\n  disabled?: boolean;\n  hasBackground?: boolean;\n  isParent?: boolean;\n  isChild?: boolean;\n  virtualPosition?: number;\n  padBottom?: boolean;\n  isNextSelected?: boolean;\n  useInteractiveGroups?: boolean;\n  screenReaderContent?: string;\n  ariaPosinset?: number;\n  ariaSetsize?: number;\n  highlightType?: HighlightType['type'];\n} & ({ ariaSelected?: boolean; ariaChecked?: never } | { ariaSelected?: never; ariaChecked?: boolean | 'mixed' });\n\nconst SelectableItem = (\n  {\n    children: content,\n    ariaSelected,\n    ariaChecked,\n    selected,\n    highlighted,\n    disabled,\n    hasBackground,\n    isParent,\n    isChild,\n    virtualPosition,\n    padBottom,\n    isNextSelected,\n    useInteractiveGroups,\n    screenReaderContent,\n    ariaPosinset,\n    ariaSetsize,\n    highlightType,\n    ...restProps\n  }: SelectableItemProps,\n  ref: React.Ref<HTMLDivElement>\n) => {\n  const { className, ...rest } = getBaseProps(restProps);\n  const classNames = clsx(className, styles['selectable-item'], {\n    [styles.selected]: selected,\n    [styles.highlighted]: highlighted,\n    [styles['has-background']]: hasBackground,\n    [styles.parent]: isParent,\n    [styles.child]: isChild,\n    [styles['is-keyboard']]: highlightType === 'keyboard',\n    [styles.disabled]: disabled,\n    [styles.virtual]: virtualPosition !== undefined,\n    [styles['pad-bottom']]: padBottom,\n    [styles['next-item-selected']]: isNextSelected,\n    [styles.interactiveGroups]: useInteractiveGroups,\n  });\n\n  const contentRef = useRef<HTMLDivElement>(null);\n  const screenReaderContentRef = useRef<HTMLDivElement>(null);\n\n  useLayoutEffect(() => {\n    // the state of aria-hidden and announcement is not set back because NVDA+Firefox would announce\n    // the item which lost highlight\n    // set aria-hidden true when there is announcement content, so that screen reader still announce\n    // meaningful content when navigate with screen reader cursor\n    // imperatively update to avoid announcement made multiple times when content updates\n    if (highlighted && screenReaderContent) {\n      if (contentRef.current) {\n        contentRef.current.setAttribute('aria-hidden', 'true');\n      }\n      if (screenReaderContentRef.current) {\n        screenReaderContentRef.current.textContent = screenReaderContent;\n      }\n    }\n  }, [highlighted, screenReaderContent, contentRef, screenReaderContentRef]);\n\n  const style =\n    virtualPosition !== undefined\n      ? {\n          transform: `translateY(${virtualPosition}px)`,\n        }\n      : undefined;\n\n  const a11yProperties: Record<string, string | number | boolean | undefined> = {\n    'aria-disabled': disabled,\n  };\n\n  if (isParent && !useInteractiveGroups) {\n    a11yProperties['aria-hidden'] = true;\n  }\n\n  if (ariaSelected !== undefined) {\n    a11yProperties['aria-selected'] = ariaSelected;\n  }\n\n  // Safari+VO needs aria-checked for multi-selection. Otherwise it only announces selected option even though another option is highlighted.\n  if (ariaChecked !== undefined) {\n    a11yProperties['aria-checked'] = ariaChecked;\n  }\n\n  if (ariaPosinset && ariaSetsize) {\n    a11yProperties['aria-posinset'] = ariaPosinset;\n    a11yProperties['aria-setsize'] = ariaSetsize;\n  }\n\n  return (\n    <li role=\"option\" className={classNames} style={style} {...a11yProperties} {...rest}>\n      <div className={styles['option-content']} ref={contentRef}>\n        {content}\n      </div>\n      <div className={styles['measure-strut']} ref={ref} />\n      <div className={styles['screenreader-content']} ref={screenReaderContentRef}></div>\n    </li>\n  );\n};\n\nexport default React.forwardRef(SelectableItem);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport Option from '../../internal/components/option';\nimport SelectableItem from '../../internal/components/selectable-item';\nimport { getBaseProps } from '../../internal/base-component';\nimport { DropdownOption, OptionDefinition } from '../../internal/components/option/interfaces';\nimport CheckboxIcon from '../../internal/components/checkbox-icon';\nimport InternalIcon from '../../icon/internal.js';\nimport { HighlightType } from '../../internal/components/options-list/utils/use-highlight-option.js';\n\nexport interface ItemProps {\n  option: DropdownOption;\n  highlighted?: boolean;\n  selected?: boolean;\n  filteringValue?: string;\n  hasCheckbox?: boolean;\n  virtualPosition?: number;\n  padBottom?: boolean;\n  isNextSelected?: boolean;\n  screenReaderContent?: string;\n  ariaPosinset?: number;\n  ariaSetsize?: number;\n  highlightType?: HighlightType['type'];\n}\n\nconst Item = (\n  {\n    option,\n    highlighted,\n    selected,\n    filteringValue,\n    hasCheckbox,\n    virtualPosition,\n    padBottom,\n    isNextSelected,\n    screenReaderContent,\n    ariaPosinset,\n    ariaSetsize,\n    highlightType,\n    ...restProps\n  }: ItemProps,\n  ref: React.Ref<HTMLDivElement>\n) => {\n  const baseProps = getBaseProps(restProps);\n\n  const isParent = option.type === 'parent';\n  const isChild = option.type === 'child';\n  const wrappedOption: OptionDefinition = option.option;\n  const disabled = option.disabled || wrappedOption.disabled;\n\n  return (\n    <SelectableItem\n      ariaSelected={Boolean(selected)}\n      selected={selected}\n      isNextSelected={isNextSelected}\n      highlighted={highlighted}\n      disabled={option.disabled}\n      isParent={isParent}\n      isChild={isChild}\n      ref={ref}\n      virtualPosition={virtualPosition}\n      padBottom={padBottom}\n      screenReaderContent={screenReaderContent}\n      ariaPosinset={ariaPosinset}\n      ariaSetsize={ariaSetsize}\n      highlightType={highlightType}\n      {...baseProps}\n    >\n      <div className={clsx(styles.item, !isParent && wrappedOption.labelTag && styles['show-label-tag'])}>\n        {hasCheckbox && !isParent && (\n          <div className={styles.checkbox}>\n            <CheckboxIcon checked={selected || false} disabled={option.disabled} />\n          </div>\n        )}\n        {isParent ? (\n          <span>{wrappedOption.label || wrappedOption.value}</span>\n        ) : (\n          <Option\n            option={{ ...wrappedOption, disabled }}\n            highlightedOption={highlighted}\n            selectedOption={selected}\n            highlightText={filteringValue}\n          />\n        )}\n        {!hasCheckbox && !isParent && selected && (\n          <div className={styles['selected-icon']}>\n            <InternalIcon name=\"check\" />\n          </div>\n        )}\n      </div>\n    </SelectableItem>\n  );\n};\n\nexport default React.memo(React.forwardRef(Item));\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport Option from '../../internal/components/option';\nimport SelectableItem from '../../internal/components/selectable-item';\nimport { getBaseProps } from '../../internal/base-component';\nimport { OptionDefinition } from '../../internal/components/option/interfaces';\nimport CheckboxIcon from '../../internal/components/checkbox-icon';\nimport { ItemProps } from './item';\ninterface MultiselectItemProps extends ItemProps {\n  indeterminate?: boolean;\n}\n\nconst MultiSelectItem = (\n  {\n    option,\n    highlighted,\n    selected,\n    filteringValue,\n    hasCheckbox,\n    virtualPosition,\n    padBottom,\n    isNextSelected,\n    indeterminate,\n    screenReaderContent,\n    ariaPosinset,\n    ariaSetsize,\n    highlightType,\n    ...restProps\n  }: MultiselectItemProps,\n  ref: React.Ref<HTMLDivElement>\n) => {\n  const baseProps = getBaseProps(restProps);\n\n  const isParent = option.type === 'parent';\n  const isChild = option.type === 'child';\n  const wrappedOption: OptionDefinition = option.option;\n  const disabled = option.disabled || wrappedOption.disabled;\n  const className = clsx(styles.item, {\n    [styles.disabled]: disabled,\n  });\n\n  return (\n    <SelectableItem\n      ariaChecked={isParent && indeterminate ? 'mixed' : Boolean(selected)}\n      selected={selected}\n      isNextSelected={isNextSelected}\n      highlighted={highlighted}\n      disabled={disabled}\n      isParent={isParent}\n      isChild={isChild}\n      highlightType={highlightType}\n      ref={ref}\n      virtualPosition={virtualPosition}\n      padBottom={padBottom}\n      useInteractiveGroups={true}\n      screenReaderContent={screenReaderContent}\n      ariaPosinset={ariaPosinset}\n      ariaSetsize={ariaSetsize}\n      {...baseProps}\n    >\n      <div className={className}>\n        {hasCheckbox && (\n          <div className={styles.checkbox}>\n            <CheckboxIcon checked={selected} indeterminate={isParent && indeterminate} disabled={option.disabled} />\n          </div>\n        )}\n        <Option\n          option={{ ...wrappedOption, disabled }}\n          highlightedOption={highlighted}\n          selectedOption={selected}\n          highlightText={filteringValue}\n          isGroupOption={isParent}\n        />\n      </div>\n    </SelectableItem>\n  );\n};\n\nexport default React.memo(React.forwardRef(MultiSelectItem));\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DropdownOption } from '../../internal/components/option/interfaces';\nimport { getTestOptionIndexes } from '../../internal/components/options-list/utils/test-indexes';\n\ninterface ItemProps {\n  option: DropdownOption;\n  index: number;\n  getOptionProps: any;\n  filteringValue: string;\n  checkboxes: boolean;\n}\n\nexport const getItemProps = ({ option, index, getOptionProps, filteringValue, checkboxes = false }: ItemProps) => {\n  const optionProps = getOptionProps(option, index);\n  optionProps.filteringValue = filteringValue;\n  const { inGroupIndex, groupIndex, throughIndex } = getTestOptionIndexes(option) || {};\n  return {\n    ...optionProps,\n    hasCheckbox: checkboxes,\n    ['data-group-index']: groupIndex,\n    ['data-child-index']: inGroupIndex,\n    ['data-test-index']: throughIndex,\n  };\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport { VirtualItem } from '../../internal/vendor/react-virtual';\nimport Item from '../parts/item';\nimport MutliselectItem from '../parts/multiselect-item';\nimport { DropdownOption } from '../../internal/components/option/interfaces';\nimport { getItemProps } from './get-item-props';\nimport { HighlightType } from '../../internal/components/options-list/utils/use-highlight-option';\n\nexport interface RenderOptionProps {\n  options: ReadonlyArray<DropdownOption>;\n  getOptionProps: any;\n  filteringValue: string;\n  highlightType: HighlightType;\n  checkboxes?: boolean;\n  hasDropdownStatus?: boolean;\n  virtualItems?: VirtualItem[];\n  useInteractiveGroups?: boolean;\n  screenReaderContent?: string;\n  ariaSetsize?: number;\n}\n\nexport const renderOptions = ({\n  options,\n  getOptionProps,\n  filteringValue,\n  highlightType,\n  checkboxes = false,\n  hasDropdownStatus,\n  virtualItems,\n  useInteractiveGroups,\n  screenReaderContent,\n  ariaSetsize,\n}: RenderOptionProps) => {\n  return options.map((option, index) => {\n    const virtualItem = virtualItems && virtualItems[index];\n    const globalIndex = virtualItem ? virtualItem.index : index;\n    const props = getItemProps({\n      option,\n      index: globalIndex,\n      getOptionProps,\n      filteringValue,\n      checkboxes,\n    });\n\n    const isLastItem = index === options.length - 1;\n    const padBottom = !hasDropdownStatus && isLastItem;\n    const ListItem = useInteractiveGroups ? MutliselectItem : Item;\n\n    return (\n      <ListItem\n        key={globalIndex}\n        {...props}\n        virtualPosition={virtualItem && virtualItem.start}\n        ref={virtualItem && virtualItem.measureRef}\n        padBottom={padBottom}\n        screenReaderContent={screenReaderContent}\n        ariaPosinset={globalIndex + 1}\n        ariaSetsize={ariaSetsize}\n        highlightType={highlightType.type}\n      />\n    );\n  });\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport OptionsList from '../../internal/components/options-list';\nimport React, { forwardRef, useImperativeHandle } from 'react';\nimport { renderOptions } from '../utils/render-options';\nimport { MenuProps, GetOptionProps } from '../utils/use-select';\nimport { DropdownOption } from '../../internal/components/option/interfaces';\nimport { scrollElementIntoView } from '../../internal/utils/scrollable-containers';\n\nimport styles from './styles.css.js';\nimport { HighlightType } from '../../internal/components/options-list/utils/use-highlight-option';\n\nexport interface SelectListProps {\n  menuProps: MenuProps;\n  getOptionProps: GetOptionProps;\n  filteredOptions: ReadonlyArray<DropdownOption>;\n  filteringValue: string;\n  highlightType: HighlightType;\n  checkboxes?: boolean;\n  hasDropdownStatus?: boolean;\n  listBottom?: React.ReactNode;\n  useInteractiveGroups?: boolean;\n  screenReaderContent?: string;\n}\n\nexport namespace SelectListProps {\n  export type SelectListRef = (index: number) => void;\n}\n\nconst PlainList = (\n  {\n    menuProps,\n    getOptionProps,\n    filteredOptions,\n    filteringValue,\n    highlightType,\n    checkboxes,\n    hasDropdownStatus,\n    listBottom,\n    useInteractiveGroups,\n    screenReaderContent,\n  }: SelectListProps,\n  ref: React.Ref<SelectListProps.SelectListRef>\n) => {\n  const menuRef = menuProps.ref;\n  useImperativeHandle(\n    ref,\n    () => (index: number) => {\n      const item = menuRef.current?.querySelector<HTMLElement>(`[data-mouse-target=\"${index}\"]`);\n      if (highlightType.moveFocus && item) {\n        scrollElementIntoView(item);\n      }\n    },\n    [highlightType, menuRef]\n  );\n\n  return (\n    <OptionsList {...menuProps}>\n      {renderOptions({\n        options: filteredOptions,\n        getOptionProps,\n        filteringValue,\n        highlightType,\n        checkboxes,\n        hasDropdownStatus,\n        useInteractiveGroups,\n        screenReaderContent,\n      })}\n      {listBottom ? (\n        <li role=\"option\" className={styles['list-bottom']}>\n          {listBottom}\n        </li>\n      ) : null}\n    </OptionsList>\n  );\n};\n\nexport default forwardRef(PlainList);\n","/**\n * Name: react-virtual\n * Version: 2.10.4\n * License: MIT\n * Private: false\n * Description: Hooks for virtualizing scrollable elements in React\n * Repository: undefined\n * Homepage: https://github.com/tannerlinsley/react-virtual#readme\n * Author: tannerlinsley\n * License Copyright:\n * ===\n *\n * MIT License\n *\n * Copyright (c) 2019 Tanner Linsley\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport React from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar props = ['bottom', 'height', 'left', 'right', 'top', 'width'];\n\nvar rectChanged = function rectChanged(a, b) {\n  if (a === void 0) {\n    a = {};\n  }\n\n  if (b === void 0) {\n    b = {};\n  }\n\n  return props.some(function (prop) {\n    return a[prop] !== b[prop];\n  });\n};\n\nvar observedNodes = /*#__PURE__*/new Map();\nvar rafId;\n\nvar run = function run() {\n  var changedStates = [];\n  observedNodes.forEach(function (state, node) {\n    var newRect = node.getBoundingClientRect();\n\n    if (rectChanged(newRect, state.rect)) {\n      state.rect = newRect;\n      changedStates.push(state);\n    }\n  });\n  changedStates.forEach(function (state) {\n    state.callbacks.forEach(function (cb) {\n      return cb(state.rect);\n    });\n  });\n  rafId = window.requestAnimationFrame(run);\n};\n\nfunction observeRect(node, cb) {\n  return {\n    observe: function observe() {\n      var wasEmpty = observedNodes.size === 0;\n\n      if (observedNodes.has(node)) {\n        observedNodes.get(node).callbacks.push(cb);\n      } else {\n        observedNodes.set(node, {\n          rect: undefined,\n          hasRectChanged: false,\n          callbacks: [cb]\n        });\n      }\n\n      if (wasEmpty) run();\n    },\n    unobserve: function unobserve() {\n      var state = observedNodes.get(node);\n\n      if (state) {\n        // Remove the callback\n        var index = state.callbacks.indexOf(cb);\n        if (index >= 0) state.callbacks.splice(index, 1); // Remove the node reference\n\n        if (!state.callbacks.length) observedNodes[\"delete\"](node); // Stop the loop\n\n        if (!observedNodes.size) cancelAnimationFrame(rafId);\n      }\n    }\n  };\n}\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n\nfunction useRect(nodeRef, initialRect) {\n  if (initialRect === void 0) {\n    initialRect = {\n      width: 0,\n      height: 0\n    };\n  }\n\n  var _React$useState = React.useState(nodeRef.current),\n      element = _React$useState[0],\n      setElement = _React$useState[1];\n\n  var _React$useReducer = React.useReducer(rectReducer, initialRect),\n      rect = _React$useReducer[0],\n      dispatch = _React$useReducer[1];\n\n  var initialRectSet = React.useRef(false);\n  useIsomorphicLayoutEffect(function () {\n    if (nodeRef.current !== element) {\n      setElement(nodeRef.current);\n    }\n  });\n  useIsomorphicLayoutEffect(function () {\n    if (element && !initialRectSet.current) {\n      initialRectSet.current = true;\n\n      var _rect = element.getBoundingClientRect();\n\n      dispatch({\n        rect: _rect\n      });\n    }\n  }, [element]);\n  React.useEffect(function () {\n    if (!element) {\n      return;\n    }\n\n    var observer = observeRect(element, function (rect) {\n      dispatch({\n        rect: rect\n      });\n    });\n    observer.observe();\n    return function () {\n      observer.unobserve();\n    };\n  }, [element]);\n  return rect;\n}\n\nfunction rectReducer(state, action) {\n  var rect = action.rect;\n\n  if (state.height !== rect.height || state.width !== rect.width) {\n    return rect;\n  }\n\n  return state;\n}\n\nvar defaultEstimateSize = function defaultEstimateSize() {\n  return 50;\n};\n\nvar defaultKeyExtractor = function defaultKeyExtractor(index) {\n  return index;\n};\n\nvar defaultMeasureSize = function defaultMeasureSize(el, horizontal) {\n  var key = horizontal ? 'offsetWidth' : 'offsetHeight';\n  return el[key];\n};\n\nvar defaultRangeExtractor = function defaultRangeExtractor(range) {\n  var start = Math.max(range.start - range.overscan, 0);\n  var end = Math.min(range.end + range.overscan, range.size - 1);\n  var arr = [];\n\n  for (var i = start; i <= end; i++) {\n    arr.push(i);\n  }\n\n  return arr;\n};\nfunction useVirtual(_ref) {\n  var _measurements;\n\n  var _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 0 : _ref$size,\n      _ref$estimateSize = _ref.estimateSize,\n      estimateSize = _ref$estimateSize === void 0 ? defaultEstimateSize : _ref$estimateSize,\n      _ref$overscan = _ref.overscan,\n      overscan = _ref$overscan === void 0 ? 1 : _ref$overscan,\n      _ref$paddingStart = _ref.paddingStart,\n      paddingStart = _ref$paddingStart === void 0 ? 0 : _ref$paddingStart,\n      _ref$paddingEnd = _ref.paddingEnd,\n      paddingEnd = _ref$paddingEnd === void 0 ? 0 : _ref$paddingEnd,\n      parentRef = _ref.parentRef,\n      horizontal = _ref.horizontal,\n      scrollToFn = _ref.scrollToFn,\n      useObserver = _ref.useObserver,\n      initialRect = _ref.initialRect,\n      onScrollElement = _ref.onScrollElement,\n      scrollOffsetFn = _ref.scrollOffsetFn,\n      _ref$keyExtractor = _ref.keyExtractor,\n      keyExtractor = _ref$keyExtractor === void 0 ? defaultKeyExtractor : _ref$keyExtractor,\n      _ref$measureSize = _ref.measureSize,\n      measureSize = _ref$measureSize === void 0 ? defaultMeasureSize : _ref$measureSize,\n      _ref$rangeExtractor = _ref.rangeExtractor,\n      rangeExtractor = _ref$rangeExtractor === void 0 ? defaultRangeExtractor : _ref$rangeExtractor;\n  var sizeKey = horizontal ? 'width' : 'height';\n  var scrollKey = horizontal ? 'scrollLeft' : 'scrollTop';\n  var latestRef = React.useRef({\n    scrollOffset: 0,\n    measurements: []\n  });\n\n  var _React$useState = React.useState(0),\n      scrollOffset = _React$useState[0],\n      setScrollOffset = _React$useState[1];\n\n  latestRef.current.scrollOffset = scrollOffset;\n  var useMeasureParent = useObserver || useRect;\n\n  var _useMeasureParent = useMeasureParent(parentRef, initialRect),\n      outerSize = _useMeasureParent[sizeKey];\n\n  latestRef.current.outerSize = outerSize;\n  var defaultScrollToFn = React.useCallback(function (offset) {\n    if (parentRef.current) {\n      parentRef.current[scrollKey] = offset;\n    }\n  }, [parentRef, scrollKey]);\n  var resolvedScrollToFn = scrollToFn || defaultScrollToFn;\n  scrollToFn = React.useCallback(function (offset) {\n    resolvedScrollToFn(offset, defaultScrollToFn);\n  }, [defaultScrollToFn, resolvedScrollToFn]);\n\n  var _React$useState2 = React.useState({}),\n      measuredCache = _React$useState2[0],\n      setMeasuredCache = _React$useState2[1];\n\n  var measure = React.useCallback(function () {\n    return setMeasuredCache({});\n  }, []);\n  var pendingMeasuredCacheIndexesRef = React.useRef([]);\n  var measurements = React.useMemo(function () {\n    var min = pendingMeasuredCacheIndexesRef.current.length > 0 ? Math.min.apply(Math, pendingMeasuredCacheIndexesRef.current) : 0;\n    pendingMeasuredCacheIndexesRef.current = [];\n    var measurements = latestRef.current.measurements.slice(0, min);\n\n    for (var i = min; i < size; i++) {\n      var key = keyExtractor(i);\n      var measuredSize = measuredCache[key];\n\n      var _start = measurements[i - 1] ? measurements[i - 1].end : paddingStart;\n\n      var _size = typeof measuredSize === 'number' ? measuredSize : estimateSize(i);\n\n      var _end = _start + _size;\n\n      measurements[i] = {\n        index: i,\n        start: _start,\n        size: _size,\n        end: _end,\n        key: key\n      };\n    }\n\n    return measurements;\n  }, [estimateSize, measuredCache, paddingStart, size, keyExtractor]);\n  var totalSize = (((_measurements = measurements[size - 1]) == null ? void 0 : _measurements.end) || paddingStart) + paddingEnd;\n  latestRef.current.measurements = measurements;\n  latestRef.current.totalSize = totalSize;\n  var element = onScrollElement ? onScrollElement.current : parentRef.current;\n  var scrollOffsetFnRef = React.useRef(scrollOffsetFn);\n  scrollOffsetFnRef.current = scrollOffsetFn;\n  useIsomorphicLayoutEffect(function () {\n    if (!element) {\n      setScrollOffset(0);\n      return;\n    }\n\n    var onScroll = function onScroll(event) {\n      var offset = scrollOffsetFnRef.current ? scrollOffsetFnRef.current(event) : element[scrollKey];\n      setScrollOffset(offset);\n    };\n\n    onScroll();\n    element.addEventListener('scroll', onScroll, {\n      capture: false,\n      passive: true\n    });\n    return function () {\n      element.removeEventListener('scroll', onScroll);\n    };\n  }, [element, scrollKey]);\n\n  var _calculateRange = calculateRange(latestRef.current),\n      start = _calculateRange.start,\n      end = _calculateRange.end;\n\n  var indexes = React.useMemo(function () {\n    return rangeExtractor({\n      start: start,\n      end: end,\n      overscan: overscan,\n      size: measurements.length\n    });\n  }, [start, end, overscan, measurements.length, rangeExtractor]);\n  var measureSizeRef = React.useRef(measureSize);\n  measureSizeRef.current = measureSize;\n  var virtualItems = React.useMemo(function () {\n    var virtualItems = [];\n\n    var _loop = function _loop(k, len) {\n      var i = indexes[k];\n      var measurement = measurements[i];\n\n      var item = _extends(_extends({}, measurement), {}, {\n        measureRef: function measureRef(el) {\n          if (el) {\n            var measuredSize = measureSizeRef.current(el, horizontal);\n\n            if (measuredSize !== item.size) {\n              var _scrollOffset = latestRef.current.scrollOffset;\n\n              if (item.start < _scrollOffset) {\n                defaultScrollToFn(_scrollOffset + (measuredSize - item.size));\n              }\n\n              pendingMeasuredCacheIndexesRef.current.push(i);\n              setMeasuredCache(function (old) {\n                var _extends2;\n\n                return _extends(_extends({}, old), {}, (_extends2 = {}, _extends2[item.key] = measuredSize, _extends2));\n              });\n            }\n          }\n        }\n      });\n\n      virtualItems.push(item);\n    };\n\n    for (var k = 0, len = indexes.length; k < len; k++) {\n      _loop(k);\n    }\n\n    return virtualItems;\n  }, [indexes, defaultScrollToFn, horizontal, measurements]);\n  var mountedRef = React.useRef(false);\n  useIsomorphicLayoutEffect(function () {\n    if (mountedRef.current) {\n      setMeasuredCache({});\n    }\n\n    mountedRef.current = true;\n  }, [estimateSize]);\n  var scrollToOffset = React.useCallback(function (toOffset, _temp) {\n    var _ref2 = _temp === void 0 ? {} : _temp,\n        _ref2$align = _ref2.align,\n        align = _ref2$align === void 0 ? 'start' : _ref2$align;\n\n    var _latestRef$current = latestRef.current,\n        scrollOffset = _latestRef$current.scrollOffset,\n        outerSize = _latestRef$current.outerSize;\n\n    if (align === 'auto') {\n      if (toOffset <= scrollOffset) {\n        align = 'start';\n      } else if (toOffset >= scrollOffset + outerSize) {\n        align = 'end';\n      } else {\n        align = 'start';\n      }\n    }\n\n    if (align === 'start') {\n      scrollToFn(toOffset);\n    } else if (align === 'end') {\n      scrollToFn(toOffset - outerSize);\n    } else if (align === 'center') {\n      scrollToFn(toOffset - outerSize / 2);\n    }\n  }, [scrollToFn]);\n  var tryScrollToIndex = React.useCallback(function (index, _temp2) {\n    var _ref3 = _temp2 === void 0 ? {} : _temp2,\n        _ref3$align = _ref3.align,\n        align = _ref3$align === void 0 ? 'auto' : _ref3$align,\n        rest = _objectWithoutPropertiesLoose(_ref3, [\"align\"]);\n\n    var _latestRef$current2 = latestRef.current,\n        measurements = _latestRef$current2.measurements,\n        scrollOffset = _latestRef$current2.scrollOffset,\n        outerSize = _latestRef$current2.outerSize;\n    var measurement = measurements[Math.max(0, Math.min(index, size - 1))];\n\n    if (!measurement) {\n      return;\n    }\n\n    if (align === 'auto') {\n      if (measurement.end >= scrollOffset + outerSize) {\n        align = 'end';\n      } else if (measurement.start <= scrollOffset) {\n        align = 'start';\n      } else {\n        return;\n      }\n    }\n\n    var toOffset = align === 'center' ? measurement.start + measurement.size / 2 : align === 'end' ? measurement.end : measurement.start;\n    scrollToOffset(toOffset, _extends({\n      align: align\n    }, rest));\n  }, [scrollToOffset, size]);\n  var scrollToIndex = React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // We do a double request here because of\n    // dynamic sizes which can cause offset shift\n    // and end up in the wrong spot. Unfortunately,\n    // we can't know about those dynamic sizes until\n    // we try and render them. So double down!\n    tryScrollToIndex.apply(void 0, args);\n    requestAnimationFrame(function () {\n      tryScrollToIndex.apply(void 0, args);\n    });\n  }, [tryScrollToIndex]);\n  return {\n    virtualItems: virtualItems,\n    totalSize: totalSize,\n    scrollToOffset: scrollToOffset,\n    scrollToIndex: scrollToIndex,\n    measure: measure\n  };\n}\n\nvar findNearestBinarySearch = function findNearestBinarySearch(low, high, getCurrentValue, value) {\n  while (low <= high) {\n    var middle = (low + high) / 2 | 0;\n    var currentValue = getCurrentValue(middle);\n\n    if (currentValue < value) {\n      low = middle + 1;\n    } else if (currentValue > value) {\n      high = middle - 1;\n    } else {\n      return middle;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nfunction calculateRange(_ref4) {\n  var measurements = _ref4.measurements,\n      outerSize = _ref4.outerSize,\n      scrollOffset = _ref4.scrollOffset;\n  var size = measurements.length - 1;\n\n  var getOffset = function getOffset(index) {\n    return measurements[index].start;\n  };\n\n  var start = findNearestBinarySearch(0, size, getOffset, scrollOffset);\n  var end = start;\n\n  while (end < size && measurements[end].end < scrollOffset + outerSize) {\n    end++;\n  }\n\n  return {\n    start: start,\n    end: end\n  };\n}\n\nexport { useVirtual };\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useMergeRefs } from '../../internal/hooks/use-merge-refs';\nimport React, { forwardRef, useCallback, useImperativeHandle, useRef } from 'react';\nimport OptionsList from '../../internal/components/options-list';\nimport { renderOptions } from '../utils/render-options';\nimport { SelectListProps } from './plain-list';\n\nimport styles from './styles.css.js';\nimport { useVirtual } from '../../internal/hooks/use-virtual';\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\n\nconst VirtualList = (props: SelectListProps, ref: React.Ref<SelectListProps.SelectListRef>) => {\n  return props.menuProps.open ? <VirtualListOpen {...props} ref={ref} /> : <VirtualListClosed {...props} ref={ref} />;\n};\n\nconst VirtualListOpen = forwardRef(\n  (\n    {\n      menuProps,\n      getOptionProps,\n      filteredOptions,\n      filteringValue,\n      highlightType,\n      checkboxes,\n      hasDropdownStatus,\n      listBottom,\n      useInteractiveGroups,\n      screenReaderContent,\n    }: SelectListProps,\n    ref: React.Ref<SelectListProps.SelectListRef>\n  ) => {\n    // update component, when it gets wider or narrower to reposition items\n    const [width, menuMeasureRef] = useContainerQuery(rect => rect.contentBoxWidth, []);\n    const menuRefObject = useRef(null);\n    const menuRef = useMergeRefs(menuMeasureRef, menuRefObject, menuProps.ref);\n\n    const { virtualItems, totalSize, scrollToIndex } = useVirtual({\n      items: filteredOptions,\n      parentRef: menuRefObject,\n      // estimateSize is a dependency of measurements memo. We update it to force full recalculation\n      // when the height of any option could have changed:\n      // 1: because the component got resized (width property got updated)\n      // 2: because the option changed its content (filteringValue property controls the highlight and the visibility of hidden tags)\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      estimateSize: useCallback(() => 31, [width, filteringValue]),\n    });\n\n    useImperativeHandle(\n      ref,\n      () => (index: number) => {\n        if (highlightType.moveFocus) {\n          scrollToIndex(index);\n        }\n      },\n      [highlightType, scrollToIndex]\n    );\n    const finalOptions = renderOptions({\n      options: virtualItems.map(({ index }) => filteredOptions[index]),\n      getOptionProps,\n      filteringValue,\n      highlightType,\n      checkboxes,\n      hasDropdownStatus,\n      virtualItems,\n      useInteractiveGroups,\n      screenReaderContent,\n      ariaSetsize: filteredOptions.length,\n    });\n\n    return (\n      <OptionsList {...menuProps} ref={menuRef}>\n        <div aria-hidden=\"true\" key=\"total-size\" className={styles['layout-strut']} style={{ height: totalSize }} />\n        {finalOptions}\n        {listBottom ? (\n          <li role=\"option\" className={styles['list-bottom']}>\n            {listBottom}\n          </li>\n        ) : null}\n      </OptionsList>\n    );\n  }\n);\n\nconst VirtualListClosed = forwardRef(\n  ({ menuProps, listBottom }: SelectListProps, ref: React.Ref<SelectListProps.SelectListRef>) => {\n    useImperativeHandle(ref, () => () => {}, []);\n    return (\n      <OptionsList {...menuProps} ref={menuProps.ref}>\n        {listBottom ? (\n          <li role=\"option\" className={styles['list-bottom']}>\n            {listBottom}\n          </li>\n        ) : null}\n      </OptionsList>\n    );\n  }\n);\n\nexport default forwardRef(VirtualList);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useMemo, useRef } from 'react';\nimport { useVirtual as useVirtualDefault, VirtualItem } from '../../vendor/react-virtual';\n\nconst MAX_ITEM_MOUNTS = 100;\n\ninterface UseVirtualProps<Item> {\n  items: readonly Item[];\n  parentRef: React.RefObject<HTMLElement>;\n  estimateSize: () => number;\n}\n\ninterface RowVirtualizer {\n  virtualItems: VirtualItem[];\n  totalSize: number;\n  scrollToIndex: (index: number) => void;\n}\n\n/**\n * The useVirtual from react-virtual@2 might produce an infinite update loop caused by setting\n * measured item sizes in the render cycle (as part of the measureRef assignment):\n *      The sum of all measured item sizes is returned as totalSize which is then set on the list container.\n *      Enforcing new container height might result in an items size change e.g. when the content wraps.\n *\n * The infinite update cycle causes React \"Maximum update depth exceeded\" error and can be additionally confirmed\n * by logging the totalSize which should then bounce between two values.\n *\n * The number of item refs assignments is limited to MAX_ITEM_MOUNTS unless items or indices change.\n * That is based on the assumption the item height stays constant after its first render.\n */\nexport function useVirtual<Item extends object>({\n  items,\n  parentRef,\n  estimateSize,\n}: UseVirtualProps<Item>): RowVirtualizer {\n  const rowVirtualizer = useVirtualDefault({ size: items.length, parentRef, estimateSize, overscan: 5 });\n\n  // Cache virtual item mounts to limit the amount of mounts per item.\n  const measuresCache = useRef(new WeakMap<Item, number>());\n\n  // Clear mounts cache every time indices, items, or size estimate change.\n  const indicesKey = rowVirtualizer.virtualItems.map(item => `${item.index}`).join(':');\n  useEffect(() => {\n    measuresCache.current = new WeakMap();\n  }, [indicesKey, items, estimateSize]);\n\n  const virtualItems = useMemo(\n    () =>\n      rowVirtualizer.virtualItems.map(virtualItem => ({\n        ...virtualItem,\n        measureRef: (node: null | HTMLElement) => {\n          const mountedCount = measuresCache.current.get(items[virtualItem.index]) ?? 0;\n          if (mountedCount < MAX_ITEM_MOUNTS) {\n            virtualItem.measureRef(node);\n            measuresCache.current.set(items[virtualItem.index], mountedCount + 1);\n          }\n        },\n      })),\n    [items, rowVirtualizer.virtualItems]\n  );\n\n  return {\n    virtualItems,\n    totalSize: rowVirtualizer.totalSize,\n    scrollToIndex: rowVirtualizer.scrollToIndex,\n  };\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport InternalInput, { InternalInputProps } from '../../input/internal';\nimport { SelectProps } from '../interfaces';\nimport styles from './styles.css.js';\n\nexport interface FilterProps extends InternalInputProps {\n  ref?: React.Ref<HTMLInputElement>;\n  filteringType: SelectProps.FilteringType;\n}\n\nconst Filter = React.forwardRef(({ filteringType, ...filterProps }: FilterProps, ref: React.Ref<HTMLInputElement>) => {\n  if (filteringType === 'none') {\n    return null;\n  }\n\n  return (\n    <InternalInput\n      ref={ref}\n      type=\"visualSearch\"\n      className={styles.filter}\n      autoComplete={false}\n      disableBrowserAutocorrect={true}\n      invalid={false}\n      __noBorderRadius={true}\n      {...filterProps}\n      __nativeAttributes={{\n        'aria-expanded': true,\n        'aria-haspopup': true,\n        role: 'combobox',\n        autoCorrect: 'off',\n        autoCapitalize: 'off',\n        ...filterProps.__nativeAttributes,\n      }}\n    />\n  );\n});\n\nexport default Filter;\n","\n    import './styles.scoped.css';\n    export default {\n  \"button-trigger\": \"awsui_button-trigger_18eso_1ecvo_101\",\n  \"arrow\": \"awsui_arrow_18eso_1ecvo_101\",\n  \"has-caret\": \"awsui_has-caret_18eso_1ecvo_168\",\n  \"placeholder\": \"awsui_placeholder_18eso_1ecvo_171\",\n  \"pressed\": \"awsui_pressed_18eso_1ecvo_184\",\n  \"disabled\": \"awsui_disabled_18eso_1ecvo_187\",\n  \"in-filtering-token\": \"awsui_in-filtering-token_18eso_1ecvo_197\",\n  \"read-only\": \"awsui_read-only_18eso_1ecvo_203\",\n  \"invalid\": \"awsui_invalid_18eso_1ecvo_225\",\n  \"warning\": \"awsui_warning_18eso_1ecvo_236\",\n  \"inline-tokens\": \"awsui_inline-tokens_18eso_1ecvo_274\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { ButtonHTMLAttributes } from 'react';\nimport clsx from 'clsx';\nimport { BaseComponentProps, getBaseProps } from '../../base-component';\nimport InternalIcon from '../../../icon/internal';\nimport styles from './styles.css.js';\nimport { fireKeyboardEvent, fireCancelableEvent, CancelableEventHandler, BaseKeyDetail } from '../../events';\n\nexport interface ButtonTriggerProps extends BaseComponentProps {\n  children?: React.ReactNode;\n  pressed?: boolean;\n  hideCaret?: boolean;\n  disabled?: boolean;\n  readOnly?: boolean;\n  invalid?: boolean;\n  warning?: boolean;\n  inFilteringToken?: boolean;\n  inlineTokens?: boolean;\n  ariaHasPopup?: 'true' | 'listbox' | 'dialog';\n  ariaControls?: string;\n  ariaLabel?: string;\n  ariaLabelledby?: string;\n  ariaDescribedby?: string;\n  onKeyDown?: CancelableEventHandler<BaseKeyDetail>;\n  onKeyUp?: CancelableEventHandler<BaseKeyDetail>;\n  onMouseDown?: CancelableEventHandler;\n  onClick?: CancelableEventHandler;\n  onFocus?: CancelableEventHandler;\n  onBlur?: CancelableEventHandler<{ relatedTarget: Node | null }>;\n  autoFocus?: boolean;\n}\n\nconst ButtonTrigger = (\n  {\n    children,\n    pressed = false,\n    hideCaret = false,\n    disabled = false,\n    readOnly = false,\n    invalid = false,\n    warning = false,\n    inlineTokens,\n    inFilteringToken,\n    ariaHasPopup,\n    ariaLabel,\n    ariaLabelledby,\n    ariaDescribedby,\n    ariaControls,\n    onKeyDown,\n    onKeyUp,\n    onMouseDown,\n    onClick,\n    onFocus,\n    onBlur,\n    autoFocus,\n    ...restProps\n  }: ButtonTriggerProps,\n  ref: React.Ref<HTMLButtonElement>\n) => {\n  const baseProps = getBaseProps(restProps);\n  const attributes: ButtonHTMLAttributes<HTMLButtonElement> = {\n    ...baseProps,\n    type: 'button',\n    className: clsx(\n      styles['button-trigger'],\n      baseProps.className,\n      pressed && styles.pressed,\n      disabled && styles.disabled,\n      invalid && styles.invalid,\n      warning && !invalid && styles.warning,\n      !hideCaret && styles['has-caret'],\n      readOnly && styles['read-only'],\n      inFilteringToken && styles['in-filtering-token'],\n      inlineTokens && styles['inline-tokens']\n    ),\n    disabled: disabled || readOnly,\n    'aria-expanded': pressed,\n    'aria-label': ariaLabel,\n    'aria-labelledby': ariaLabelledby,\n    'aria-describedby': ariaDescribedby,\n    'aria-haspopup': ariaHasPopup ?? 'listbox',\n    'aria-controls': ariaControls,\n    onKeyDown: onKeyDown && (event => fireKeyboardEvent(onKeyDown, event)),\n    onKeyUp: onKeyUp && (event => fireKeyboardEvent(onKeyUp, event)),\n    onMouseDown: onMouseDown && (event => fireCancelableEvent(onMouseDown, {}, event)),\n    onClick: onClick && (event => fireCancelableEvent(onClick, {}, event)),\n    onFocus: onFocus && (event => fireCancelableEvent(onFocus, {}, event)),\n    onBlur: onBlur && (event => fireCancelableEvent(onBlur, { relatedTarget: event.relatedTarget }, event)),\n    autoFocus,\n  };\n\n  if (invalid) {\n    attributes['aria-invalid'] = invalid;\n  }\n\n  return (\n    <button ref={ref} {...attributes}>\n      {children}\n      {!hideCaret && (\n        <span className={styles.arrow}>\n          <InternalIcon name=\"caret-down-filled\" variant={disabled ? 'disabled' : 'normal'} />\n        </span>\n      )}\n    </button>\n  );\n};\n\nexport namespace ButtonTriggerProps {\n  export interface Ref {\n    focus(): void;\n  }\n}\n\nexport default React.forwardRef(ButtonTrigger);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport { useMergeRefs } from '../../internal/hooks/use-merge-refs';\nimport clsx from 'clsx';\nimport ButtonTrigger from '../../internal/components/button-trigger';\nimport { SelectProps } from '../interfaces';\nimport { MultiselectProps } from '../../multiselect/interfaces';\nimport styles from './styles.css.js';\nimport { OptionDefinition } from '../../internal/components/option/interfaces';\nimport { FormFieldValidationControlProps } from '../../internal/context/form-field-context';\nimport Option from '../../internal/components/option';\nimport { useUniqueId } from '../../internal/hooks/use-unique-id';\nimport { SelectTriggerProps } from '../utils/use-select';\nimport { joinStrings } from '../../internal/utils/strings';\nimport { useVisualRefresh } from '../../internal/hooks/use-visual-mode';\n\nexport interface TriggerProps extends FormFieldValidationControlProps {\n  placeholder: string | undefined;\n  disabled: boolean | undefined;\n  triggerProps: SelectTriggerProps;\n  selectedOption: OptionDefinition | null;\n  isOpen?: boolean;\n  triggerVariant?: SelectProps.TriggerVariant | MultiselectProps.TriggerVariant;\n  inFilteringToken?: boolean;\n  selectedOptions?: ReadonlyArray<OptionDefinition>;\n}\n\nconst Trigger = React.forwardRef(\n  (\n    {\n      ariaLabelledby,\n      ariaDescribedby,\n      controlId,\n      invalid,\n      warning,\n      triggerProps,\n      selectedOption,\n      selectedOptions,\n      triggerVariant,\n      inFilteringToken,\n      isOpen,\n      placeholder,\n      disabled,\n    }: TriggerProps,\n    ref: React.Ref<HTMLButtonElement>\n  ) => {\n    const isVisualRefresh = useVisualRefresh();\n    const generatedId = useUniqueId();\n    const id = controlId ?? generatedId;\n    const triggerContentId = useUniqueId('trigger-content-');\n\n    let ariaLabelledbyIds = joinStrings(ariaLabelledby, triggerContentId);\n\n    let triggerContent = null;\n    if (triggerVariant === 'tokens') {\n      if (selectedOptions?.length) {\n        triggerContent = (\n          <span\n            className={clsx(\n              styles['inline-token-trigger'],\n              disabled && styles['inline-token-trigger--disabled'],\n              isVisualRefresh && styles['visual-refresh']\n            )}\n          >\n            <span className={styles['inline-token-list']}>\n              {selectedOptions.map(({ label }, i) => (\n                <span key={i} className={styles['inline-token']}>\n                  {label}\n                </span>\n              ))}\n            </span>\n            <span className={styles['inline-token-counter']} id={triggerContentId}>\n              <span className={styles['inline-token-hidden-placeholder']}>{placeholder}</span>\n              <span>({selectedOptions.length})</span>\n            </span>\n          </span>\n        );\n        ariaLabelledbyIds = ariaLabelledby;\n      } else {\n        triggerContent = (\n          <span aria-disabled=\"true\" className={clsx(styles.placeholder, styles.trigger)} id={triggerContentId}>\n            {placeholder}\n          </span>\n        );\n      }\n    } else if (!selectedOption) {\n      triggerContent = (\n        <span aria-disabled=\"true\" className={clsx(styles.placeholder, styles.trigger)} id={triggerContentId}>\n          {placeholder}\n        </span>\n      );\n    } else if (triggerVariant === 'option') {\n      triggerContent = <Option id={triggerContentId} option={{ ...selectedOption, disabled }} triggerVariant={true} />;\n    } else {\n      triggerContent = (\n        <span id={triggerContentId} className={styles.trigger}>\n          {selectedOption.label || selectedOption.value}\n        </span>\n      );\n    }\n\n    const mergedRef = useMergeRefs(triggerProps.ref, ref);\n\n    return (\n      <ButtonTrigger\n        {...triggerProps}\n        id={id}\n        ref={mergedRef}\n        pressed={isOpen}\n        disabled={disabled}\n        invalid={invalid}\n        warning={warning && !invalid}\n        inFilteringToken={inFilteringToken}\n        inlineTokens={triggerVariant === 'tokens'}\n        ariaDescribedby={ariaDescribedby}\n        ariaLabelledby={ariaLabelledbyIds}\n      >\n        {triggerContent}\n      </ButtonTrigger>\n    );\n  }\n);\n\nexport default Trigger;\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_dm8gx_1tp36_101\",\n  \"has-items\": \"awsui_has-items_dm8gx_1tp36_135\",\n  \"no-padding\": \"awsui_no-padding_dm8gx_1tp36_135\",\n  \"dismiss-button\": \"awsui_dismiss-button_dm8gx_1tp36_139\",\n  \"token\": \"awsui_token_dm8gx_1tp36_181\",\n  \"token-box\": \"awsui_token-box_dm8gx_1tp36_188\",\n  \"token-box-error\": \"awsui_token-box-error_dm8gx_1tp36_207\",\n  \"token-box-warning\": \"awsui_token-box-warning_dm8gx_1tp36_218\",\n  \"token-box-disabled\": \"awsui_token-box-disabled_dm8gx_1tp36_229\"\n};\n  ","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_gfwv3_1gn2o_97\",\n  \"horizontal\": \"awsui_horizontal_gfwv3_1gn2o_102\",\n  \"vertical\": \"awsui_vertical_gfwv3_1gn2o_106\",\n  \"list\": \"awsui_list_gfwv3_1gn2o_110\",\n  \"list-item\": \"awsui_list-item_gfwv3_1gn2o_130\",\n  \"toggle-container-inline\": \"awsui_toggle-container-inline_gfwv3_1gn2o_137\",\n  \"toggle\": \"awsui_toggle_gfwv3_1gn2o_137\",\n  \"description\": \"awsui_description_gfwv3_1gn2o_232\",\n  \"separator\": \"awsui_separator_gfwv3_1gn2o_236\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useCallback } from 'react';\nimport InternalIcon from '../../../icon/internal';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../../events';\nimport { I18nStrings } from './interfaces';\n\nimport styles from './styles.css.js';\nimport { useInternalI18n } from '../../../i18n/context';\ninterface TokenLimitToggleProps {\n  controlId?: string;\n  allHidden: boolean;\n  expanded: boolean;\n  numberOfHiddenOptions: number;\n  onClick?: NonCancelableEventHandler<null>;\n  i18nStrings?: I18nStrings;\n  limitShowFewerAriaLabel?: string;\n  limitShowMoreAriaLabel?: string;\n}\n\nexport default function TokenLimitToggle({\n  controlId,\n  allHidden,\n  expanded,\n  numberOfHiddenOptions,\n  onClick,\n  i18nStrings = {},\n  limitShowFewerAriaLabel,\n  limitShowMoreAriaLabel,\n}: TokenLimitToggleProps) {\n  const i18n = useInternalI18n('token-group');\n\n  const numberOfHiddenOptionLabel = allHidden ? numberOfHiddenOptions : `+${numberOfHiddenOptions}`;\n  const description = expanded\n    ? i18n('i18nStrings.limitShowFewer', i18nStrings.limitShowFewer)\n    : `${i18n('i18nStrings.limitShowMore', i18nStrings.limitShowMore) || ''} (${numberOfHiddenOptionLabel})`;\n  const ariaLabel = expanded ? limitShowFewerAriaLabel : limitShowMoreAriaLabel;\n\n  const handleClick = useCallback(() => {\n    fireNonCancelableEvent(onClick, null);\n  }, [onClick]);\n\n  return (\n    <button\n      type=\"button\"\n      className={styles.toggle}\n      onClick={handleClick}\n      aria-controls={controlId}\n      aria-expanded={expanded}\n      aria-label={ariaLabel}\n    >\n      <InternalIcon name={expanded ? 'treeview-collapse' : 'treeview-expand'} />\n      <span className={styles.description}>{description}</span>\n    </button>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { useEffect, useRef } from 'react';\nimport { getFirstFocusable } from '../focus-lock/utils.js';\nimport styles from './styles.css.js';\n\nconst tokenSelector = `.${styles['list-item']}`;\nconst toggleButtonSelector = `.${styles.toggle}`;\n\nexport function useTokenFocusController({ moveFocusNextToIndex }: { moveFocusNextToIndex?: null | number }) {\n  const tokenListRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (moveFocusNextToIndex === undefined || moveFocusNextToIndex === null || tokenListRef.current === null) {\n      return;\n    }\n\n    const tokenElements = tokenListRef.current.querySelectorAll(tokenSelector);\n    const toggleButton = tokenListRef.current.querySelector(toggleButtonSelector);\n\n    let closestPrevIndex = Number.NEGATIVE_INFINITY;\n    let closestNextIndex = Number.POSITIVE_INFINITY;\n\n    for (let activeIndex = 0; activeIndex < tokenElements.length; activeIndex++) {\n      if (activeIndex < moveFocusNextToIndex) {\n        closestPrevIndex =\n          moveFocusNextToIndex - activeIndex < moveFocusNextToIndex - closestPrevIndex ? activeIndex : closestPrevIndex;\n      } else {\n        closestNextIndex =\n          activeIndex - moveFocusNextToIndex < closestNextIndex - moveFocusNextToIndex ? activeIndex : closestNextIndex;\n      }\n    }\n\n    const nextElement = tokenElements[closestNextIndex];\n    const prevElement = tokenElements[closestPrevIndex];\n\n    if (nextElement instanceof HTMLElement) {\n      getFirstFocusable(nextElement)?.focus();\n    } else if (prevElement instanceof HTMLElement) {\n      getFirstFocusable(prevElement)?.focus();\n    } else if (toggleButton instanceof HTMLElement) {\n      toggleButton.focus();\n    }\n  }, [moveFocusNextToIndex]);\n\n  return tokenListRef;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useState } from 'react';\n\nimport TokenLimitToggle from './token-limit-toggle';\nimport styles from './styles.css.js';\nimport { TokenListProps } from './interfaces';\nimport { useUniqueId } from '../../hooks/use-unique-id';\nimport clsx from 'clsx';\nimport { useTokenFocusController } from './token-focus-controller';\n\nexport default function TokenList<Item>({\n  items,\n  alignment,\n  renderItem,\n  limit,\n  after,\n  i18nStrings,\n  limitShowFewerAriaLabel,\n  limitShowMoreAriaLabel,\n  moveFocusNextToIndex,\n  onExpandedClick = () => undefined,\n}: TokenListProps<Item>) {\n  const tokenListRef = useTokenFocusController({ moveFocusNextToIndex: moveFocusNextToIndex });\n  const controlId = useUniqueId();\n\n  const [expanded, setExpanded] = useState(false);\n  const hasItems = items.length > 0;\n  const hasHiddenItems = hasItems && limit !== undefined && items.length > limit;\n  const visibleItems = hasHiddenItems && !expanded ? items.slice(0, limit) : items;\n  const hasVisibleItems = visibleItems.length > 0;\n\n  const toggle = hasHiddenItems ? (\n    <div className={styles[`toggle-container-${alignment}`]}>\n      <TokenLimitToggle\n        controlId={hasVisibleItems ? controlId : undefined}\n        allHidden={limit === 0}\n        expanded={expanded}\n        numberOfHiddenOptions={items.length - visibleItems.length}\n        i18nStrings={i18nStrings}\n        limitShowFewerAriaLabel={limitShowFewerAriaLabel}\n        limitShowMoreAriaLabel={limitShowMoreAriaLabel}\n        onClick={() => {\n          const isExpanded = !expanded;\n          setExpanded(isExpanded);\n          onExpandedClick(isExpanded);\n        }}\n      />\n    </div>\n  ) : null;\n\n  if (alignment === 'inline') {\n    return (\n      <div ref={tokenListRef} className={clsx(styles.root, styles.horizontal)}>\n        {hasItems && (\n          <ul id={controlId} className={styles.list}>\n            {visibleItems.map((item, itemIndex) => (\n              <li\n                key={itemIndex}\n                className={styles['list-item']}\n                aria-setsize={items.length}\n                aria-posinset={itemIndex + 1}\n              >\n                {renderItem(item, itemIndex)}\n              </li>\n            ))}\n          </ul>\n        )}\n        {toggle}\n        {after && <div className={styles.separator} />}\n        {after}\n      </div>\n    );\n  }\n\n  return (\n    <div ref={tokenListRef} className={clsx(styles.root, styles.vertical)}>\n      {hasVisibleItems && (\n        <ul id={controlId} className={clsx(styles.list, styles[alignment])}>\n          {visibleItems.map((item, itemIndex) => (\n            <li\n              key={itemIndex}\n              className={styles['list-item']}\n              aria-setsize={items.length}\n              aria-posinset={itemIndex + 1}\n            >\n              {renderItem(item, itemIndex)}\n            </li>\n          ))}\n        </ul>\n      )}\n      {toggle}\n      {after}\n    </div>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, Ref } from 'react';\nimport styles from './styles.css.js';\nimport InternalIcon from '../icon/internal';\n\ninterface DismissButtonProps {\n  disabled?: boolean;\n  onDismiss?: () => void;\n  dismissLabel?: string;\n}\n\nexport default forwardRef(DismissButton);\n\nfunction DismissButton({ disabled, dismissLabel, onDismiss }: DismissButtonProps, ref: Ref<HTMLButtonElement>) {\n  return (\n    <button\n      ref={ref}\n      type=\"button\"\n      className={styles['dismiss-button']}\n      aria-disabled={disabled ? true : undefined}\n      onClick={!disabled && onDismiss ? () => onDismiss() : undefined}\n      aria-label={dismissLabel}\n    >\n      <InternalIcon name=\"close\" />\n    </button>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport DismissButton from './dismiss-button';\nimport styles from './styles.css.js';\nimport { FormFieldError, FormFieldWarning } from '../form-field/internal';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { getBaseProps } from '../internal/base-component';\n\ninterface TokenProps {\n  children: React.ReactNode;\n  ariaLabel?: string;\n  dismissLabel?: string;\n  onDismiss?: () => void;\n  disabled?: boolean;\n  errorText?: React.ReactNode;\n  errorIconAriaLabel?: string;\n  warningText?: React.ReactNode;\n  warningIconAriaLabel?: string;\n  className?: string;\n}\n\nexport function Token({\n  ariaLabel,\n  disabled,\n  dismissLabel,\n  onDismiss,\n  children,\n  errorText,\n  warningText,\n  errorIconAriaLabel,\n  warningIconAriaLabel,\n  ...restProps\n}: TokenProps) {\n  const errorId = useUniqueId('error');\n  const warningId = useUniqueId('warning');\n  const baseProps = getBaseProps(restProps);\n\n  const showWarning = warningText && !errorText;\n\n  return (\n    <div\n      {...baseProps}\n      className={clsx(styles.token, baseProps.className)}\n      role=\"group\"\n      aria-label={ariaLabel}\n      aria-describedby={errorText ? errorId : warningText ? warningId : undefined}\n      aria-disabled={disabled}\n    >\n      <div\n        className={clsx(\n          styles['token-box'],\n          disabled && styles['token-box-disabled'],\n          errorText && styles['token-box-error'],\n          showWarning && styles['token-box-warning']\n        )}\n      >\n        {children}\n        {onDismiss && <DismissButton disabled={disabled} dismissLabel={dismissLabel} onDismiss={onDismiss} />}\n      </div>\n      {errorText && (\n        <FormFieldError id={errorId} errorIconAriaLabel={errorIconAriaLabel}>\n          {errorText}\n        </FormFieldError>\n      )}\n      {showWarning && (\n        <FormFieldWarning id={warningId} warningIconAriaLabel={warningIconAriaLabel}>\n          {warningText}\n        </FormFieldWarning>\n      )}\n    </div>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState } from 'react';\n\nimport Option from '../internal/components/option';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport checkControlled from '../internal/hooks/check-controlled';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\n\nimport { TokenGroupProps } from './interfaces';\nimport { SomeRequired } from '../internal/types';\nimport { getBaseProps } from '../internal/base-component';\nimport clsx from 'clsx';\nimport styles from './styles.css.js';\nimport TokenList from '../internal/components/token-list';\nimport { Token } from './token';\n\ntype InternalTokenGroupProps = SomeRequired<TokenGroupProps, 'items' | 'alignment'> & InternalBaseComponentProps;\n\nexport default function InternalTokenGroup({\n  alignment,\n  items,\n  onDismiss,\n  limit,\n  i18nStrings,\n  disableOuterPadding,\n  limitShowFewerAriaLabel,\n  limitShowMoreAriaLabel,\n  __internalRootRef,\n  ...props\n}: InternalTokenGroupProps) {\n  checkControlled('TokenGroup', 'items', items, 'onDismiss', onDismiss);\n\n  const [removedItemIndex, setRemovedItemIndex] = useState<null | number>(null);\n\n  const baseProps = getBaseProps(props);\n  const hasItems = items.length > 0;\n  return (\n    <div\n      {...baseProps}\n      className={clsx(\n        baseProps.className,\n        styles.root,\n        hasItems && styles['has-items'],\n        disableOuterPadding && styles['no-padding']\n      )}\n      ref={__internalRootRef}\n    >\n      <TokenList\n        alignment={alignment}\n        items={items}\n        limit={limit}\n        renderItem={(item, itemIndex) => (\n          <Token\n            ariaLabel={item.label}\n            dismissLabel={item.dismissLabel}\n            onDismiss={() => {\n              fireNonCancelableEvent(onDismiss, { itemIndex });\n              setRemovedItemIndex(itemIndex);\n            }}\n            disabled={item.disabled}\n          >\n            <Option option={item} isGenericGroup={false} />\n          </Token>\n        )}\n        i18nStrings={i18nStrings}\n        limitShowFewerAriaLabel={limitShowFewerAriaLabel}\n        limitShowMoreAriaLabel={limitShowMoreAriaLabel}\n        moveFocusNextToIndex={removedItemIndex}\n        onExpandedClick={isExpanded => {\n          if (isExpanded && limit) {\n            setRemovedItemIndex(limit);\n          } else {\n            setRemovedItemIndex(null);\n          }\n        }}\n      />\n    </div>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_f8g6q_1i4ll_97\",\n  \"tokens\": \"awsui_tokens_f8g6q_1i4ll_132\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\n\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component/index.js';\nimport { useFormFieldContext } from '../internal/context/form-field-context';\nimport { getBaseProps } from '../internal/base-component';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { isGroup } from '../internal/components/option/utils/filter-options';\n\nimport DropdownFooter from '../internal/components/dropdown-footer/index.js';\nimport { prepareOptions } from '../internal/components/option/utils/prepare-options';\nimport { OptionDefinition, OptionGroup } from '../internal/components/option/interfaces';\nimport Dropdown from '../internal/components/dropdown';\nimport { useDropdownStatus } from '../internal/components/dropdown-status';\n\nimport { useSelect, MenuProps } from '../select/utils/use-select';\nimport { useNativeSearch } from '../select/utils/use-native-search';\nimport { useLoadItems } from '../select/utils/use-load-items';\nimport { useAnnouncement } from '../select/utils/use-announcement';\nimport { findOptionIndex } from '../select/utils/connect-options';\nimport PlainList, { SelectListProps } from '../select/parts/plain-list';\nimport VirtualList from '../select/parts/virtual-list';\nimport { checkOptionValueField } from '../select/utils/check-option-value-field.js';\nimport Filter from '../select/parts/filter';\nimport Trigger from '../select/parts/trigger';\n\nimport InternalTokenGroup from '../token-group/internal';\nimport { TokenGroupProps } from '../token-group/interfaces';\n\nimport { MultiselectProps } from './interfaces';\nimport styles from './styles.css.js';\nimport ScreenreaderOnly from '../internal/components/screenreader-only';\nimport { joinStrings } from '../internal/utils/strings';\nimport { useInternalI18n } from '../i18n/context';\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\ntype InternalMultiselectProps = MultiselectProps & InternalBaseComponentProps & { inlineTokens?: boolean };\n\nconst InternalMultiselect = React.forwardRef(\n  (\n    {\n      options = [],\n      filteringType = 'none',\n      filteringPlaceholder,\n      filteringAriaLabel,\n      filteringClearAriaLabel,\n      filteringResultsText,\n      ariaRequired,\n      placeholder,\n      disabled,\n      ariaLabel,\n      statusType = 'finished',\n      empty,\n      loadingText,\n      finishedText,\n      errorText,\n      noMatch,\n      renderHighlightedAriaLive,\n      selectedOptions = [],\n      deselectAriaLabel,\n      keepOpen = true,\n      tokenLimit,\n      i18nStrings,\n      onBlur,\n      onFocus,\n      onLoadItems,\n      onChange,\n      virtualScroll,\n      inlineTokens = false,\n      hideTokens = false,\n      expandToViewport,\n      tokenLimitShowFewerAriaLabel,\n      tokenLimitShowMoreAriaLabel,\n      __internalRootRef = null,\n      autoFocus,\n      ...restProps\n    }: InternalMultiselectProps,\n    externalRef: React.Ref<MultiselectProps.Ref>\n  ) => {\n    checkOptionValueField('Multiselect', 'options', options);\n\n    const baseProps = getBaseProps(restProps);\n    const formFieldContext = useFormFieldContext(restProps);\n    const i18n = useInternalI18n('multiselect');\n\n    const i18nCommon = useInternalI18n('select');\n    const recoveryText = i18nCommon('recoveryText', restProps.recoveryText);\n    const errorIconAriaLabel = i18nCommon('errorIconAriaLabel', restProps.errorIconAriaLabel);\n    const selectedAriaLabel = i18nCommon('selectedAriaLabel', restProps.selectedAriaLabel);\n\n    if (restProps.recoveryText && !onLoadItems) {\n      warnOnce('Multiselect', '`onLoadItems` must be provided for `recoveryText` to be displayed.');\n    }\n\n    const { handleLoadMore, handleRecoveryClick, fireLoadItems } = useLoadItems({\n      onLoadItems,\n      options,\n      statusType,\n    });\n    const useInteractiveGroups = true;\n    const [filteringValue, setFilteringValue] = useState('');\n    const { filteredOptions, parentMap, totalCount, matchesCount } = prepareOptions(\n      options,\n      filteringType,\n      filteringValue\n    );\n\n    const updateSelectedOption = useCallback(\n      (option: OptionDefinition | OptionGroup) => {\n        const filtered = filteredOptions.filter(item => item.type !== 'parent').map(item => item.option);\n\n        // switch between selection and deselection behavior, ignores disabled options to prevent\n        // getting stuck on one behavior when an option is disabled and its state cannot be changed\n        const isAllChildrenSelected = (optionsArray: OptionDefinition[]) =>\n          optionsArray.every(item => findOptionIndex(selectedOptions, item) > -1 || item.disabled);\n        const intersection = (visibleOptions: OptionDefinition[], options: OptionDefinition[]) =>\n          visibleOptions.filter(item => findOptionIndex(options, item) > -1 && !item.disabled);\n        const union = (visibleOptions: OptionDefinition[], options: OptionDefinition[]) =>\n          visibleOptions.filter(item => findOptionIndex(options, item) === -1).concat(options);\n        const select = (options: OptionDefinition[], selectedOptions: OptionDefinition[]) => {\n          return union(selectedOptions, options);\n        };\n        const unselect = (options: OptionDefinition[], selectedOptions: OptionDefinition[]) => {\n          return selectedOptions.filter(option => findOptionIndex(options, option) === -1);\n        };\n        let newSelectedOptions = [...selectedOptions];\n\n        if (isGroup(option)) {\n          const visibleOptions = intersection([...option.options], filtered);\n          newSelectedOptions = isAllChildrenSelected(visibleOptions)\n            ? unselect(visibleOptions, newSelectedOptions)\n            : select(visibleOptions, newSelectedOptions);\n        } else {\n          newSelectedOptions = isAllChildrenSelected([option])\n            ? unselect([option], newSelectedOptions)\n            : select([option], newSelectedOptions);\n        }\n\n        fireNonCancelableEvent(onChange, {\n          selectedOptions: newSelectedOptions,\n        });\n      },\n      [onChange, selectedOptions, filteredOptions]\n    );\n\n    const rootRef = useRef<HTMLDivElement>(null);\n\n    const selfControlId = useUniqueId('trigger');\n    const controlId = formFieldContext.controlId ?? selfControlId;\n\n    const multiSelectAriaLabelId = useUniqueId('multiselect-arialabel-');\n\n    const footerId = useUniqueId('footer');\n\n    const scrollToIndex = useRef<SelectListProps.SelectListRef>(null);\n    const {\n      isOpen,\n      highlightType,\n      highlightedOption,\n      highlightedIndex,\n      getTriggerProps,\n      getDropdownProps,\n      getFilterProps,\n      getMenuProps,\n      getOptionProps,\n      highlightOption,\n      announceSelected,\n    } = useSelect({\n      selectedOptions,\n      updateSelectedOption,\n      options: filteredOptions,\n      filteringType,\n      onFocus,\n      onBlur,\n      externalRef,\n      keepOpen,\n      fireLoadItems,\n      setFilteringValue,\n      useInteractiveGroups,\n      statusType,\n    });\n\n    const handleNativeSearch = useNativeSearch({\n      isEnabled: filteringType === 'none' && isOpen,\n      options: filteredOptions,\n      highlightOption: highlightOption,\n      highlightedOption: highlightedOption?.option,\n      useInteractiveGroups,\n    });\n\n    const isEmpty = !options || options.length === 0;\n    const isNoMatch = filteredOptions && filteredOptions.length === 0;\n    const isFiltered =\n      filteringType !== 'none' && filteringValue.length > 0 && filteredOptions && filteredOptions.length > 0;\n    const filteredText = isFiltered ? filteringResultsText?.(matchesCount, totalCount) : undefined;\n    const dropdownStatus = useDropdownStatus({\n      statusType,\n      empty,\n      loadingText,\n      finishedText,\n      errorText,\n      recoveryText,\n      isEmpty,\n      isNoMatch,\n      noMatch,\n      isFiltered,\n      filteringResultsText: filteredText,\n      onRecoveryClick: handleRecoveryClick,\n      errorIconAriaLabel: errorIconAriaLabel,\n      hasRecoveryCallback: !!onLoadItems,\n    });\n\n    const filter = (\n      <Filter\n        clearAriaLabel={filteringClearAriaLabel}\n        filteringType={filteringType}\n        placeholder={filteringPlaceholder}\n        ariaLabel={filteringAriaLabel}\n        ariaRequired={ariaRequired}\n        value={filteringValue}\n        {...getFilterProps()}\n      />\n    );\n\n    const trigger = (\n      <Trigger\n        placeholder={placeholder}\n        disabled={disabled}\n        triggerProps={getTriggerProps(disabled, autoFocus)}\n        selectedOption={null}\n        selectedOptions={selectedOptions}\n        triggerVariant={inlineTokens ? 'tokens' : 'placeholder'}\n        isOpen={isOpen}\n        {...formFieldContext}\n        controlId={controlId}\n        ariaLabelledby={joinStrings(formFieldContext.ariaLabelledby, multiSelectAriaLabelId)}\n      />\n    );\n\n    const menuProps: MenuProps = {\n      ...getMenuProps(),\n      onLoadMore: handleLoadMore,\n      ariaLabelledby: joinStrings(multiSelectAriaLabelId, controlId),\n      ariaDescribedby: dropdownStatus.content ? footerId : undefined,\n    };\n\n    const announcement = useAnnouncement({\n      announceSelected,\n      highlightedOption,\n      getParent: option => parentMap.get(option)?.option as undefined | OptionGroup,\n      selectedAriaLabel,\n      renderHighlightedAriaLive,\n    });\n\n    const tokens: TokenGroupProps['items'] = selectedOptions.map(option => ({\n      label: option.label,\n      disabled: disabled || option.disabled,\n      labelTag: option.labelTag,\n      description: option.description,\n      iconAlt: option.iconAlt,\n      iconName: option.iconName,\n      iconUrl: option.iconUrl,\n      iconSvg: option.iconSvg,\n      tags: option.tags,\n      dismissLabel: i18n('deselectAriaLabel', deselectAriaLabel?.(option), format =>\n        format({ option__label: option.label ?? '' })\n      ),\n    }));\n\n    useEffect(() => {\n      scrollToIndex.current?.(highlightedIndex);\n    }, [highlightedIndex]);\n\n    const ListComponent = virtualScroll ? VirtualList : PlainList;\n\n    const handleMouseDown = (event: React.MouseEvent) => {\n      const target = event.target as HTMLElement;\n\n      if (target !== document.activeElement) {\n        // prevent currently focused element from losing it\n        event.preventDefault();\n      }\n    };\n\n    const showTokens = !hideTokens && !inlineTokens && tokens.length > 0;\n    const handleTokenDismiss: TokenGroupProps['onDismiss'] = ({ detail }) => {\n      const optionToDeselect = selectedOptions[detail.itemIndex];\n      updateSelectedOption(optionToDeselect);\n      const targetRef = getTriggerProps().ref;\n      if (targetRef.current) {\n        targetRef.current.focus();\n      }\n    };\n\n    const tokenGroupI18nStrings: TokenGroupProps.I18nStrings = {\n      limitShowFewer: i18nStrings?.tokenLimitShowFewer,\n      limitShowMore: i18nStrings?.tokenLimitShowMore,\n    };\n\n    const mergedRef = useMergeRefs(rootRef, __internalRootRef);\n\n    const dropdownProps = getDropdownProps();\n\n    return (\n      <div\n        {...baseProps}\n        ref={mergedRef}\n        className={clsx(styles.root, baseProps.className)}\n        onKeyPress={handleNativeSearch}\n      >\n        <Dropdown\n          {...dropdownProps}\n          ariaLabelledby={\n            dropdownProps.dropdownContentRole ? joinStrings(multiSelectAriaLabelId, controlId) : undefined\n          }\n          ariaDescribedby={\n            dropdownProps.dropdownContentRole ? (dropdownStatus.content ? footerId : undefined) : undefined\n          }\n          open={isOpen}\n          trigger={trigger}\n          header={filter}\n          onMouseDown={handleMouseDown}\n          footer={\n            dropdownStatus.isSticky ? (\n              <DropdownFooter content={isOpen ? dropdownStatus.content : null} id={footerId} />\n            ) : null\n          }\n          expandToViewport={expandToViewport}\n          stretchBeyondTriggerWidth={true}\n        >\n          <ListComponent\n            listBottom={\n              !dropdownStatus.isSticky ? (\n                <DropdownFooter content={isOpen ? dropdownStatus.content : null} id={footerId} />\n              ) : null\n            }\n            menuProps={menuProps}\n            getOptionProps={getOptionProps}\n            filteredOptions={filteredOptions}\n            filteringValue={filteringValue}\n            ref={scrollToIndex}\n            hasDropdownStatus={dropdownStatus.content !== null}\n            checkboxes={true}\n            useInteractiveGroups={useInteractiveGroups}\n            screenReaderContent={announcement}\n            highlightType={highlightType}\n          />\n        </Dropdown>\n        {showTokens && (\n          <InternalTokenGroup\n            className={styles.tokens}\n            alignment=\"horizontal\"\n            limit={tokenLimit}\n            items={tokens}\n            onDismiss={handleTokenDismiss}\n            i18nStrings={tokenGroupI18nStrings}\n            limitShowMoreAriaLabel={tokenLimitShowMoreAriaLabel}\n            limitShowFewerAriaLabel={tokenLimitShowFewerAriaLabel}\n            disableOuterPadding={true}\n          />\n        )}\n        <ScreenreaderOnly id={multiSelectAriaLabelId}>{ariaLabel}</ScreenreaderOnly>\n      </div>\n    );\n  }\n);\n\nexport default InternalMultiselect;\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { isDevelopment } from '../../internal/is-development';\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nexport function checkOptionValueField<ValueType extends ReadonlyArray<any>>(\n  componentName: string,\n  propertyName: string,\n  propertyValue: ValueType | undefined\n) {\n  if (isDevelopment) {\n    if (!propertyValue) {\n      return;\n    }\n\n    const valuePropertyMissing = !propertyValue.every(element => {\n      return 'options' in element || 'value' in element;\n    });\n\n    if (valuePropertyMissing) {\n      warnOnce(\n        componentName,\n        `You provided an \\`${propertyName}\\` prop where at least one non-group array element is missing the \\`value\\` field. This field is required for all options without sub-items.`\n      );\n    }\n  }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useRef } from 'react';\nimport { fireNonCancelableEvent } from '../../internal/events';\nimport { SelectProps } from '../interfaces';\nimport { OptionDefinition, OptionGroup } from '../../internal/components/option/interfaces';\nimport { DropdownStatusProps } from '../../internal/components/dropdown-status';\n\ninterface UseLoadItemsProps {\n  onLoadItems: SelectProps['onLoadItems'];\n  options: ReadonlyArray<OptionDefinition | OptionGroup>;\n  statusType: DropdownStatusProps.StatusType;\n}\n\nexport const useLoadItems = ({ onLoadItems, options, statusType }: UseLoadItemsProps) => {\n  const prevFilteringText = useRef<string | undefined>(undefined);\n\n  const fireLoadItems = (filteringText: string) => {\n    if (prevFilteringText.current === filteringText) {\n      return;\n    }\n    prevFilteringText.current = filteringText;\n    fireNonCancelableEvent(onLoadItems, { filteringText, firstPage: true, samePage: false });\n  };\n\n  const handleLoadMore = () => {\n    const firstPage = options.length === 0;\n    statusType === 'pending' &&\n      fireNonCancelableEvent(onLoadItems, {\n        firstPage,\n        samePage: false,\n        filteringText: prevFilteringText.current || '',\n      });\n  };\n\n  const handleRecoveryClick = () =>\n    fireNonCancelableEvent(onLoadItems, {\n      firstPage: false,\n      samePage: true,\n      filteringText: prevFilteringText.current || '',\n    });\n\n  return {\n    fireLoadItems,\n    handleLoadMore,\n    handleRecoveryClick,\n  };\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { OptionDefinition, OptionGroup } from '../../internal/components/option/interfaces';\nimport { SelectProps } from '../interfaces';\nimport { useEffect, useRef } from 'react';\nimport defaultOptionDescription from '../../internal/components/option/option-announcer';\n\ninterface OptionHolder {\n  option?: OptionDefinition | OptionGroup;\n}\n\n/**\n * The hook produces the live region string to be announced when an option is highlighted.\n * This is a workaround to account for the issues with assistive technologies.\n *\n * If the testing reveals no issues with the native announcements the live-region can be removed.\n */\nexport function useAnnouncement<Option extends OptionHolder>({\n  announceSelected,\n  highlightedOption,\n  getParent,\n  selectedAriaLabel,\n  renderHighlightedAriaLive,\n}: {\n  announceSelected: boolean;\n  highlightedOption?: Option;\n  getParent: (option: Option) => undefined | OptionGroup;\n  selectedAriaLabel?: string;\n  renderHighlightedAriaLive?: SelectProps.ContainingOptionAndGroupString;\n}) {\n  const prevAnnouncedGroup = useRef<OptionGroup | undefined>(undefined);\n\n  // Record previously announced group with a delay to account for possible re-renders of the hook.\n  useEffect(() => {\n    if (highlightedOption) {\n      const frameId = requestAnimationFrame(() => {\n        prevAnnouncedGroup.current = getParent(highlightedOption);\n      });\n      return () => cancelAnimationFrame(frameId);\n    }\n  });\n\n  if (!highlightedOption) {\n    return '';\n  }\n\n  const option = highlightedOption.option as OptionDefinition;\n  const parent = getParent(highlightedOption);\n  // Only announce parent group if it wasn't announced with previous option.\n  const group = parent && parent !== prevAnnouncedGroup.current ? parent : undefined;\n\n  // Use custom renderer if provided.\n  if (renderHighlightedAriaLive) {\n    return renderHighlightedAriaLive(option, group);\n  }\n\n  // Use default renderer with selected ARIA label if defined and relevant.\n  const selectedAnnouncement = announceSelected && selectedAriaLabel ? selectedAriaLabel : '';\n  const defaultDescription = defaultOptionDescription(option, group);\n  return [selectedAnnouncement, defaultDescription].filter(Boolean).join(' ');\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1px7g_4rwm1_97\",\n  \"chart-filter\": \"awsui_chart-filter_1px7g_4rwm1_132\",\n  \"custom-icon-wrapper\": \"awsui_custom-icon-wrapper_1px7g_4rwm1_136\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useCallback, memo } from 'react';\n\nimport { NonCancelableEventHandler } from '../../events';\nimport InternalFormField from '../../../form-field/internal';\nimport InternalMultiselect from '../../../multiselect/internal';\nimport { BaseComponentProps, getBaseProps } from '../../base-component';\nimport { MultiselectProps } from '../../../multiselect/interfaces';\nimport SeriesMarker, { ChartSeriesMarkerType } from '../chart-series-marker';\nimport { useInternalI18n } from '../../../i18n/context';\n\nimport styles from './styles.css.js';\n\ninterface I18nStrings {\n  filterLabel?: string;\n  filterPlaceholder?: string;\n  filterSelectedAriaLabel?: string;\n}\n\nexport interface ChartFilterItem<T> {\n  label: string;\n  color: string;\n  type: ChartSeriesMarkerType;\n  datum: T;\n}\n\nexport interface ChartFilterProps<T> extends BaseComponentProps {\n  series: ReadonlyArray<ChartFilterItem<T>>;\n  selectedSeries?: ReadonlyArray<T>;\n  onChange: (selectedSeries: ReadonlyArray<T>) => void;\n  i18nStrings?: I18nStrings;\n}\n\nexport default memo(ChartFilter) as typeof ChartFilter;\n\nfunction ChartFilter<T>({ series, i18nStrings, selectedSeries, onChange, ...restProps }: ChartFilterProps<T>) {\n  const baseProps = getBaseProps(restProps);\n  const className = clsx(baseProps.className, styles.root);\n  const i18n = useInternalI18n('[charts]');\n\n  const defaultOptions = series.map((d, i) => ({\n    label: d.label,\n    value: '' + i,\n    datum: d.datum,\n    __customIcon: (\n      <span className={styles['custom-icon-wrapper']}>\n        <SeriesMarker color={d.color} type={d.type} />\n      </span>\n    ),\n  }));\n\n  const selectedOptions = defaultOptions.filter(option => selectedSeries?.indexOf(option.datum) !== -1);\n\n  const updateSelection = useCallback<NonCancelableEventHandler<MultiselectProps.MultiselectChangeDetail>>(\n    ({ detail: { selectedOptions } }) => {\n      const selectedSeries = defaultOptions\n        .filter(option => selectedOptions.indexOf(option) !== -1)\n        .map(option => option.datum);\n      onChange(selectedSeries);\n    },\n    [onChange, defaultOptions]\n  );\n\n  return (\n    <InternalFormField\n      {...baseProps}\n      label={i18n('i18nStrings.filterLabel', i18nStrings?.filterLabel)}\n      className={className}\n    >\n      <InternalMultiselect\n        placeholder={i18n('i18nStrings.filterPlaceholder', i18nStrings?.filterPlaceholder)}\n        options={defaultOptions}\n        selectedOptions={selectedOptions}\n        onChange={updateSelection}\n        className={styles['chart-filter']}\n        selectedAriaLabel={i18nStrings?.filterSelectedAriaLabel}\n        hideTokens={true}\n      />\n    </InternalFormField>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"marker\": \"awsui_marker_1kjc7_xlzpw_97\",\n  \"root\": \"awsui_root_1kjc7_xlzpw_115\",\n  \"title\": \"awsui_title_1kjc7_xlzpw_153\",\n  \"list\": \"awsui_list_1kjc7_xlzpw_157\",\n  \"marker--dimmed\": \"awsui_marker--dimmed_1kjc7_xlzpw_206\",\n  \"marker--highlighted\": \"awsui_marker--highlighted_1kjc7_xlzpw_209\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport clsx from 'clsx';\nimport React, { useRef, memo } from 'react';\n\nimport InternalBox from '../../../box/internal';\nimport { KeyCode } from '../../keycode';\nimport SeriesMarker, { ChartSeriesMarkerType } from '../chart-series-marker';\nimport styles from './styles.css.js';\nimport { useInternalI18n } from '../../../i18n/context';\nimport handleKey from '../../utils/handle-key';\n\nexport interface ChartLegendItem<T> {\n  label: string;\n  color: string;\n  type: ChartSeriesMarkerType;\n  datum: T;\n}\n\nexport interface ChartLegendProps<T> {\n  series: ReadonlyArray<ChartLegendItem<T>>;\n  highlightedSeries: T | null;\n  legendTitle?: string;\n  ariaLabel?: string;\n  plotContainerRef?: React.RefObject<HTMLDivElement>;\n  onHighlightChange: (series: T | null) => void;\n}\n\nexport default memo(ChartLegend) as typeof ChartLegend;\n\nfunction ChartLegend<T>({\n  series,\n  onHighlightChange,\n  highlightedSeries,\n  legendTitle,\n  ariaLabel,\n  plotContainerRef,\n}: ChartLegendProps<T>) {\n  const i18n = useInternalI18n('[charts]');\n  const containerRef = useRef<HTMLDivElement>(null);\n  const segmentsRef = useRef<Record<number, HTMLElement>>([]);\n\n  const highlightedSeriesIndex = findSeriesIndex(series, highlightedSeries);\n\n  const highlightInlineStart = () => {\n    const currentIndex = highlightedSeriesIndex ?? 0;\n    const nextIndex = currentIndex - 1 >= 0 ? currentIndex - 1 : series.length - 1;\n    segmentsRef.current[nextIndex]?.focus();\n  };\n\n  const highlightInlineEnd = () => {\n    const currentIndex = highlightedSeriesIndex ?? 0;\n    const nextIndex = currentIndex + 1 < series.length ? currentIndex + 1 : 0;\n    segmentsRef.current[nextIndex]?.focus();\n  };\n\n  const handleKeyPress = (event: React.KeyboardEvent<HTMLElement>) => {\n    if (event.keyCode === KeyCode.right || event.keyCode === KeyCode.left) {\n      // Preventing default fixes an issue in Safari+VO when VO additionally interprets arrow keys as its commands.\n      event.preventDefault();\n\n      handleKey(event, {\n        onInlineStart: () => highlightInlineStart(),\n        onInlineEnd: () => highlightInlineEnd(),\n      });\n    }\n  };\n\n  const handleSelection = (index: number) => {\n    if (series[index].datum !== highlightedSeries) {\n      onHighlightChange(series[index].datum);\n    }\n  };\n\n  const handleBlur = (event: React.FocusEvent<Element>) => {\n    // We need to check if the next element to be focused inside the plot container or not\n    // so we don't clear the selected legend in case we are still focusing elements ( legend elements )\n    // inside the plot container\n    if (\n      event.relatedTarget === null ||\n      (containerRef.current &&\n        !containerRef.current.contains(event.relatedTarget) &&\n        !plotContainerRef?.current?.contains(event.relatedTarget))\n    ) {\n      onHighlightChange(null);\n    }\n  };\n\n  const handleMouseOver = (s: T) => {\n    if (s !== highlightedSeries) {\n      onHighlightChange(s);\n    }\n  };\n\n  const handleMouseLeave = () => {\n    onHighlightChange(null);\n  };\n\n  return (\n    <>\n      <div\n        ref={containerRef}\n        role=\"toolbar\"\n        aria-label={legendTitle || i18n('i18nStrings.legendAriaLabel', ariaLabel)}\n        className={styles.root}\n        onKeyDown={handleKeyPress}\n        onBlur={handleBlur}\n      >\n        {legendTitle && (\n          <InternalBox fontWeight=\"bold\" className={styles.title}>\n            {legendTitle}\n          </InternalBox>\n        )}\n\n        <div className={styles.list}>\n          {series.map((s, index) => {\n            const someHighlighted = highlightedSeries !== null;\n            const isHighlighted = highlightedSeries === s.datum;\n            const isDimmed = someHighlighted && !isHighlighted;\n            return (\n              <div\n                role=\"button\"\n                key={index}\n                aria-pressed={isHighlighted}\n                className={clsx(styles.marker, {\n                  [styles['marker--dimmed']]: isDimmed,\n                  [styles['marker--highlighted']]: isHighlighted,\n                })}\n                ref={elem => {\n                  if (elem) {\n                    segmentsRef.current[index] = elem;\n                  } else {\n                    delete segmentsRef.current[index];\n                  }\n                }}\n                tabIndex={\n                  index === highlightedSeriesIndex || (highlightedSeriesIndex === undefined && index === 0) ? 0 : -1\n                }\n                onFocus={() => handleSelection(index)}\n                onClick={() => handleSelection(index)}\n                onMouseOver={() => handleMouseOver(s.datum)}\n                onMouseLeave={handleMouseLeave}\n              >\n                <SeriesMarker color={s.color} type={s.type} /> {s.label}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </>\n  );\n}\n\nfunction findSeriesIndex<T>(series: ReadonlyArray<ChartLegendItem<T>>, targetSeries: null | T): undefined | number {\n  for (let index = 0; index < series.length; index++) {\n    if (series[index].datum === targetSeries) {\n      return index;\n    }\n  }\n  return undefined;\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1fcus_1ncqp_97\",\n  \"clickable\": \"awsui_clickable_1fcus_1ncqp_106\",\n  \"precise\": \"awsui_precise_1fcus_1ncqp_110\",\n  \"focus-outline\": \"awsui_focus-outline_1fcus_1ncqp_114\",\n  \"application\": \"awsui_application_1fcus_1ncqp_123\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, useCallback, useEffect, useImperativeHandle, useRef, useState } from 'react';\nimport styles from './styles.css.js';\n\nexport interface ApplicationRef {\n  focus(): void;\n}\n\nexport interface ApplicationControllerProps {\n  activeElementKey: null | string | number | boolean;\n  activeElementRef?: React.RefObject<SVGGElement>;\n  onFocus?: (event: React.FocusEvent<SVGGElement>) => void;\n  onBlur?: (event: React.FocusEvent<SVGGElement>) => void;\n  onKeyDown?: (event: React.KeyboardEvent<SVGGElement>) => void;\n}\n\nexport default forwardRef(ApplicationController);\n\nfunction ApplicationController(\n  { activeElementKey, activeElementRef, onFocus, onBlur, onKeyDown }: ApplicationControllerProps,\n  ref: React.Ref<ApplicationRef>\n) {\n  const containerRef = useRef<SVGGElement>(null);\n  const applicationRef = useRef<SVGGElement>(null);\n  const focusTransitionRef = useRef(false);\n  const [isFocused, setFocused] = useState(false);\n\n  // Calls provided onFocus handler when the application obtains focus, ignoring internal focus juggling.\n  const onApplicationFocus = useCallback(\n    (event: React.FocusEvent<SVGGElement>) => {\n      if (focusTransitionRef.current === false) {\n        setFocused(true);\n        onFocus && onFocus(event);\n      } else {\n        focusTransitionRef.current = false;\n      }\n    },\n    [onFocus]\n  );\n  // Calls provided onBlur handler when the application loses focus, ignoring internal focus juggling.\n  const onApplicationBlur = useCallback(\n    (event: React.FocusEvent<SVGGElement>) => {\n      if (focusTransitionRef.current === false) {\n        setFocused(false);\n        onBlur && onBlur(event);\n        // The application controller can only be focused programmatically.\n        muteApplication(applicationRef.current!);\n      }\n    },\n    [onBlur]\n  );\n  const onApplicationKeyDown = onKeyDown;\n\n  useImperativeHandle(\n    ref,\n    () => ({\n      focus: () => focusApplication(applicationRef.current!, activeElementRef?.current || null),\n    }),\n    [activeElementRef]\n  );\n\n  // Re-attaches and re-focuses the application for screen readers to treat it as an update.\n  useEffect(() => {\n    // Skip if not focused or if the transition is already happening.\n    if (!isFocused || focusTransitionRef.current === true) {\n      return;\n    }\n    focusTransitionRef.current = true;\n    containerRef.current!.removeChild(applicationRef.current!);\n    containerRef.current!.appendChild(applicationRef.current!);\n    focusApplication(applicationRef.current!, activeElementRef?.current || null);\n  }, [isFocused, activeElementKey, activeElementRef]);\n\n  return (\n    <g ref={containerRef}>\n      <g\n        tabIndex={-1}\n        ref={applicationRef}\n        onFocus={onApplicationFocus}\n        onBlur={onApplicationBlur}\n        onKeyDown={onApplicationKeyDown}\n        className={styles.application}\n      ></g>\n    </g>\n  );\n}\n\n// Focuses application but before copies aria-attributes from the target.\nfunction focusApplication(app: SVGGElement, target: null | SVGGElement) {\n  // Remove prev attributes.\n  for (const attributeName of app.getAttributeNames()) {\n    if (attributeName === 'role' || attributeName.slice(0, 4) === 'aria') {\n      app.removeAttribute(attributeName);\n    }\n  }\n\n  // Copy new attributes.\n  if (target) {\n    for (const attributeName of target.getAttributeNames()) {\n      if (attributeName === 'role' || attributeName.slice(0, 4) === 'aria') {\n        const attributeValue = target.getAttribute(attributeName);\n        attributeValue && app.setAttribute(attributeName, attributeValue);\n      }\n    }\n  }\n\n  // Make app focusable.\n  app.tabIndex = 0;\n  app.setAttribute('focusable', 'true');\n  app.setAttribute('aria-hidden', 'false');\n\n  // Focus app.\n  app.focus({ preventScroll: true });\n}\n\n// The application is to be only focused programmatically.\nfunction muteApplication(app: SVGGElement) {\n  // Remove prev attributes.\n  for (const attributeName of app.getAttributeNames()) {\n    if (attributeName === 'role' || attributeName.slice(0, 4) === 'aria') {\n      app.removeAttribute(attributeName);\n    }\n  }\n\n  // Make app non-focusable.\n  app.tabIndex = -1;\n  app.setAttribute('focusable', 'false');\n  app.setAttribute('aria-hidden', 'true');\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport styles from './styles.css.js';\nimport { Offset } from '../interfaces';\nimport { isModifierKey } from '../../hooks/focus-visible';\n\nexport interface FocusOutlineProps {\n  elementKey?: null | string | number | boolean;\n  elementRef?: React.RefObject<SVGSVGElement | SVGGElement>;\n  offset?: Offset;\n}\n\nfunction useFocusVisibleState() {\n  const [focusVisible, setFocusVisible] = useState(false);\n  useEffect(() => {\n    function handleMousedown() {\n      return setFocusVisible(false);\n    }\n\n    function handleKeydown(event: KeyboardEvent) {\n      // we do not want to highlight focused element\n      // when special keys are pressed\n      if (!isModifierKey(event)) {\n        setFocusVisible(true);\n      }\n    }\n\n    document.addEventListener('mousedown', handleMousedown);\n    document.addEventListener('keydown', handleKeydown);\n    return () => {\n      document.removeEventListener('mousedown', handleMousedown);\n      document.removeEventListener('keydown', handleKeydown);\n    };\n  });\n\n  return focusVisible;\n}\n\nexport default function FocusOutline({ elementKey, elementRef, offset = 0 }: FocusOutlineProps) {\n  const ref = useRef<SVGRectElement>(null);\n  const focusVisible = useFocusVisibleState();\n\n  useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n\n    if (focusVisible && elementKey && elementRef && elementRef.current && elementRef.current.getBBox) {\n      const element = elementRef.current.getBBox();\n      showOutline(ref.current, element, offset);\n    } else {\n      hideOutline(ref.current);\n    }\n  }, [focusVisible, elementKey, elementRef, offset]);\n\n  return <rect ref={ref} aria-hidden=\"true\" className={styles['focus-outline']} rx=\"2\" />;\n}\n\nfunction showOutline(\n  el: SVGRectElement,\n  position: { x: number; y: number; width: number; height: number },\n  offset: Offset\n) {\n  const offsetX = typeof offset === 'number' ? offset : offset.x;\n  const offsetY = typeof offset === 'number' ? offset : offset.y;\n  el.setAttribute('x', (position.x - offsetX).toString());\n  el.setAttribute('y', (position.y - offsetY).toString());\n  el.setAttribute('width', (position.width + 2 * offsetX).toString());\n  el.setAttribute('height', (position.height + 2 * offsetY).toString());\n  el.style.visibility = 'visible';\n}\n\nfunction hideOutline(el: SVGRectElement) {\n  el.style.visibility = 'hidden';\n  el.removeAttribute('x');\n  el.removeAttribute('y');\n  el.removeAttribute('width');\n  el.removeAttribute('height');\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, useImperativeHandle, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport styles from './styles.css.js';\nimport { useUniqueId } from '../../hooks/use-unique-id';\n\nimport { KeyCode } from '../../keycode';\nimport LiveRegion from '../live-region/index';\nimport ApplicationController, { ApplicationRef } from './application-controller';\nimport FocusOutline from './focus-outline';\nimport { Offset } from '../interfaces';\nimport { useInternalI18n } from '../../../i18n/context';\n\nconst DEFAULT_PLOT_FOCUS_OFFSET = 3;\nconst DEFAULT_ELEMENT_FOCUS_OFFSET = 3;\n\nexport interface ChartPlotRef {\n  svg: SVGSVGElement;\n  focusPlot(): void;\n  focusApplication(): void;\n}\n\nexport interface ChartPlotProps {\n  width: number | string;\n  height: number | string;\n  transform?: string;\n  offsetTop?: number;\n  offsetBottom?: number;\n  offsetLeft?: number;\n  offsetRight?: number;\n  focusOffset?: number;\n  ariaLabel?: string;\n  ariaLabelledby?: string;\n  ariaDescription?: string;\n  ariaDescribedby?: string;\n  ariaRoleDescription?: string;\n  activeElementKey?: null | string | number | boolean;\n  activeElementRef?: React.RefObject<SVGGElement>;\n  activeElementFocusOffset?: Offset;\n  ariaLiveRegion?: string;\n  isClickable?: boolean;\n  isPrecise?: boolean;\n  onClick?: (event: React.MouseEvent<SVGSVGElement>) => void;\n  onMouseMove?: (event: React.MouseEvent<SVGSVGElement>) => void;\n  onMouseOut?: (event: React.MouseEvent<SVGSVGElement>) => void;\n  onApplicationFocus?: (event: React.FocusEvent<SVGGElement>, trigger: 'mouse' | 'keyboard') => void;\n  onApplicationBlur?: (event: React.FocusEvent<SVGGElement>) => void;\n  onKeyDown?: (event: React.KeyboardEvent<SVGGElement>) => void;\n  children: React.ReactNode;\n}\n\n/**\n  An extension for the SVG to be used for charts. It includes a controller element to\n  handle the focus and keyboard interactions in a way that is supported by screen readers.\n\n  The application mimics the aria-activedescendant behavior which is unsupported by Safari. The\n  activeElementRef is the pointer to the secondary-focus element and activeElementKey denotes when\n  the focus transition was made.\n\n  Alternatively, ariaLiveRegion can be used to make announcements.\n*/\nexport default forwardRef(ChartPlot);\n\nfunction ChartPlot(\n  {\n    width,\n    height,\n    transform,\n    offsetTop,\n    offsetBottom,\n    offsetLeft,\n    offsetRight,\n    ariaLabel,\n    ariaLabelledby,\n    ariaRoleDescription,\n    ariaDescription,\n    ariaDescribedby,\n    activeElementKey,\n    activeElementRef,\n    ariaLiveRegion,\n    isClickable,\n    isPrecise,\n    children,\n    onClick,\n    onKeyDown,\n    focusOffset = DEFAULT_PLOT_FOCUS_OFFSET,\n    activeElementFocusOffset = DEFAULT_ELEMENT_FOCUS_OFFSET,\n    onMouseMove,\n    onMouseOut,\n    onApplicationBlur,\n    onApplicationFocus,\n  }: ChartPlotProps,\n  ref: React.Ref<ChartPlotRef>\n) {\n  const i18n = useInternalI18n('[charts]');\n  const svgRef = useRef<SVGSVGElement>(null);\n  const applicationRef = useRef<ApplicationRef>(null);\n  const plotClickedRef = useRef(false);\n  const [isPlotFocused, setPlotFocused] = useState(false);\n  const [isApplicationFocused, setApplicationFocused] = useState(false);\n\n  const internalDescriptionId = useUniqueId('awsui-chart-plot__description');\n  const ariaDescriptionId = [ariaDescription && internalDescriptionId, ariaDescribedby].filter(Boolean).join(' ');\n\n  useImperativeHandle(ref, () => ({\n    svg: svgRef.current!,\n    focusPlot: () => svgRef.current!.focus(),\n    focusApplication: () => applicationRef.current!.focus(),\n  }));\n\n  const onPlotMouseDown = () => {\n    // Record the click was made for the application focus handler.\n    plotClickedRef.current = true;\n  };\n  const onPlotFocus = (event: React.FocusEvent<SVGSVGElement>) => {\n    // If focused via click or an element was highlighted,\n    // focus the internal application, which will manage and show focus accordingly on its internal elements.\n    if (plotClickedRef.current || !!activeElementKey) {\n      applicationRef.current!.focus();\n    } else if (event.target === svgRef.current) {\n      // Otherwise, focus the entire plot if it was focused with the keyboard.\n      setPlotFocused(true);\n    }\n  };\n  const onPlotClick = (event: React.MouseEvent<SVGSVGElement, MouseEvent>) => {\n    onClick && onClick(event);\n  };\n  const onPlotBlur = (event: React.FocusEvent<SVGSVGElement>) => {\n    if (event.target === svgRef.current) {\n      setPlotFocused(false);\n    }\n  };\n  // Once one of the expected keys is pressed the focus is delegated to the application controller.\n  const onPlotKeyDown = (event: React.KeyboardEvent) => {\n    if (isPlotFocused) {\n      // Delegate the focus to the application if one of the expected keys was pressed.\n      const codes = [KeyCode.space, KeyCode.enter, KeyCode.up, KeyCode.left, KeyCode.right, KeyCode.down];\n      if (codes.indexOf(event.keyCode) !== -1) {\n        applicationRef.current!.focus();\n      }\n    }\n  };\n\n  const onPlotApplicationFocus = (event: React.FocusEvent<SVGGElement>) => {\n    onApplicationFocus && onApplicationFocus(event, plotClickedRef.current ? 'mouse' : 'keyboard');\n    // \"Release\" the click reference to not affect the next call of this handler.\n    plotClickedRef.current = false;\n    setApplicationFocused(true);\n  };\n  const onPlotApplicationBlur = (event: React.FocusEvent<SVGGElement>) => {\n    onApplicationBlur && onApplicationBlur(event);\n    setApplicationFocused(false);\n  };\n  const onApplicationKeyDown = onKeyDown;\n\n  const plotFocusable = !isApplicationFocused;\n  const plotTabIndex = plotFocusable ? 0 : -1;\n  const plotAria = !isApplicationFocused\n    ? {\n        'aria-label': ariaLabel,\n        'aria-labelledby': ariaLabelledby,\n        'aria-describedby': ariaDescriptionId,\n        'aria-roledescription': i18n('i18nStrings.chartAriaRoleDescription', ariaRoleDescription),\n      }\n    : {};\n\n  return (\n    <>\n      <svg\n        onMouseMove={onMouseMove}\n        onMouseOut={onMouseOut}\n        focusable={plotFocusable}\n        tabIndex={plotTabIndex}\n        role=\"application\"\n        aria-hidden=\"false\"\n        {...plotAria}\n        ref={svgRef}\n        style={{\n          width,\n          height,\n          marginTop: offsetTop,\n          marginBottom: offsetBottom,\n          marginLeft: offsetLeft,\n          marginRight: offsetRight,\n        }}\n        className={clsx(styles.root, {\n          [styles.clickable]: isClickable,\n          [styles.precise]: isPrecise,\n        })}\n        onMouseDown={onPlotMouseDown}\n        onClick={onPlotClick}\n        onFocus={onPlotFocus}\n        onBlur={onPlotBlur}\n        onKeyDown={onPlotKeyDown}\n      >\n        <FocusOutline elementRef={svgRef} elementKey={isPlotFocused} offset={focusOffset} />\n\n        <g transform={transform}>\n          <ApplicationController\n            activeElementKey={(isApplicationFocused && activeElementKey) || null}\n            activeElementRef={activeElementRef}\n            ref={applicationRef}\n            onFocus={onPlotApplicationFocus}\n            onBlur={onPlotApplicationBlur}\n            onKeyDown={onApplicationKeyDown}\n          />\n\n          {/* Only show description when plot is focusable to avoid repetition in Safari and Firefox */}\n          {ariaDescription && plotFocusable && (\n            <desc aria-hidden=\"true\" id={internalDescriptionId}>\n              {ariaDescription}\n            </desc>\n          )}\n\n          {children}\n\n          <FocusOutline\n            elementRef={activeElementRef}\n            elementKey={isApplicationFocused && activeElementKey}\n            offset={activeElementFocusOffset}\n          />\n        </g>\n      </svg>\n\n      <LiveRegion>{ariaLiveRegion}</LiveRegion>\n    </>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1t8ew_fiatb_9\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport styles from './styles.css.js';\n\nexport default function ChartPopoverFooter({ children }: { children: React.ReactNode }) {\n  return <div className={styles.root}>{children}</div>;\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_1t44z_1u1ur_97\",\n  \"hover-area\": \"awsui_hover-area_1t44z_1u1ur_133\",\n  \"popover-body\": \"awsui_popover-body_1t44z_1u1ur_141\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef } from 'react';\nimport clsx from 'clsx';\nimport { nodeContains } from '@cloudscape-design/component-toolkit/dom';\n\nimport { getBaseProps } from '../../base-component';\n\nimport { PopoverProps } from '../../../popover/interfaces';\nimport PopoverContainer from '../../../popover/container';\nimport PopoverBody from '../../../popover/body';\nimport popoverStyles from '../../../popover/styles.css.js';\nimport { useMergeRefs } from '../../hooks/use-merge-refs';\n\nimport styles from './styles.css.js';\nimport { nodeBelongs } from '../../utils/node-belongs';\n\nexport interface ChartPopoverProps extends PopoverProps {\n  /** Title of the popover */\n  title?: React.ReactNode;\n\n  /** References the element the container is positioned against. */\n  trackRef: React.RefObject<HTMLElement | SVGElement>;\n  /**\n    Used to update the container position in case track or track position changes:\n    \n    const trackRef = useRef<Element>(null)\n    return (<>\n      <Track style={getPosition(selectedItemId)} ref={trackRef} />\n      <PopoverContainer trackRef={trackRef} trackKey={selectedItemId} .../>\n    </>)\n  */\n  trackKey?: string | number;\n\n  /** Optional container element that prevents any clicks in there from dismissing the popover */\n  container: Element | null;\n\n  /** Event that is fired when the popover is dismissed */\n  onDismiss: (outsideClick?: boolean) => void;\n\n  /** Fired when the pointer enters the hoverable area around the popover */\n  onMouseEnter?: (event: React.MouseEvent) => void;\n\n  /** Fired when the pointer leaves the hoverable area around the popover */\n  onMouseLeave?: (event: React.MouseEvent) => void;\n\n  onBlur?: (event: React.FocusEvent) => void;\n\n  /** Popover content */\n  children?: React.ReactNode;\n}\n\nexport default React.forwardRef(ChartPopover);\n\nfunction ChartPopover(\n  {\n    position = 'right',\n    size = 'medium',\n    fixedWidth = false,\n    dismissButton = false,\n    dismissAriaLabel,\n\n    children,\n\n    title,\n    trackRef,\n    trackKey,\n    onDismiss,\n    container,\n\n    onMouseEnter,\n    onMouseLeave,\n    onBlur,\n\n    ...restProps\n  }: ChartPopoverProps,\n  ref: React.Ref<HTMLElement>\n) {\n  const baseProps = getBaseProps(restProps);\n  const popoverObjectRef = useRef<HTMLDivElement | null>(null);\n\n  const popoverRef = useMergeRefs(popoverObjectRef, ref);\n\n  useEffect(() => {\n    const onDocumentClick = (event: MouseEvent) => {\n      if (\n        event.target &&\n        !nodeBelongs(popoverObjectRef.current, event.target as Element) && // click not in popover\n        !nodeContains(container, event.target as Element) // click not in segment\n      ) {\n        onDismiss(true);\n      }\n    };\n\n    document.addEventListener('mousedown', onDocumentClick, { capture: true });\n    return () => {\n      document.removeEventListener('mousedown', onDocumentClick, { capture: true });\n    };\n  }, [container, onDismiss]);\n\n  // In chart popovers, dismiss button is present when they are pinned, so both values are equivalent.\n  const isPinned = dismissButton;\n\n  return (\n    <div\n      {...baseProps}\n      className={clsx(popoverStyles.root, styles.root, baseProps.className)}\n      ref={popoverRef}\n      onMouseEnter={onMouseEnter}\n      onMouseLeave={onMouseLeave}\n      onBlur={onBlur}\n      // The tabIndex makes it so that clicking inside popover assigns this element as blur target.\n      // That is necessary in charts to ensure the blur target is within the chart and no cleanup is needed.\n      tabIndex={-1}\n    >\n      <PopoverContainer\n        size={size}\n        fixedWidth={fixedWidth}\n        position={position}\n        trackRef={trackRef}\n        trackKey={trackKey}\n        arrow={position => (\n          <div className={clsx(popoverStyles.arrow, popoverStyles[`arrow-position-${position}`])}>\n            <div className={popoverStyles['arrow-outer']} />\n            <div className={popoverStyles['arrow-inner']} />\n          </div>\n        )}\n        keepPosition={true}\n        allowVerticalOverflow={true}\n        allowScrollToFit={isPinned}\n      >\n        <div className={styles['hover-area']}>\n          <PopoverBody\n            dismissButton={dismissButton}\n            dismissAriaLabel={dismissAriaLabel}\n            header={title}\n            onDismiss={onDismiss}\n            overflowVisible=\"content\"\n            className={styles['popover-body']}\n          >\n            {children}\n          </PopoverBody>\n        </div>\n      </PopoverContainer>\n    </div>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"dimmed\": \"awsui_dimmed_10ipo_1uqhm_97\",\n  \"marker\": \"awsui_marker_10ipo_1uqhm_148\",\n  \"marker--line\": \"awsui_marker--line_10ipo_1uqhm_191\",\n  \"marker--rectangle\": \"awsui_marker--rectangle_10ipo_1uqhm_195\",\n  \"marker--hollow-rectangle\": \"awsui_marker--hollow-rectangle_10ipo_1uqhm_202\",\n  \"marker--dashed\": \"awsui_marker--dashed_10ipo_1uqhm_218\",\n  \"root\": \"awsui_root_10ipo_1uqhm_241\",\n  \"value\": \"awsui_value_10ipo_1uqhm_276\",\n  \"expandable\": \"awsui_expandable_10ipo_1uqhm_280\",\n  \"list-item\": \"awsui_list-item_10ipo_1uqhm_284\",\n  \"inner-list-item\": \"awsui_inner-list-item_10ipo_1uqhm_285\",\n  \"key-value-pair\": \"awsui_key-value-pair_10ipo_1uqhm_290\",\n  \"expandable-section\": \"awsui_expandable-section_10ipo_1uqhm_291\",\n  \"key\": \"awsui_key_10ipo_1uqhm_290\",\n  \"sub-items\": \"awsui_sub-items_10ipo_1uqhm_304\",\n  \"list\": \"awsui_list_10ipo_1uqhm_284\",\n  \"compact\": \"awsui_compact_10ipo_1uqhm_330\",\n  \"with-sub-items\": \"awsui_with-sub-items_10ipo_1uqhm_335\",\n  \"full-width\": \"awsui_full-width_10ipo_1uqhm_340\",\n  \"announced\": \"awsui_announced_10ipo_1uqhm_344\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef, memo, ReactNode, useEffect, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { BaseComponentProps, getBaseProps } from '../../base-component';\nimport ChartSeriesMarker, { ChartSeriesMarkerType } from '../chart-series-marker';\nimport styles from './styles.css.js';\nimport InternalExpandableSection from '../../../expandable-section/internal';\nimport getSeriesDetailsText from './series-details-text';\nimport { useMergeRefs } from '../../hooks/use-merge-refs';\n\ninterface ChartDetailPair {\n  key: ReactNode;\n  value: ReactNode;\n}\n\ninterface ListItemProps {\n  itemKey: ReactNode;\n  value: ReactNode;\n  subItems?: ReadonlyArray<ChartDetailPair>;\n  markerType?: ChartSeriesMarkerType;\n  color?: string;\n}\n\nexport interface ChartSeriesDetailItem extends ChartDetailPair {\n  markerType?: ChartSeriesMarkerType;\n  color?: string;\n  isDimmed?: boolean;\n  subItems?: ReadonlyArray<ChartDetailPair>;\n  expandableId?: string;\n}\nexport type ExpandedSeries = Set<string>;\n\nexport interface ChartSeriesDetailsProps extends BaseComponentProps {\n  details: ReadonlyArray<ChartSeriesDetailItem>;\n  expandedSeries?: ExpandedSeries;\n  setPopoverText?: (s: string) => void;\n  setExpandedState?: (seriesTitle: string, state: boolean) => void;\n  compactList?: boolean;\n}\n\nexport default memo(forwardRef(ChartSeriesDetails));\n\nfunction ChartSeriesDetails(\n  { details, expandedSeries, setPopoverText, setExpandedState, compactList, ...restProps }: ChartSeriesDetailsProps,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const baseProps = getBaseProps(restProps);\n  const className = clsx(baseProps.className, styles.root);\n  const detailsRef = useRef<HTMLDivElement | null>(null);\n  const mergedRef = useMergeRefs(ref, detailsRef);\n\n  // Once the component has rendered, pass its content in plain text\n  // so that it can be used by screen readers.\n  useEffect(() => {\n    if (setPopoverText) {\n      if (detailsRef.current) {\n        setPopoverText(getSeriesDetailsText(detailsRef.current));\n      }\n      return () => {\n        setPopoverText('');\n      };\n    }\n  }, [details, setPopoverText]);\n\n  const isExpanded = (seriesTitle: string) => !!expandedSeries && expandedSeries.has(seriesTitle);\n\n  return (\n    <div {...baseProps} className={className} ref={mergedRef}>\n      <ul className={clsx(styles.list, compactList && styles.compact)}>\n        {details.map(({ key, value, markerType, color, isDimmed, subItems, expandableId }, index) => (\n          <li\n            key={index}\n            className={clsx({\n              [styles.dimmed]: isDimmed,\n              [styles['list-item']]: true,\n              [styles['with-sub-items']]: subItems?.length,\n              [styles.expandable]: !!expandableId,\n            })}\n          >\n            {subItems?.length && !!expandableId ? (\n              <ExpandableSeries\n                itemKey={key}\n                value={value}\n                markerType={markerType}\n                color={color}\n                subItems={subItems}\n                expanded={isExpanded(expandableId)}\n                setExpandedState={state => setExpandedState && setExpandedState(expandableId, state)}\n              />\n            ) : (\n              <NonExpandableSeries\n                itemKey={key}\n                value={value}\n                markerType={markerType}\n                color={color}\n                subItems={subItems}\n              />\n            )}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nfunction SubItems({\n  items,\n  expandable,\n  expanded,\n}: {\n  items: ReadonlyArray<ChartDetailPair>;\n  expandable?: boolean;\n  expanded?: boolean;\n}) {\n  return (\n    <ul className={clsx(styles['sub-items'], expandable && styles.expandable)}>\n      {items.map(({ key, value }, index) => (\n        <li\n          key={index}\n          className={clsx(\n            styles['inner-list-item'],\n            styles['key-value-pair'],\n            (expanded || !expandable) && styles.announced\n          )}\n        >\n          <span className={styles.key}>{key}</span>\n          <span className={styles.value}>{value}</span>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nfunction ExpandableSeries({\n  itemKey,\n  value,\n  subItems,\n  markerType,\n  color,\n  expanded,\n  setExpandedState,\n}: ListItemProps &\n  Required<Pick<ListItemProps, 'subItems'>> & {\n    expanded: boolean;\n    setExpandedState: (state: boolean) => void;\n  }) {\n  return (\n    <div className={styles['expandable-section']}>\n      {markerType && color && <ChartSeriesMarker type={markerType} color={color} />}\n      <div className={styles['full-width']}>\n        <InternalExpandableSection\n          variant=\"compact\"\n          headerText={itemKey}\n          headerActions={<span className={clsx(styles.value, styles.expandable)}>{value}</span>}\n          expanded={expanded}\n          onChange={({ detail }) => setExpandedState(detail.expanded)}\n        >\n          <SubItems items={subItems} expandable={true} expanded={expanded} />\n        </InternalExpandableSection>\n      </div>\n    </div>\n  );\n}\n\nfunction NonExpandableSeries({ itemKey, value, subItems, markerType, color }: ListItemProps) {\n  return (\n    <>\n      <div className={clsx(styles['key-value-pair'], styles.announced)}>\n        <div className={styles.key}>\n          {markerType && color && <ChartSeriesMarker type={markerType} color={color} />}\n          <span>{itemKey}</span>\n        </div>\n        <span className={styles.value}>{value}</span>\n      </div>\n      {subItems && <SubItems items={subItems} />}\n    </>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport styles from './styles.css.js';\nimport expandabeleSectionHeaderStyles from '../../../expandable-section/styles.css.js';\n\nexport default function getSeriesDetailsText(element: HTMLElement) {\n  const elementsWithText = Array.from(\n    element.querySelectorAll(`.${styles.announced},.${expandabeleSectionHeaderStyles.header}`)\n  );\n  return elementsWithText\n    .map(element => {\n      if (element instanceof HTMLElement) {\n        return element.innerText\n          ?.split('\\n')\n          .map(s => s.trim())\n          .join(' ')\n          .trim();\n      }\n    })\n    .filter(Boolean)\n    .join(', ');\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"marker\": \"awsui_marker_1isd1_1ums7_97\",\n  \"marker--line\": \"awsui_marker--line_1isd1_1ums7_140\",\n  \"marker--rectangle\": \"awsui_marker--rectangle_1isd1_1ums7_144\",\n  \"marker--hollow-rectangle\": \"awsui_marker--hollow-rectangle_1isd1_1ums7_151\",\n  \"marker--dashed\": \"awsui_marker--dashed_1isd1_1ums7_167\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo } from 'react';\nimport clsx from 'clsx';\n\nimport { BaseComponentProps } from '../../base-component';\nimport styles from './styles.css.js';\n\nexport type ChartSeriesMarkerType = 'line' | 'rectangle' | 'dashed' | 'hollow-rectangle';\n\ninterface ChartSeriesMarkerProps extends BaseComponentProps {\n  type: ChartSeriesMarkerType;\n  color: string;\n}\n\nexport default memo(ChartSeriesMarker);\n\nfunction ChartSeriesMarker({ type = 'line', color }: ChartSeriesMarkerProps) {\n  return (\n    <span\n      className={clsx(styles.marker, styles[`marker--${type}`])}\n      style={{ backgroundColor: color }}\n      aria-hidden=\"true\"\n    ></span>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"root\": \"awsui_root_11n0s_6tm6j_9\",\n  \"empty\": \"awsui_empty_11n0s_6tm6j_13\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useMemo } from 'react';\n\nimport { BaseComponentProps } from '../../base-component';\nimport { fireNonCancelableEvent, NonCancelableEventHandler } from '../../events';\nimport InternalStatusIndicator from '../../../status-indicator/internal';\nimport InternalLink from '../../../link/internal';\n\nimport styles from './styles.css.js';\nimport { useInternalI18n } from '../../../i18n/context';\n\ninterface ChartStatusContainerProps extends BaseComponentProps {\n  statusType: 'loading' | 'finished' | 'error';\n\n  empty?: React.ReactNode;\n  noMatch?: React.ReactNode;\n\n  loadingText?: string;\n  errorText?: string;\n  recoveryText?: string;\n\n  onRecoveryClick?: NonCancelableEventHandler;\n\n  // From `getChartStatus`\n  isEmpty?: boolean;\n  isNoMatch?: boolean;\n  showChart?: boolean;\n}\n\nexport function getChartStatus<T, U>({\n  externalData,\n  visibleData,\n  statusType,\n}: {\n  externalData: ReadonlyArray<T>;\n  visibleData: ReadonlyArray<U>;\n  statusType: 'loading' | 'finished' | 'error';\n}) {\n  const isEmpty = !visibleData || visibleData.length === 0;\n  const isNoMatch = isEmpty && visibleData.length !== externalData.length;\n  const showChart = statusType === 'finished' && !isEmpty;\n  return { isEmpty, isNoMatch, showChart };\n}\n\nexport default function ChartStatusContainer({\n  statusType,\n  errorText,\n  loadingText,\n  recoveryText,\n  noMatch,\n  empty,\n  onRecoveryClick,\n  isNoMatch,\n  isEmpty,\n  showChart,\n}: ChartStatusContainerProps) {\n  const i18n = useInternalI18n('[charts]');\n\n  const statusContainer = useMemo(() => {\n    const handleRecoveryClick = (event: CustomEvent) => {\n      event.preventDefault();\n      fireNonCancelableEvent(onRecoveryClick);\n    };\n    if (statusType === 'error') {\n      const renderedRecoveryText = i18n('recoveryText', recoveryText);\n      return (\n        <span>\n          <InternalStatusIndicator type=\"error\">{i18n('errorText', errorText)}</InternalStatusIndicator>{' '}\n          {!!renderedRecoveryText && !!onRecoveryClick && (\n            <InternalLink onFollow={handleRecoveryClick} variant=\"recovery\">\n              {renderedRecoveryText}\n            </InternalLink>\n          )}\n        </span>\n      );\n    }\n\n    if (statusType === 'loading') {\n      return <InternalStatusIndicator type=\"loading\">{i18n('loadingText', loadingText)}</InternalStatusIndicator>;\n    }\n\n    if (isNoMatch) {\n      return <div className={styles.empty}>{noMatch}</div>;\n    }\n\n    if (isEmpty) {\n      return <div className={styles.empty}>{empty}</div>;\n    }\n  }, [i18n, statusType, onRecoveryClick, isEmpty, isNoMatch, recoveryText, loadingText, errorText, empty, noMatch]);\n\n  return (\n    <div className={styles.root} aria-live=\"polite\" aria-atomic=\"true\">\n      {!showChart && statusContainer}\n    </div>\n  );\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"wrapper\": \"awsui_wrapper_z5mul_11r0q_97\",\n  \"wrapper--fit-height\": \"awsui_wrapper--fit-height_z5mul_11r0q_133\",\n  \"inner-wrapper--fit-height\": \"awsui_inner-wrapper--fit-height_z5mul_11r0q_138\",\n  \"has-default-filter\": \"awsui_has-default-filter_z5mul_11r0q_144\",\n  \"content\": \"awsui_content_z5mul_11r0q_148\",\n  \"content--reserve-filter\": \"awsui_content--reserve-filter_z5mul_11r0q_155\",\n  \"content--reserve-legend\": \"awsui_content--reserve-legend_z5mul_11r0q_159\",\n  \"content--fit-height\": \"awsui_content--fit-height_z5mul_11r0q_163\",\n  \"filter-container\": \"awsui_filter-container_z5mul_11r0q_167\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { forwardRef } from 'react';\nimport clsx from 'clsx';\n\nimport styles from './styles.css.js';\nimport { BaseComponentProps, getBaseProps } from '../../base-component/index.js';\nimport InternalBox from '../../../box/internal.js';\nimport InternalSpaceBetween from '../../../space-between/internal.js';\n\ninterface ChartWrapperProps extends BaseComponentProps {\n  fitHeight: boolean;\n  defaultFilter: React.ReactNode;\n  additionalFilters: React.ReactNode;\n  reserveFilterSpace: boolean;\n  reserveLegendSpace: boolean;\n  chartStatus: React.ReactNode;\n  chart: React.ReactNode;\n  legend: React.ReactNode;\n  onBlur?(event: React.FocusEvent): void;\n  contentClassName?: string;\n  contentMinHeight?: number;\n}\n\nexport const ChartWrapper = forwardRef(\n  (\n    {\n      defaultFilter,\n      additionalFilters,\n      reserveFilterSpace,\n      reserveLegendSpace,\n      chartStatus,\n      chart,\n      legend,\n      onBlur,\n      contentClassName,\n      contentMinHeight,\n      fitHeight,\n      ...props\n    }: ChartWrapperProps,\n    ref: React.Ref<HTMLDivElement>\n  ) => {\n    const baseProps = getBaseProps(props);\n\n    const filtersNode = (defaultFilter || additionalFilters) && (\n      <InternalBox className={styles['filter-container']} margin={{ bottom: 'l' }}>\n        <InternalSpaceBetween\n          size=\"l\"\n          direction=\"horizontal\"\n          className={clsx({ [styles['has-default-filter']]: !!defaultFilter })}\n        >\n          {defaultFilter}\n          {additionalFilters}\n        </InternalSpaceBetween>\n      </InternalBox>\n    );\n\n    const legendNode = legend && <InternalBox margin={{ top: 'm' }}>{legend}</InternalBox>;\n\n    if (fitHeight) {\n      return (\n        <div\n          ref={ref}\n          {...baseProps}\n          className={clsx(baseProps.className, styles.wrapper, styles['wrapper--fit-height'])}\n          onBlur={onBlur}\n        >\n          <div className={clsx(styles['inner-wrapper'], styles['inner-wrapper--fit-height'])}>\n            {filtersNode}\n\n            <div\n              className={clsx(styles.content, contentClassName, {\n                [styles['content--reserve-filter']]: reserveFilterSpace,\n                [styles['content--reserve-legend']]: reserveLegendSpace,\n                [styles['content--fit-height']]: true,\n              })}\n            >\n              {chartStatus}\n              {chart}\n            </div>\n\n            {legendNode}\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div ref={ref} {...baseProps} className={clsx(baseProps.className, styles.wrapper)} onBlur={onBlur}>\n        {filtersNode}\n\n        <div\n          className={clsx(styles.content, contentClassName, {\n            [styles['content--reserve-filter']]: reserveFilterSpace,\n            [styles['content--reserve-legend']]: reserveLegendSpace,\n          })}\n          style={{ minHeight: contentMinHeight }}\n        >\n          {chartStatus}\n          {chart}\n        </div>\n\n        {legendNode}\n      </div>\n    );\n  }\n);\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\n// Ignoring as unsupported in JSDom.\n/* istanbul ignore next */\nexport function getTextWidth(textNode: SVGTextElement) {\n  if (textNode.getComputedTextLength) {\n    return textNode.getComputedTextLength();\n  }\n  return -1;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useEffect, useRef } from 'react';\nimport { getTextWidth } from './responsive-text-utils';\nimport { getIsRtl } from '@cloudscape-design/component-toolkit/internal';\n\ninterface ResponsiveTextProps {\n  x: number;\n  y: number;\n  className?: string;\n  children: string;\n  maxWidth: number;\n}\n\nexport default memo(ResponsiveText);\n\nfunction ResponsiveText({ x, y, className, children, maxWidth }: ResponsiveTextProps) {\n  const textRef = useRef<SVGTextElement>(null);\n\n  // Determine the visible width of the text and if necessary truncate it until it fits.\n  useEffect(() => {\n    const isRtl = getIsRtl(textRef.current!);\n    renderTextContent(textRef.current!, children, maxWidth, isRtl);\n  }, [maxWidth, children]);\n\n  return (\n    <text ref={textRef} x={x} y={y} style={{ textAnchor: 'end' }} className={className}>\n      {children}\n    </text>\n  );\n}\n\nexport function renderTextContent(textNode: SVGTextElement, text: string, maxWidth: number, isRtl: boolean) {\n  let visibleLength = text.length;\n  while (visibleLength >= 0) {\n    textNode.textContent = truncateText(text, visibleLength, isRtl);\n\n    if (getTextWidth(textNode) <= maxWidth) {\n      return;\n    } else {\n      visibleLength--;\n    }\n  }\n}\n\nfunction truncateText(text: string, maxLength: number, isRtl: boolean) {\n  if (text.length === maxLength) {\n    return text;\n  }\n  if (isRtl) {\n    return text.slice(text.length - maxLength) + '…';\n  }\n  return text.slice(0, maxLength) + '…';\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { useResizeObserver } from '@cloudscape-design/component-toolkit/internal';\nimport { useCallback, useState } from 'react';\n\n/**\n * Conditional resize observer for border box height used in charts.\n */\nexport function useHeightMeasure(\n  getMeasure: () => null | HTMLElement | SVGElement,\n  skip = false,\n  deps: React.DependencyList = []\n) {\n  const [measuredHeight, setHeight] = useState(0);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const stableGetMeasure = useCallback(getMeasure, [...deps, skip]);\n  useResizeObserver(stableGetMeasure, entry => !skip && setHeight(entry.borderBoxHeight));\n  return !skip ? measuredHeight : undefined;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport * as tokens from '../generated/styles/tokens';\n\nexport const categoryPalette = [\n  tokens.colorChartsPaletteCategorical1,\n  tokens.colorChartsPaletteCategorical2,\n  tokens.colorChartsPaletteCategorical3,\n  tokens.colorChartsPaletteCategorical4,\n  tokens.colorChartsPaletteCategorical5,\n  tokens.colorChartsPaletteCategorical6,\n  tokens.colorChartsPaletteCategorical7,\n  tokens.colorChartsPaletteCategorical8,\n  tokens.colorChartsPaletteCategorical9,\n  tokens.colorChartsPaletteCategorical10,\n  tokens.colorChartsPaletteCategorical11,\n  tokens.colorChartsPaletteCategorical12,\n  tokens.colorChartsPaletteCategorical13,\n  tokens.colorChartsPaletteCategorical14,\n  tokens.colorChartsPaletteCategorical15,\n  tokens.colorChartsPaletteCategorical16,\n  tokens.colorChartsPaletteCategorical17,\n  tokens.colorChartsPaletteCategorical18,\n  tokens.colorChartsPaletteCategorical19,\n  tokens.colorChartsPaletteCategorical20,\n  tokens.colorChartsPaletteCategorical21,\n  tokens.colorChartsPaletteCategorical22,\n  tokens.colorChartsPaletteCategorical23,\n  tokens.colorChartsPaletteCategorical24,\n  tokens.colorChartsPaletteCategorical25,\n  tokens.colorChartsPaletteCategorical26,\n  tokens.colorChartsPaletteCategorical27,\n  tokens.colorChartsPaletteCategorical28,\n  tokens.colorChartsPaletteCategorical29,\n  tokens.colorChartsPaletteCategorical30,\n  tokens.colorChartsPaletteCategorical31,\n  tokens.colorChartsPaletteCategorical32,\n  tokens.colorChartsPaletteCategorical33,\n  tokens.colorChartsPaletteCategorical34,\n  tokens.colorChartsPaletteCategorical35,\n  tokens.colorChartsPaletteCategorical36,\n  tokens.colorChartsPaletteCategorical37,\n  tokens.colorChartsPaletteCategorical38,\n  tokens.colorChartsPaletteCategorical39,\n  tokens.colorChartsPaletteCategorical40,\n  tokens.colorChartsPaletteCategorical41,\n  tokens.colorChartsPaletteCategorical42,\n  tokens.colorChartsPaletteCategorical43,\n  tokens.colorChartsPaletteCategorical44,\n  tokens.colorChartsPaletteCategorical45,\n  tokens.colorChartsPaletteCategorical46,\n  tokens.colorChartsPaletteCategorical47,\n  tokens.colorChartsPaletteCategorical48,\n  tokens.colorChartsPaletteCategorical49,\n  tokens.colorChartsPaletteCategorical50,\n];\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { parseCssVariable } from './dom';\nimport { categoryPalette } from '../styles/colors';\nimport { colorChartsThresholdNeutral as thresholdColor } from '../generated/styles/tokens';\n\nexport default function createCategoryColorScale<T>(\n  items: readonly T[],\n  isThreshold: (item: T) => boolean = () => false,\n  getOwnColor: (item: T) => null | string = () => null\n): string[] {\n  const colors = [];\n\n  let categoryIndex = 0;\n  for (const it of items) {\n    const ownColor = getOwnColor(it);\n    const defaultColor = isThreshold(it) ? thresholdColor : categoryPalette[categoryIndex % categoryPalette.length];\n    colors.push(parseCssVariable(ownColor || defaultColor));\n\n    if (!isThreshold(it) && !ownColor) {\n      categoryIndex++;\n    }\n  }\n\n  return colors;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\nimport React from 'react';\n\nexport default function useContainerWidth(\n  defaultValue = 0,\n  threshold = 1\n): [width: number, ref: React.Ref<HTMLDivElement>] {\n  const [width, ref] = useContainerQuery<number>((rect, prev) => {\n    if (prev === null) {\n      return rect.contentBoxWidth;\n    }\n    return Math.abs(prev - rect.contentBoxWidth) >= threshold ? rect.contentBoxWidth : prev;\n  });\n\n  return [width ?? defaultValue, ref];\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","\n    import './styles.scoped.css';\n    export default {\n  \"segment__path\": \"awsui_segment__path_1edmh_14ng5_101\",\n  \"segment\": \"awsui_segment_1edmh_14ng5_101\",\n  \"segment__hover\": \"awsui_segment__hover_1edmh_14ng5_128\",\n  \"label\": \"awsui_label_1edmh_14ng5_142\",\n  \"root\": \"awsui_root_1edmh_14ng5_160\",\n  \"content\": \"awsui_content_1edmh_14ng5_164\",\n  \"content--small\": \"awsui_content--small_1edmh_14ng5_164\",\n  \"content--fit-height\": \"awsui_content--fit-height_1edmh_14ng5_167\",\n  \"content--without-labels\": \"awsui_content--without-labels_1edmh_14ng5_170\",\n  \"content--medium\": \"awsui_content--medium_1edmh_14ng5_176\",\n  \"content--large\": \"awsui_content--large_1edmh_14ng5_188\",\n  \"status-container\": \"awsui_status-container_1edmh_14ng5_205\",\n  \"chart-container\": \"awsui_chart-container_1edmh_14ng5_209\",\n  \"chart-container--fit-height\": \"awsui_chart-container--fit-height_1edmh_14ng5_213\",\n  \"chart-container-chart-plot\": \"awsui_chart-container-chart-plot_1edmh_14ng5_218\",\n  \"chart-container-chart-plot--fit-height\": \"awsui_chart-container-chart-plot--fit-height_1edmh_14ng5_221\",\n  \"inner-content\": \"awsui_inner-content_1edmh_14ng5_227\",\n  \"segment__highlight\": \"awsui_segment__highlight_1edmh_14ng5_238\",\n  \"segment--dimmed\": \"awsui_segment--dimmed_1edmh_14ng5_253\",\n  \"segment--highlighted\": \"awsui_segment--highlighted_1edmh_14ng5_256\",\n  \"label--dimmed\": \"awsui_label--dimmed_1edmh_14ng5_273\",\n  \"label--align-right\": \"awsui_label--align-right_1edmh_14ng5_276\",\n  \"label-text\": \"awsui_label-text_1edmh_14ng5_284\",\n  \"label__description\": \"awsui_label__description_1edmh_14ng5_292\",\n  \"label-line\": \"awsui_label-line_1edmh_14ng5_299\",\n  \"label--highlighted\": \"awsui_label--highlighted_1edmh_14ng5_303\",\n  \"popover-header\": \"awsui_popover-header_1edmh_14ng5_307\"\n};\n  ","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ComponentFormatFunction } from '../i18n/context';\nimport { PieChartProps } from './interfaces';\nimport styles from './styles.css.js';\n\nexport interface Dimension {\n  innerRadius: number;\n  outerRadius: number;\n  padding: number;\n  paddingLabels: number;\n  innerLabelPadding: number;\n  cornerRadius?: number;\n}\n\nconst minRadius = 30;\nconst paddingLabels = 44; // = 2 * (size-lineHeight-body-100)\nconst defaultPadding = 12; // = space-s\nconst smallPadding = 8; // = space-xs\nexport const minLabelLineAngularPadding = Math.PI / 20;\n\nexport const dimensionsBySize: Record<NonNullable<PieChartProps['size']>, Dimension> = {\n  small: {\n    innerRadius: 33,\n    outerRadius: 50,\n    innerLabelPadding: smallPadding,\n    padding: smallPadding,\n    paddingLabels,\n  },\n  medium: {\n    innerRadius: 66,\n    outerRadius: 100,\n    innerLabelPadding: defaultPadding,\n    padding: defaultPadding,\n    paddingLabels,\n  },\n  large: {\n    innerRadius: 93,\n    outerRadius: 140,\n    innerLabelPadding: defaultPadding,\n    padding: defaultPadding,\n    paddingLabels,\n  },\n};\n\nexport const refreshDimensionsBySize: Record<NonNullable<PieChartProps['size']>, Dimension> = {\n  small: {\n    ...dimensionsBySize.small,\n    innerRadius: 38,\n    cornerRadius: 3,\n  },\n  medium: {\n    ...dimensionsBySize.medium,\n    innerRadius: 75,\n    cornerRadius: 4,\n  },\n  large: {\n    ...dimensionsBySize.large,\n    innerRadius: 105,\n    cornerRadius: 5,\n  },\n};\n\n/**\n * When `size` is a string (\"small\", \"medium\" or \"large\") the predefined pie chart element dimensions for classic and visual refresh are used.\n * When `size` is a number the outer and inner radii are computed and the rest of the dimensions are taken from the closest predefined size.\n */\nexport function getDimensionsBySize({\n  size,\n  hasLabels,\n  visualRefresh,\n}: {\n  size: NonNullable<PieChartProps['size']> | number;\n  hasLabels: boolean;\n  visualRefresh?: boolean;\n}): Dimension & { size: NonNullable<PieChartProps['size']> } {\n  if (typeof size === 'string') {\n    const dimensions = visualRefresh ? refreshDimensionsBySize[size] : dimensionsBySize[size];\n    return { ...dimensions, size };\n  }\n  const sizeSpec = visualRefresh ? refreshDimensionsBySize : dimensionsBySize;\n  const getPixelSize = (d: Dimension) => d.outerRadius * 2 + d.padding * 2 + (hasLabels ? d.paddingLabels : 0) * 2;\n\n  let matchedSize: NonNullable<PieChartProps['size']> = 'small';\n  if (size > getPixelSize(sizeSpec.medium)) {\n    matchedSize = 'medium';\n  }\n  if (size > getPixelSize(sizeSpec.large)) {\n    matchedSize = 'large';\n  }\n\n  const padding = sizeSpec[matchedSize].padding;\n  const paddingLabels = hasLabels ? sizeSpec[matchedSize].paddingLabels : 0;\n  const radiiRatio = sizeSpec[matchedSize].outerRadius / sizeSpec[matchedSize].innerRadius;\n  const outerRadius = Math.max(minRadius, (size - 2 * paddingLabels - 2 * padding) / 2);\n  const innerRadius = outerRadius / radiiRatio;\n\n  return { ...sizeSpec[matchedSize], outerRadius, innerRadius, size: matchedSize };\n}\n\nexport const defaultDetails =\n  (i18n: ComponentFormatFunction<'pie-chart'>, i18nStrings: PieChartProps.I18nStrings) =>\n  (datum: PieChartProps.Datum, dataSum: number) => [\n    { key: i18n('i18nStrings.detailsValue', i18nStrings.detailsValue) || '', value: datum.value },\n    {\n      key: i18n('i18nStrings.detailsPercentage', i18nStrings.detailsPercentage) || '',\n      value: `${((datum.value * 100) / dataSum).toFixed(0)}%`,\n    },\n  ];\n\n/**\n * Adjusts the position of the given label nodes to avoid visual overlapping.\n * @param nodes List of label nodes of the entire chart (both left and right side)\n * @param markers Markers array that was calculated in <Labels>, but we just need the `endY` values\n * @param leftSide Boolean flag whether we are processing the left or right side of the chart labels\n */\nexport const balanceLabelNodes = (\n  nodes: NodeListOf<SVGGElement>,\n  markers: Array<{ endY: number; endX: number }>,\n  leftSide: boolean,\n  radius: number\n) => {\n  const MARGIN = 10;\n\n  let previousBBox: { x: number; y: number; height: number } | null = null;\n\n  // When traversing the right side of labels, we start at the beginning of the array and go forwards.\n  // For the left side, we need to traverse backwards from the end, so that overlapping nodes are pushed down in the right order.\n  let i = leftSide ? nodes.length - 1 : 0;\n\n  while ((leftSide && i >= 0) || (!leftSide && i < nodes.length)) {\n    const node = nodes[i];\n\n    const x = parseFloat(node.getAttribute('data-x') || '0');\n    const y = parseFloat(node.getAttribute('data-y') || '0');\n    const box = {\n      x,\n      y,\n      height: node.getBoundingClientRect().height,\n    };\n\n    const marker = markers[i];\n\n    if (leftSide) {\n      i--;\n    } else {\n      i++;\n    }\n\n    if (!previousBBox) {\n      previousBBox = box;\n      node.setAttribute('transform', '');\n      continue;\n    }\n\n    if ((!leftSide && box.x < 0) || (leftSide && box.x >= 0)) {\n      // We have reached a label that is on the other side of the chart, so we're done.\n      break;\n    }\n\n    node.setAttribute('transform', '');\n\n    // Calculate how much the current node is overlapping with the previous one.\n    const yOffset = previousBBox.y + previousBBox.height + MARGIN - box.y;\n\n    if (yOffset > 0) {\n      const xOffset = computeXOffset(box, yOffset, radius) * (leftSide ? -1 : 1);\n      // Move the label down.\n      node.setAttribute('transform', `translate(${xOffset} ${yOffset})`);\n\n      // Adjust the attached line accordingly.\n      const lineNode = node.parentNode?.querySelector(`.${styles['label-line']}`);\n      if (lineNode) {\n        const { endY, endX } = marker;\n        lineNode.setAttribute('y2', '' + (endY + yOffset));\n        lineNode.setAttribute('x2', '' + (endX + xOffset));\n      }\n\n      // Update the position accordingly to inform the next label\n      box.y += yOffset;\n      box.x += xOffset;\n    }\n\n    previousBBox = box;\n  }\n};\n\nconst squareDistance = (edge: [number, number]): number => Math.pow(edge[0], 2) + Math.pow(edge[1], 2);\n\nconst computeXOffset = (box: { x: number; y: number; height: number }, yOffset: number, radius: number): number => {\n  const upperEdge: [number, number] = [box.x, box.y + yOffset];\n  const lowerEdge: [number, number] = [box.x, box.y + box.height + yOffset];\n  const closestEdge = squareDistance(upperEdge) < squareDistance(lowerEdge) ? upperEdge : lowerEdge;\n\n  if (squareDistance(closestEdge) < Math.pow(radius, 2)) {\n    return Math.sqrt(Math.pow(radius, 2) - Math.pow(closestEdge[1], 2)) - Math.abs(closestEdge[0]);\n  }\n  return 0;\n};\n\nexport const computeSmartAngle = (startAngle: number, endAngle: number, optimize = false): number => {\n  if (!optimize || endAngle - startAngle < 2 * minLabelLineAngularPadding) {\n    return (endAngle + startAngle) / 2;\n  }\n  const paddedStartAngle = startAngle + minLabelLineAngularPadding;\n  const paddedEndAngle = endAngle - minLabelLineAngularPadding;\n  if (paddedStartAngle < 0 && paddedEndAngle > 0) {\n    return 0;\n  }\n  if (paddedStartAngle < Math.PI && paddedEndAngle > Math.PI) {\n    return Math.PI;\n  }\n\n  const endAngleMinDistance = Math.min(\n    paddedEndAngle,\n    Math.abs(Math.PI - paddedEndAngle),\n    2 * Math.PI - paddedEndAngle\n  );\n  const startAngleMinDistance = Math.min(\n    paddedStartAngle,\n    Math.abs(Math.PI - paddedStartAngle),\n    2 * Math.PI - paddedStartAngle\n  );\n  if (endAngleMinDistance < startAngleMinDistance) {\n    return paddedEndAngle;\n  }\n  return paddedStartAngle;\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { memo, useEffect, useRef } from 'react';\nimport { renderTextContent } from '../internal/components/responsive-text';\nimport { getIsRtl } from '@cloudscape-design/component-toolkit/internal';\n\ninterface ResponsiveTextProps {\n  x: number;\n  y: number;\n  rightSide?: boolean;\n  className?: string;\n  children: string;\n  containerBoundaries: null | { left: number; right: number };\n}\n\nexport default memo(ResponsiveText);\n\nfunction ResponsiveText({ x, y, rightSide, className, children, containerBoundaries }: ResponsiveTextProps) {\n  const actualRef = useRef<SVGTextElement>(null);\n  const virtualRef = useRef<SVGTextElement>(null);\n\n  const isRtl = actualRef.current ? getIsRtl(actualRef.current) : false;\n  rightSide = !isRtl ? rightSide : !rightSide;\n\n  // Determine the visible width of the text and if necessary truncate it until it fits.\n  useEffect(() => {\n    // The debouncing is necessary for visual smoothness.\n    const timeoutId = setTimeout(() => {\n      const isRtl = getIsRtl(virtualRef.current!);\n      const groupRect = virtualRef.current!.getBoundingClientRect();\n      const visibleWidth = containerBoundaries ? getVisibleWidth(groupRect, containerBoundaries) : 0;\n      renderTextContent(actualRef.current!, children, visibleWidth, isRtl);\n    }, 25);\n    return () => clearTimeout(timeoutId);\n  });\n\n  return (\n    <>\n      {/* Invisible sample text used for measurement */}\n      <text\n        ref={virtualRef}\n        x={x}\n        y={y}\n        style={{ textAnchor: rightSide ? 'start' : 'end', visibility: 'hidden' }}\n        aria-hidden=\"true\"\n        className={className}\n      >\n        {children}\n      </text>\n\n      {/* Text node to render truncated text into */}\n      <text ref={actualRef} x={x} y={y} style={{ textAnchor: rightSide ? 'start' : 'end' }} className={className}>\n        {children}\n      </text>\n    </>\n  );\n}\n\nfunction getVisibleWidth(element: { left: number; right: number }, container: { left: number; right: number }): number {\n  if (element.left < container.left) {\n    return element.right - container.left;\n  } else if (element.right > container.right) {\n    return container.right - element.left;\n  } else {\n    return container.right - container.left;\n  }\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useLayoutEffect, useMemo, useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport { arc, PieArcDatum } from 'd3-shape';\n\nimport { PieChartProps } from './interfaces';\nimport styles from './styles.css.js';\nimport { InternalChartDatum } from './pie-chart';\nimport { Dimension, balanceLabelNodes, computeSmartAngle } from './utils';\nimport ResponsiveText from './responsive-text';\nimport { useResizeObserver } from '@cloudscape-design/component-toolkit/internal';\n\nexport interface LabelsProps<T> {\n  pieData: PieArcDatum<InternalChartDatum<T>>[];\n  visibleDataSum: number;\n  dimensions: Dimension;\n  hideTitles: boolean;\n  hideDescriptions: boolean;\n  highlightedSegment: PieChartProps.Datum | null;\n  segmentDescription?: PieChartProps.SegmentDescriptionFunction<T>;\n  containerRef: React.RefObject<HTMLDivElement>;\n}\n\ninterface LabelElementProps {\n  x: number;\n  y: number;\n  rightSide: boolean;\n  hideTitles: boolean;\n  hideDescriptions: boolean;\n  title: PieChartProps.Datum['title'];\n  description?: string;\n  containerBoundaries: null | { left: number; right: number };\n}\n\nfunction LabelElement({\n  x,\n  y,\n  hideTitles,\n  hideDescriptions,\n  rightSide,\n  title,\n  description,\n  containerBoundaries,\n}: LabelElementProps) {\n  return (\n    <g className={styles['label-text']} transform=\"\" data-x={x} data-y={y}>\n      {!hideTitles && (\n        <ResponsiveText x={x} y={y} rightSide={rightSide} containerBoundaries={containerBoundaries}>\n          {title}\n        </ResponsiveText>\n      )}\n      {!hideDescriptions && description && (\n        <ResponsiveText\n          x={x}\n          y={y + (hideTitles ? 0 : 18)}\n          rightSide={rightSide}\n          className={styles.label__description}\n          containerBoundaries={containerBoundaries}\n        >\n          {description}\n        </ResponsiveText>\n      )}\n    </g>\n  );\n}\n\nexport default <T extends PieChartProps.Datum>({\n  pieData,\n  dimensions,\n  highlightedSegment,\n  segmentDescription,\n  visibleDataSum,\n  hideTitles,\n  hideDescriptions,\n  containerRef,\n}: LabelsProps<T>) => {\n  const containerBoundaries = useElementBoundaries(containerRef);\n  const shouldOptimizeLabels =\n    containerBoundaries.right - containerBoundaries.left - (dimensions.outerRadius + dimensions.innerLabelPadding) * 2 <\n    300;\n  const markers = useMemo(() => {\n    const { outerRadius: radius, innerLabelPadding } = dimensions;\n\n    // More arc factories for the label positioning\n    const arcMarkerStart = arc<PieArcDatum<any>>()\n      .innerRadius(radius - 1)\n      .outerRadius(radius - 1);\n\n    const arcMarkerBreak = arc<PieArcDatum<any>>()\n      .innerRadius(radius + innerLabelPadding)\n      .outerRadius(radius + innerLabelPadding);\n\n    return pieData.map((datum, i) => {\n      const labelDatum = pieData[i];\n      const smartAngle = computeSmartAngle(labelDatum.startAngle, labelDatum.endAngle, shouldOptimizeLabels);\n\n      // Make the marker line longer if the segment is closer to the top or bottom of the chart\n      const lineExtension = 0.5 * Math.cos(2 * smartAngle) + 0.5;\n      arcMarkerBreak.outerRadius(radius + 20 * lineExtension);\n      arcMarkerBreak.innerRadius(radius + 20 * lineExtension);\n      const [startX, startY] = arcMarkerStart.centroid({ ...datum, startAngle: smartAngle, endAngle: smartAngle });\n      const [breakX, breakY] = arcMarkerBreak.centroid({ ...datum, startAngle: smartAngle, endAngle: smartAngle });\n\n      const rightSide = smartAngle < Math.PI;\n      const endX = shouldOptimizeLabels ? breakX + 20 * (rightSide ? 1 : -1) : (radius + 20) * (rightSide ? 1 : -1);\n      const textX = endX + 5 * (rightSide ? 1 : -1);\n\n      return {\n        startX,\n        startY,\n        breakX,\n        breakY,\n        endX,\n        endY: breakY,\n        textX,\n        textY: breakY,\n        rightSide,\n        datum,\n      };\n    });\n  }, [pieData, dimensions, shouldOptimizeLabels]);\n\n  const rootRef = useRef<SVGGElement>(null);\n\n  useLayoutEffect(() => {\n    if (!rootRef.current) {\n      return;\n    }\n\n    // Relax labels that are overlapping\n    const labelNodes = rootRef.current.querySelectorAll<SVGGElement>(`.${styles['label-text']}`);\n    balanceLabelNodes(labelNodes, markers, false, dimensions.outerRadius + dimensions.innerLabelPadding);\n    balanceLabelNodes(labelNodes, markers, true, dimensions.outerRadius + dimensions.innerLabelPadding);\n  }, [markers, pieData, dimensions]);\n\n  return (\n    <g className={styles.markers} aria-hidden=\"true\" ref={rootRef}>\n      {markers.map(({ startX, startY, breakX, breakY, endX, endY, textX, textY, rightSide, datum }) => {\n        const segment = datum.data.datum;\n        const description = segmentDescription?.(segment, visibleDataSum);\n        if ((hideTitles && !description) || (hideDescriptions && !segment.title)) {\n          return null;\n        }\n        return (\n          <g\n            key={datum.data.index}\n            className={clsx(styles.label, {\n              [styles['label--highlighted']]: highlightedSegment === segment,\n              [styles['label--dimmed']]: highlightedSegment !== null && highlightedSegment !== segment,\n              [styles['label--align-right']]: !rightSide,\n            })}\n          >\n            <line x1={startX} y1={startY} x2={breakX} y2={breakY} />\n            <line x1={breakX} y1={breakY} x2={endX} y2={endY} className={styles['label-line']} />\n            <LabelElement\n              x={textX}\n              y={textY}\n              rightSide={rightSide}\n              title={segment.title}\n              description={description}\n              hideTitles={hideTitles}\n              hideDescriptions={hideDescriptions}\n              containerBoundaries={containerBoundaries}\n            />\n          </g>\n        );\n      })}\n    </g>\n  );\n};\n\nfunction useElementBoundaries(ref: React.RefObject<HTMLElement>): { left: number; right: number } {\n  const [state, setState] = useState({ left: 0, right: 0 });\n  useResizeObserver(ref, entry => {\n    const elementRect = entry.target.getBoundingClientRect();\n    setState({ left: elementRect.left, right: elementRect.right });\n  });\n  return state;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useMemo } from 'react';\nimport { arc, PieArcDatum } from 'd3-shape';\n\nimport { PieChartProps } from './interfaces';\nimport { Dimension } from './utils';\nimport { InternalChartDatum } from './pie-chart';\nimport styles from './styles.css.js';\nimport clsx from 'clsx';\nimport { useInternalI18n } from '../i18n/context';\n\ninterface SegmentsProps<T> {\n  pieData: Array<PieArcDatum<InternalChartDatum<T>>>;\n  highlightedSegment: T | null;\n  dimensions: Dimension;\n  variant: PieChartProps['variant'];\n  focusedSegmentRef: React.RefObject<SVGGElement>;\n  popoverTrackRef: React.RefObject<SVGCircleElement>;\n  segmentAriaRoleDescription?: string;\n  onMouseDown: (datum: InternalChartDatum<T>) => void;\n  onMouseOver: (datum: InternalChartDatum<T>) => void;\n}\n\nexport default function Segments<T extends PieChartProps.Datum>({\n  pieData,\n  highlightedSegment,\n  dimensions,\n  variant,\n  focusedSegmentRef,\n  popoverTrackRef,\n  segmentAriaRoleDescription,\n  onMouseDown,\n  onMouseOver,\n}: SegmentsProps<T>) {\n  const i18n = useInternalI18n('pie-chart');\n\n  const { arcFactory, highlightedArcFactory } = useMemo(() => {\n    const radius = dimensions.outerRadius;\n    const innerRadius = variant === 'pie' ? 0 : dimensions.innerRadius;\n    const cornerRadius = dimensions.cornerRadius || 0;\n\n    const arcFactory = arc<PieArcDatum<InternalChartDatum<any>>>()\n      .innerRadius(innerRadius)\n      .outerRadius(radius)\n      .cornerRadius(cornerRadius);\n\n    const highlightedArcFactory = arc<PieArcDatum<InternalChartDatum<any>>>()\n      .innerRadius(radius + 4)\n      .outerRadius(radius + 6);\n\n    return {\n      arcFactory,\n      highlightedArcFactory,\n    };\n  }, [dimensions, variant]);\n\n  const centroid = useMemo(() => {\n    for (const datum of pieData) {\n      if (datum.data.datum === highlightedSegment) {\n        const [centroidLeft, centroidTop] = arcFactory.centroid(datum);\n        return { cx: centroidLeft, cy: centroidTop };\n      }\n    }\n    return null;\n  }, [highlightedSegment, pieData, arcFactory]);\n\n  return (\n    <g>\n      {pieData.map(datum => {\n        const isHighlighted = highlightedSegment === datum.data.datum;\n        const isDimmed = highlightedSegment !== null && !isHighlighted;\n        const arcPath = arcFactory(datum) || undefined;\n        const highlightedPath = highlightedArcFactory(datum) || undefined;\n        return (\n          <g\n            key={datum.data.index}\n            onMouseDown={e => {\n              onMouseDown(datum.data);\n              e.preventDefault();\n            }}\n            onMouseOver={() => onMouseOver(datum.data)}\n            className={clsx(styles.segment, {\n              [styles['segment--highlighted']]: isHighlighted,\n              [styles['segment--dimmed']]: isDimmed,\n            })}\n            ref={isHighlighted ? focusedSegmentRef : undefined}\n            aria-label={`${datum.data.datum.title} (${datum.data.datum.value})`}\n            role=\"button\"\n            aria-roledescription={i18n('i18nStrings.segmentAriaRoleDescription', segmentAriaRoleDescription)}\n          >\n            <path d={arcPath} fill={datum.data.color} className={styles.segment__path} aria-hidden=\"true\" />\n            <path\n              d={highlightedPath}\n              fill={datum.data.color}\n              className={clsx(styles.segment__path, styles.segment__highlight)}\n              aria-hidden=\"true\"\n            />\n          </g>\n        );\n      })}\n\n      <circle {...centroid} ref={popoverTrackRef} r=\"1\" opacity=\"0\" aria-hidden=\"true\" />\n    </g>\n  );\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { PieArcDatum } from 'd3-shape';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { nodeContains } from '@cloudscape-design/component-toolkit/dom';\n\nimport { KeyCode } from '../internal/keycode';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport ChartPopover from '../internal/components/chart-popover';\nimport SeriesDetails from '../internal/components/chart-series-details';\nimport SeriesMarker from '../internal/components/chart-series-marker';\nimport InternalBox from '../box/internal';\n\nimport Labels from './labels';\nimport { PieChartProps, SeriesInfo } from './interfaces';\nimport styles from './styles.css.js';\nimport { defaultDetails, getDimensionsBySize } from './utils';\nimport Segments from './segments';\nimport ChartPlot, { ChartPlotRef } from '../internal/components/chart-plot';\nimport { SomeRequired } from '../internal/types';\nimport { useInternalI18n } from '../i18n/context';\nimport { nodeBelongs } from '../internal/utils/node-belongs';\nimport clsx from 'clsx';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { useHeightMeasure } from '../internal/hooks/container-queries/use-height-measure';\nimport ChartPopoverFooter from '../internal/components/chart-popover-footer';\nimport LiveRegion from '../internal/components/live-region';\n\nexport interface InternalChartDatum<T> {\n  index: number;\n  color: string;\n  datum: Readonly<T>;\n}\n\ninterface InternalPieChartProps<T extends PieChartProps.Datum>\n  extends SomeRequired<\n    Omit<PieChartProps<T>, 'onHighlightChange' | 'statusType'>,\n    'variant' | 'size' | 'i18nStrings' | 'hideTitles' | 'hideDescriptions'\n  > {\n  width: number;\n  height: number;\n\n  highlightedSegment: T | null;\n  onHighlightChange: (segment: null | T) => void;\n\n  legendSegment: T | null;\n\n  pieData: PieArcDatum<InternalChartDatum<T>>[];\n  dataSum: number;\n}\n\nexport interface PopoverData<T> {\n  datum: T;\n  trackRef: React.RefObject<SVGElement>;\n  series: SeriesInfo;\n}\n\nexport default <T extends PieChartProps.Datum>({\n  fitHeight,\n  height: explicitHeight,\n  variant,\n  size,\n  width,\n  i18nStrings,\n  ariaLabel,\n  ariaLabelledby,\n  ariaDescription,\n  innerMetricValue,\n  innerMetricDescription,\n  hideTitles,\n  hideDescriptions,\n  detailPopoverContent,\n  detailPopoverSize,\n  detailPopoverFooter,\n  segmentDescription,\n  highlightedSegment,\n  onHighlightChange,\n  legendSegment,\n  pieData,\n  dataSum,\n}: InternalPieChartProps<T>) => {\n  const [pinnedSegment, setPinnedSegment] = useState<T | null>(null);\n  const plotRef = useRef<ChartPlotRef>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const focusedSegmentRef = useRef<SVGGElement>(null);\n  const popoverTrackRef = useRef<SVGCircleElement>(null);\n  const popoverRef = useRef<HTMLElement | null>(null);\n\n  const hasLabels = !(hideTitles && hideDescriptions);\n  const isRefresh = useVisualRefresh();\n\n  const height = useHeightMeasure(() => plotRef.current?.svg ?? null, !fitHeight) ?? explicitHeight;\n\n  const dimensions = useMemo(\n    () =>\n      getDimensionsBySize({ size: fitHeight ? Math.min(height, width) : size, hasLabels, visualRefresh: isRefresh }),\n    [fitHeight, height, width, size, hasLabels, isRefresh]\n  );\n\n  // Inner content is only available for donut charts and the inner description is not displayed for small charts\n  const hasInnerContent =\n    variant === 'donut' && (innerMetricValue || (innerMetricDescription && dimensions.size !== 'small'));\n\n  const innerMetricId = useUniqueId('awsui-pie-chart__inner');\n\n  const [isPopoverOpen, setPopoverOpen] = useState<boolean>(false);\n  const [popoverData, setPopoverData] = useState<PopoverData<T>>();\n\n  const highlightedSegmentIndex = useMemo(() => {\n    for (let index = 0; index < pieData.length; index++) {\n      if (pieData[index].data.datum === highlightedSegment) {\n        return index;\n      }\n    }\n    return null;\n  }, [pieData, highlightedSegment]);\n\n  const detailPopoverFooterContent = useMemo(\n    () => (detailPopoverFooter && highlightedSegment ? detailPopoverFooter(highlightedSegment) : null),\n    [detailPopoverFooter, highlightedSegment]\n  );\n\n  const i18n = useInternalI18n('pie-chart');\n  const detailFunction = detailPopoverContent || defaultDetails(i18n, i18nStrings);\n  const details = popoverData ? detailFunction(popoverData.datum, dataSum) : [];\n  const popoverContentRef = useRef<HTMLDivElement | null>(null);\n  const popoverContent = popoverData && <SeriesDetails details={details} compactList={true} ref={popoverContentRef} />;\n\n  const popoverDismissedRecently = useRef(false);\n  const escapePressed = useRef(false);\n\n  const highlightSegment = useCallback(\n    (internalDatum: InternalChartDatum<T>) => {\n      const segment = internalDatum.datum;\n      if (segment !== highlightedSegment) {\n        onHighlightChange(segment);\n      }\n\n      if (popoverTrackRef.current) {\n        setPopoverData({\n          datum: internalDatum.datum,\n          series: {\n            color: internalDatum.color,\n            index: internalDatum.index,\n            label: internalDatum.datum.title,\n            markerType: 'rectangle',\n          },\n          trackRef: popoverTrackRef,\n        });\n        setPopoverOpen(true);\n      }\n    },\n    [highlightedSegment, setPopoverOpen, onHighlightChange]\n  );\n\n  const clearHighlightedSegment = useCallback(() => {\n    setPopoverOpen(false);\n    onHighlightChange(null);\n  }, [onHighlightChange, setPopoverOpen]);\n\n  const checkMouseLeave = (event: React.MouseEvent) => {\n    if (pinnedSegment !== null) {\n      return;\n    }\n\n    if (\n      nodeContains(popoverRef.current, event.relatedTarget) ||\n      nodeContains(focusedSegmentRef.current, event.relatedTarget)\n    ) {\n      return;\n    }\n\n    clearHighlightedSegment();\n  };\n\n  useEffect(() => {\n    const onKeyDown = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        clearHighlightedSegment();\n        escapePressed.current = true;\n      }\n    };\n    document.addEventListener('keydown', onKeyDown);\n    return () => document.removeEventListener('keydown', onKeyDown);\n  }, [clearHighlightedSegment]);\n\n  const onMouseDown = useCallback(\n    (internalDatum: InternalChartDatum<T>) => {\n      if (pinnedSegment === internalDatum.datum) {\n        setPinnedSegment(null);\n        clearHighlightedSegment();\n      } else {\n        setPinnedSegment(internalDatum.datum);\n        highlightSegment(internalDatum);\n      }\n    },\n    [pinnedSegment, clearHighlightedSegment, setPinnedSegment, highlightSegment]\n  );\n  const onMouseOver = useCallback(\n    (internalDatum: InternalChartDatum<T>) => {\n      if (escapePressed.current) {\n        escapePressed.current = false;\n        return;\n      }\n      if (pinnedSegment !== null) {\n        return;\n      }\n      highlightSegment(internalDatum);\n    },\n    [pinnedSegment, highlightSegment]\n  );\n\n  const onKeyDown = useCallback(\n    (event: React.KeyboardEvent) => {\n      const keyCode = event.keyCode;\n      if (\n        keyCode !== KeyCode.right &&\n        keyCode !== KeyCode.left &&\n        keyCode !== KeyCode.enter &&\n        keyCode !== KeyCode.space\n      ) {\n        return;\n      }\n\n      event.preventDefault();\n\n      let nextIndex = highlightedSegmentIndex || 0;\n      const MAX = pieData.length - 1;\n      if (keyCode === KeyCode.right) {\n        nextIndex++;\n        if (nextIndex > MAX) {\n          nextIndex = 0;\n        }\n      } else if (keyCode === KeyCode.left) {\n        nextIndex--;\n        if (nextIndex < 0) {\n          nextIndex = MAX;\n        }\n      }\n      if (keyCode === KeyCode.enter || keyCode === KeyCode.space) {\n        setPinnedSegment(pieData[nextIndex].data.datum);\n      }\n      highlightSegment(pieData[nextIndex].data);\n    },\n    [setPinnedSegment, highlightSegment, pieData, highlightedSegmentIndex]\n  );\n  const onApplicationFocus = useCallback(\n    (_event: any, target: 'keyboard' | 'mouse') => {\n      if (pinnedSegment !== null || popoverDismissedRecently.current || target === 'mouse') {\n        return;\n      }\n\n      const segment = highlightedSegment || legendSegment || pieData[0].data.datum;\n      const matched = pieData.filter(d => d.data.datum === segment);\n      highlightSegment(matched[0].data);\n    },\n    [pinnedSegment, pieData, highlightSegment, highlightedSegment, legendSegment]\n  );\n\n  const onApplicationBlur = useCallback(\n    (event: React.FocusEvent) => {\n      const blurTarget = event.relatedTarget || event.target;\n      if (blurTarget === null || !(blurTarget instanceof Element) || !nodeBelongs(containerRef.current, blurTarget)) {\n        // We only need to close the popover and remove the pinned segment so that we keep track of the current\n        // highlighted legendSeries. using clearHighlightedSegment() would set the legendSeries to null, in that case\n        // using Keyboard Tab will always highlight the first legend item in the legend component.\n        setPopoverOpen(false);\n        setPinnedSegment(null);\n      }\n    },\n    [setPinnedSegment]\n  );\n  const onPopoverDismiss = (outsideClick?: boolean) => {\n    setPopoverOpen(false);\n    setPinnedSegment(null);\n\n    if (!outsideClick) {\n      // The delay is needed to bypass focus events caused by click or keypress needed to unpin the popover.\n      setTimeout(() => {\n        popoverDismissedRecently.current = true;\n        plotRef.current!.focusApplication();\n        popoverDismissedRecently.current = false;\n      }, 0);\n    } else {\n      onHighlightChange(null);\n    }\n  };\n\n  return (\n    <div\n      className={clsx(styles['chart-container'], fitHeight && styles['chart-container--fit-height'])}\n      ref={containerRef}\n    >\n      <div\n        className={clsx(\n          styles['chart-container-chart-plot'],\n          fitHeight && styles['chart-container-chart-plot--fit-height']\n        )}\n      >\n        <ChartPlot\n          ref={plotRef}\n          width=\"100%\"\n          height={fitHeight ? '100%' : height}\n          transform={`translate(${width / 2} ${height / 2})`}\n          isPrecise={true}\n          isClickable={!isPopoverOpen}\n          ariaLabel={ariaLabel}\n          ariaLabelledby={ariaLabelledby}\n          ariaDescription={ariaDescription}\n          ariaDescribedby={hasInnerContent ? innerMetricId : undefined}\n          ariaRoleDescription={i18nStrings?.chartAriaRoleDescription}\n          activeElementRef={focusedSegmentRef}\n          activeElementKey={highlightedSegmentIndex?.toString()}\n          onApplicationFocus={onApplicationFocus}\n          onApplicationBlur={onApplicationBlur}\n          onKeyDown={onKeyDown}\n          onMouseOut={checkMouseLeave}\n        >\n          <Segments\n            pieData={pieData}\n            dimensions={dimensions}\n            variant={variant}\n            focusedSegmentRef={focusedSegmentRef}\n            popoverTrackRef={popoverTrackRef}\n            highlightedSegment={highlightedSegment}\n            segmentAriaRoleDescription={i18nStrings?.segmentAriaRoleDescription}\n            onMouseDown={onMouseDown}\n            onMouseOver={onMouseOver}\n          />\n          {hasLabels && (\n            <Labels\n              pieData={pieData}\n              dimensions={dimensions}\n              segmentDescription={segmentDescription}\n              visibleDataSum={dataSum}\n              hideTitles={hideTitles}\n              hideDescriptions={hideDescriptions}\n              highlightedSegment={highlightedSegment}\n              containerRef={containerRef}\n            />\n          )}\n        </ChartPlot>\n      </div>\n\n      {hasInnerContent && (\n        <div className={styles['inner-content']} id={innerMetricId}>\n          {innerMetricValue && (\n            <InternalBox\n              variant={dimensions.size === 'small' ? 'h3' : 'h1'}\n              tagOverride=\"div\"\n              color=\"inherit\"\n              padding=\"n\"\n            >\n              {innerMetricValue}\n            </InternalBox>\n          )}\n          {innerMetricDescription && dimensions.size !== 'small' && (\n            <InternalBox variant=\"h3\" color=\"text-body-secondary\" tagOverride=\"div\" padding=\"n\">\n              {innerMetricDescription}\n            </InternalBox>\n          )}\n        </div>\n      )}\n      {isPopoverOpen && popoverData && (\n        <ChartPopover\n          ref={popoverRef}\n          title={\n            popoverData.series && (\n              <InternalBox className={styles['popover-header']} variant=\"strong\">\n                <SeriesMarker color={popoverData.series.color} type={popoverData.series.markerType} />{' '}\n                {popoverData.series.label}\n              </InternalBox>\n            )\n          }\n          trackRef={popoverData.trackRef}\n          trackKey={popoverData.series.index}\n          dismissButton={pinnedSegment !== null}\n          dismissAriaLabel={i18nStrings.detailPopoverDismissAriaLabel}\n          onDismiss={onPopoverDismiss}\n          container={plotRef.current?.svg || null}\n          size={detailPopoverSize}\n          onMouseLeave={checkMouseLeave}\n          onBlur={onApplicationBlur}\n        >\n          {popoverContent}\n          {detailPopoverFooterContent && <ChartPopoverFooter>{detailPopoverFooterContent}</ChartPopoverFooter>}\n        </ChartPopover>\n      )}\n      <LiveRegion source={[popoverContentRef]} />\n    </div>\n  );\n};\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { getBaseProps } from '../internal/base-component';\nimport { useControllable } from '../internal/hooks/use-controllable';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport Legend, { ChartLegendProps } from '../internal/components/chart-legend';\nimport Filter, { ChartFilterProps } from '../internal/components/chart-filter';\nimport { pie } from 'd3-shape';\n\nimport InternalPieChart, { InternalChartDatum } from './pie-chart';\nimport { PieChartProps } from './interfaces';\nimport styles from './styles.css.js';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { useMergeRefs } from '../internal/hooks/use-merge-refs';\nimport createCategoryColorScale from '../internal/utils/create-category-color-scale';\nimport useContainerWidth from '../internal/utils/use-container-width';\nimport { nodeBelongs } from '../internal/utils/node-belongs';\nimport { ChartWrapper } from '../internal/components/chart-wrapper';\nimport ChartStatusContainer, { getChartStatus } from '../internal/components/chart-status-container';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { getDimensionsBySize } from './utils';\n\nexport { PieChartProps };\n\nconst PieChart = function PieChart<T extends PieChartProps.Datum = PieChartProps.Datum>({\n  fitHeight,\n  variant = 'pie',\n  size = 'medium',\n  hideTitles = false,\n  hideDescriptions = false,\n  hideLegend = false,\n  hideFilter = false,\n  statusType = 'finished',\n  data: externalData = [],\n  i18nStrings = {},\n  highlightedSegment: controlledHighlightedSegment,\n  visibleSegments: controlledVisibleSegments,\n  onHighlightChange: controlledOnHighlightChange,\n  onFilterChange,\n  additionalFilters,\n  legendTitle,\n  detailPopoverSize = 'medium',\n  ...props\n}: PieChartProps<T>) {\n  const { __internalRootRef = null } = useBaseComponent('PieChart', {\n    props: {\n      fitHeight,\n      variant,\n      size,\n      hideTitles,\n      hideDescriptions,\n      hideLegend,\n      hideFilter,\n      detailPopoverSize,\n    },\n  });\n  const baseProps = getBaseProps(props);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [containerWidth, measureRef] = useContainerWidth();\n\n  const data: ReadonlyArray<InternalChartDatum<T>> = useMemo(() => {\n    const colors = createCategoryColorScale(externalData, undefined, it => it.color || null);\n\n    return externalData.map((datum, i) => ({\n      index: i,\n      color: colors[i],\n      datum,\n    }));\n  }, [externalData]);\n\n  const [highlightedSegment = null, setHighlightedSegment] = useControllable(\n    controlledHighlightedSegment,\n    controlledOnHighlightChange,\n    null,\n    {\n      componentName: 'PieChart',\n      controlledProp: 'highlightedSegment',\n      changeHandler: 'onHighlightChange',\n    }\n  );\n  const [legendSegment, setLegendSegment] = useState<null | T>(highlightedSegment);\n  useEffect(() => {\n    setLegendSegment(controlledHighlightedSegment || null);\n  }, [controlledHighlightedSegment]);\n\n  const [visibleSegments, setVisibleSegments] = useControllable(\n    controlledVisibleSegments,\n    onFilterChange,\n    externalData,\n    {\n      componentName: 'PieChart',\n      controlledProp: 'visibleSegments',\n      changeHandler: 'onFilterChange',\n    }\n  );\n\n  const visibleData = useMemo(\n    () => data.filter(d => visibleSegments?.indexOf(d.datum) !== -1),\n    [data, visibleSegments]\n  );\n\n  const filterItems: ChartFilterProps<T>['series'] = data?.map(data => ({\n    label: data.datum.title,\n    color: data.color,\n    type: 'rectangle',\n    datum: data.datum,\n  }));\n\n  const legendItems: ChartLegendProps<T>['series'] = filterItems.filter(d => visibleSegments?.indexOf(d.datum) !== -1);\n\n  const filterChange = useCallback(\n    (selectedSeries: ReadonlyArray<T>) => {\n      setVisibleSegments(selectedSeries);\n      fireNonCancelableEvent(onFilterChange, {\n        visibleSegments: selectedSeries,\n      });\n    },\n    [setVisibleSegments, onFilterChange]\n  );\n\n  const onHighlightChange = useCallback(\n    (segment: T | null) => {\n      setLegendSegment(segment);\n      setHighlightedSegment(segment);\n      fireNonCancelableEvent(controlledOnHighlightChange, { highlightedSegment: segment });\n    },\n    [controlledOnHighlightChange, setHighlightedSegment]\n  );\n\n  const onBlur = (event: React.FocusEvent) => {\n    if (event.relatedTarget && !nodeBelongs(containerRef.current, event.relatedTarget)) {\n      highlightedSegment && onHighlightChange(null);\n      setLegendSegment(null);\n    }\n  };\n\n  const mergedRef = useMergeRefs(containerRef, measureRef, __internalRootRef);\n\n  const { pieData, dataSum } = useMemo(() => {\n    const dataSum = visibleData.reduce((sum, d) => sum + d.datum.value, 0);\n\n    const pieFactory = pie<InternalChartDatum<T>>()\n      // Minimum 1% segment size\n      .value(d => (d.datum.value < dataSum / 100 ? dataSum / 100 : d.datum.value))\n      .sort(null);\n\n    // Filter out segments with value of zero or below\n    const pieData = pieFactory(visibleData.filter(d => d.datum.value > 0));\n\n    return { pieData, dataSum };\n  }, [visibleData]);\n\n  const hasNoData = !externalData || externalData.length === 0;\n  const { isEmpty, showChart } = getChartStatus({ externalData: data, visibleData: pieData, statusType });\n  // Pie charts have a special condition for empty/noMatch due to how zero-value segments are handled.\n  const isNoMatch = isEmpty && visibleData.length !== data.length;\n  const showFilters = statusType === 'finished' && !hasNoData && (additionalFilters || !hideFilter);\n  const reserveLegendSpace = !showChart && !hideLegend;\n  const reserveFilterSpace = statusType !== 'finished' && !isNoMatch && (!hideFilter || additionalFilters);\n  const hasLabels = !(hideTitles && hideDescriptions);\n\n  const isRefresh = useVisualRefresh();\n  const defaultDimensions = getDimensionsBySize({ size, hasLabels, visualRefresh: isRefresh });\n  const radius = defaultDimensions.outerRadius;\n  const height = 2 * (radius + defaultDimensions.padding + (hasLabels ? defaultDimensions.paddingLabels : 0));\n\n  return (\n    <ChartWrapper\n      ref={mergedRef}\n      fitHeight={!!fitHeight}\n      {...baseProps}\n      className={clsx(baseProps.className, styles.root)}\n      contentClassName={clsx(styles.content, styles[`content--${defaultDimensions.size}`], {\n        [styles['content--without-labels']]: !hasLabels,\n        [styles['content--fit-height']]: fitHeight,\n      })}\n      defaultFilter={\n        showFilters && !hideFilter ? (\n          <Filter\n            series={filterItems}\n            onChange={filterChange}\n            selectedSeries={visibleSegments}\n            i18nStrings={i18nStrings}\n          />\n        ) : null\n      }\n      additionalFilters={showFilters ? additionalFilters : null}\n      reserveFilterSpace={!!reserveFilterSpace}\n      reserveLegendSpace={!!reserveLegendSpace}\n      chartStatus={\n        <ChartStatusContainer\n          isEmpty={isEmpty}\n          isNoMatch={isNoMatch}\n          showChart={showChart}\n          statusType={statusType}\n          empty={props.empty}\n          noMatch={props.noMatch}\n          loadingText={props.loadingText}\n          errorText={props.errorText}\n          recoveryText={props.recoveryText}\n          onRecoveryClick={props.onRecoveryClick}\n        />\n      }\n      chart={\n        showChart ? (\n          <InternalPieChart\n            {...props}\n            variant={variant}\n            size={size}\n            height={height}\n            fitHeight={fitHeight}\n            data={externalData}\n            width={containerWidth}\n            hideTitles={hideTitles}\n            hideDescriptions={hideDescriptions}\n            i18nStrings={i18nStrings}\n            onHighlightChange={onHighlightChange}\n            highlightedSegment={highlightedSegment}\n            legendSegment={legendSegment}\n            detailPopoverSize={detailPopoverSize}\n            pieData={pieData}\n            dataSum={dataSum}\n          />\n        ) : null\n      }\n      legend={\n        !hideLegend &&\n        !hasNoData &&\n        statusType === 'finished' && (\n          <Legend<T>\n            series={legendItems}\n            highlightedSeries={legendSegment}\n            legendTitle={legendTitle}\n            ariaLabel={i18nStrings?.legendAriaLabel}\n            onHighlightChange={onHighlightChange}\n            plotContainerRef={containerRef}\n          />\n        )\n      }\n      onBlur={onBlur}\n    />\n  );\n};\n\napplyDisplayName(PieChart, 'PieChart');\nexport default PieChart;\n","import constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport InternalStatusIndicator, { StatusIndicatorProps } from './internal';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport useBaseComponent from '../internal/hooks/use-base-component';\n\nexport { StatusIndicatorProps };\n\nexport default function StatusIndicator({ type = 'success', wrapText = true, ...props }: StatusIndicatorProps) {\n  const baseComponentProps = useBaseComponent('StatusIndicator', {\n    props: { colorOverride: props.colorOverride, type, wrapText },\n  });\n  return <InternalStatusIndicator type={type} wrapText={wrapText} {...props} {...baseComponentProps} />;\n}\n\napplyDisplayName(StatusIndicator, 'StatusIndicator');\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n"],"names":["memo","_ref","model","filterLabel","filterPlaceholder","filterSelectedAriaLabel","filterItems","allSeries","map","s","title","color","markerType","getInternalSeries","label","type","datum","React","ChartFilter","series","onChange","handlers","onFilterSeries","selectedSeries","i18nStrings","legendTitle","ariaLabel","plotContainerRef","legendItems","useMemo","legendSeries","useSelector","interactions","state","ChartLegend","highlightedSeries","onHighlightChange","onLegendHighlight","axis","position","InternalBox","className","clsx","styles","fontWeight","textAlign","margin","bottom","scale","ticks","tickFormatter","autoWidth","maxLabelsWidth","width","ref","useContainerQuery","rect","contentBoxWidth","useEffect","style","maxWidth","value","scaledValue","d3Scale","undefined","isFinite","lines","toString","split","Fragment","key","concat","line","lineIndex","TICK_LENGTH","TICK_MARGIN","TICK_LINE_HEIGHT","X_TICK_COUNT_RATIO","Y_TICK_COUNT_RATIO","SPACE_BETWEEN","formatTicks","getLabelSpace","tick","_a","NaN","space","Math","max","getVisibleTicks","from","until","balanceTicks","arguments","length","filter","getTicksInRange","reduceLabelRatio","findReduceLabelRatio","reducedTicks","index","push","getReducedTicks","visibleTicks","prevTick","hasIntersection","removeIntersections","ratio","i","a","b","left","right","plotWidth","plotHeight","Number","POSITIVE_INFINITY","ariaRoleDescription","i18n","useInternalI18n","virtualTextRef","useRef","yOffset","isCategorical","bandwidth","labelToBoxCache","formattedTicks","current","_b","height","textContent","element","getBBox","getSVGTextSize","_d","_c","isRtl","getIsRtl","role","_ref2","transform","grid","ticks_line","x1","y1","x2","y2","x","lineTextProps","y","ticks__text","children","ResponsiveText","Object","assign","visibility","offsetLeft","offsetRight","xOffset","balanceLabels","scaleType","_ref3","join","ticks__line","baselineY","Linear","context","this","_context","p","pointX","pointY","defined","constant","curve","curveLinear","output","data","d","buffer","n","defined0","path","lineStart","lineEnd","point","_","prototype","areaStart","_line","areaEnd","_point","closePath","lineTo","moveTo","chartAreaClipPath","areaPath","x0","y0","area","j","k","x0z","Array","y0z","arealine","lineX0","lineY0","lineY1","lineX1","scaled","areaGenerator","linePath","lineGenerator","fill","stroke","opacity","clipPath","xScale","range","useUniqueId","highlightedX","useHighlightDimmed","seriesData","seriesIndex","computed","plot","sx","id","isHighlighted","isDimmed","AreaSeries","ThresholdSeries","AreaChartPopover","highlightDetails","dismissAriaLabel","footer","size","onBlur","popoverProps","formattedX","trackRef","refs","verticalMarker","trackKey","highlightIndex","dismissButton","isPopoverPinned","onDismiss","onPopoverDismiss","onMouseLeave","onPopoverLeave","popoverRef","ChartPopover","container","ChartSeriesDetails","details","seriesDetails","totalDetails","ChartPopoverFooter","forwardRef","ariaHasPopup","ariaExpanded","cx","cy","r","highlightedPoint","HighlightedPoint","showPoints","showLine","points","firstPoint","VerticalMarker","CartesianChartContainer","minHeight","fitHeight","leftAxisLabel","leftAxisLabelMeasure","bottomAxisLabel","chartPlot","popover","xTitle","yTitle","detailPopoverSize","detailPopoverFooter","ariaLabelledby","ariaDescription","xTickFormatter","deprecatedXTickFormatter","yTickFormatter","deprecatedYTickFormatter","detailTotalFormatter","deprecatedDetailTotalFormatter","detailTotalLabel","chartAriaRoleDescription","xAxisAriaRoleDescription","yAxisAriaRoleDescription","detailPopoverDismissAriaLabel","inlineStartLabelsWidth","setInlineStartLabelsWidth","useState","containerWidth","containerWidthRef","useContainerWidth","maxInlineStartLabelsWidth","round","blockEndLabelsProps","cacheRef","getComputedTextLength","useBLockEndLabels","xTicks","hX","hPoint","seriesPoints","xs","detailsTotal","reduce","total","seriesTitle","formattedY","formatValue","Boolean","pointDetails","activeLabel","useHighlightDetails","highlightedPointRef","mergedRef","useMergeRefs","isPointHighlighted","get","detailPopoverFooterContent","AxisLabel","LabelsMeasure","yScale","yTicks","ChartPlot","offsetBottom","activeElementKey","activeElementRef","activeElementFocusOffset","isClickable","onMouseMove","onSVGMouseMove","onMouseOut","onSVGMouseOut","onClick","onSVGMouseDown","onKeyDown","onSVGKeyDown","onApplicationFocus","onApplicationBlur","plotMeasure","strokeWidth","pointerEvents","InlineStartLabels","AreaDataSeries","BlockEndLabels","EmphasizedBaseline","AreaVerticalMarker","AreaHighlightedPoint","EPSILON","computeDomainX","xValues","getXValues","arr","set","Set","uniqArray","has","add","uniq","min","computePlotPoints","xy","scaledOffsetX","visibleData","scaledX","getVisibleData","forEach","xIndex","stackY","sIndex","scaledY","sort","p1","p2","insertIntoMatrix","findClosest","sortedArray","target","getter","Error","isAscending","delta","abs","lo","hi","mid","floor","circleIndex","to","_ref4","matrix","row","col","requiredArgs","required","args","TypeError","toDate","argument","argStr","call","Date","_typeof","getTime","console","warn","stack","getTimezoneOffsetInMilliseconds","date","utcDate","UTC","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","setUTCFullYear","startOfDay","dirtyDate","setHours","MILLISECONDS_IN_DAY","compareLocalAsc","dateLeft","dateRight","diff","differenceInDays","dirtyDateLeft","dirtyDateRight","sign","difference","startOfDayLeft","startOfDayRight","timestampLeft","timestampRight","differenceInCalendarDays","setDate","result","toInteger","dirtyNumber","number","isNaN","ceil","duration","years","months","weeks","days","hours","minutes","seconds","dateWithMonths","dirtyAmount","amount","dayOfMonth","endOfDesiredMonth","setMonth","setFullYear","addMonths","dateWithDays","addDays","msToAdd","createXTicks","values","isNumeric","isTime","rawTicks","domain","oneDayInterval","twoDayInterval","isDayInterval","isMixedDayInterval","start","curr","createTwoDayInterval","uniform","ascending","descending","bisector","f","compare1","compare2","zero$1","center","bisectRight","bisect","InternMap","Map","constructor","entries","keyof","super","defineProperties","_intern","_key","intern_get","intern_set","delete","intern_delete","valueOf","e10","sqrt","e5","e2","stop","count","reverse","step","tickIncrement","r0","r1","power","log","LN10","error","pow","tickStep","step0","step1","initRange","implicit","Symbol","ordinal","unknown","slice","copy","apply","band","ordinalRange","paddingInner","paddingOuter","align","rescale","rangeRound","padding","define","factory","extend","parent","definition","create","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","format","m","l","trim","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","hasOwnProperty","g","rgb$1","o","rgb_formatHex","hex","rgb_formatRgb","clampa","clampi","h","Hsl","hslConvert","clamph","clampt","hsl2rgb","m1","m2","channels","displayable","formatHex8","formatHsl","clamp","gamma","nogamma","t","exponential","linear$1","rgbGamma","end","numberArray","c","genericArray","nb","na","interpolate","date$1","setTime","interpolateNumber","object","reA","reB","source","string","am","bm","bs","bi","lastIndex","q","one","zero","ArrayBuffer","isView","DataView","isArray","interpolateRound","number$1","unit","identity$1","normalize","bimap","d0","d1","polymap","transformer","untransform","piecewise","input","interpolate$1","clamper","invert","u","continuous","formatDecimalParts","toExponential","indexOf","coefficient","exponent","prefixExponent","re","formatSpecifier","specifier","match","FormatSpecifier","symbol","comma","precision","formatRounded","formatTypes","%","toFixed","toLocaleString","replace","e","toPrecision","toUpperCase","identity","locale$1","formatPrefix","prefixes","formatLocale$1","locale","grouping","thousands","group","substring","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","String","percent","minus","nan","newFormat","prefix","test","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","i1","i0","formatTrim","charCodeAt","Infinity","tickFormat","precisionPrefix","precisionRound","precisionFixed","linear","nice","prestep","maxIter","linearish","interval","transformLog","transformExp","exp","transformLogn","transformExpn","pow10","reflect","loggish","logs","pows","base","E","log10","log2","logp","powp","v","z","t0","t1","timeInterval","floori","offseti","field","offset","previous","every","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","second","getUTCSeconds","timeMinute","utcMinute","setUTCSeconds","getUTCMinutes","timeHour","utcHour","setUTCMinutes","getUTCHours","timeDay","getTimezoneOffset","utcDay","setUTCHours","setUTCDate","getUTCDate","unixDay","timeWeekday","getDay","timeSunday","timeMonday","timeTuesday","timeWednesday","timeThursday","timeFriday","timeSaturday","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","timeMonth","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","timeYear","utcYear","ticker","year","month","week","day","hour","minute","tickIntervals","tickInterval","timeTicks","timeTickInterval","localDate","H","M","S","L","newDate","timeFormat","pads","numberRe","percentRe","requoteRe","pad","requote","formatRe","names","formatLookup","name","parseWeekdayNumberSunday","w","parseWeekdayNumberMonday","parseWeekNumberSunday","U","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseQuarter","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","dISO","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatYearISO","formatFullYear","formatFullYearISO","formatZone","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","UTCdISO","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCYearISO","formatUTCFullYear","formatUTCFullYearISO","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","time","createNumericScale","scaleLog","scaleLinear","isNumericDomain","createTimeScale","scaleTime","isDateDomain","createBandScale","scaleBand","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","locale_shortWeekdays","shortDays","locale_months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","utcFormats","parses","parseSpecifier","charAt","newParse","parse","X","utcFormat","utcParse","formatLocale","defaultLocale","ChartScale","noCategoricalOuterPadding","createScale","cloneScale","newScaleType","newDomain","newRange","NumericChartScale","adjustDomain","computeChartProps","xDomain","externalXDomain","yDomain","externalYDomain","xScaleType","yScaleType","xTickCount","getXTickCount","NEGATIVE_INFINITY","computeDomainY","yTickCount","getYTickCount","createYTicks","initialState","freeze","InteractionsStore","AsyncStore","highlightPoint","highlightX","highlightFirstPoint","firstSeriesPoint","_getFirstSeriesPoint","highlightSeries","clearHighlight","clearHighlightedLegend","clearState","pinPopover","unpinPopover","togglePopoverPin","MAX_HOVER_MARGIN","SVG_HOVER_THROTTLE","POPOVER_DEADZONE","useChartModel","externalSeries","visibleSeries","setVisibleSeries","setHighlightedSeries","explicitHeight","plotRef","containerRef","verticalMarkerRef","plotMeasureRef","hasVisibleSeries","useHeightMeasure","stableSetVisibleSeries","useStableCallback","containsMultipleSeries","colorScale","createCategoryColorScale","decorateSeries","valueFormatter","mapping","createSeriesDecorator","isMouseOverPopover","clientX","clientY","firstChild","popoverPosition","getBoundingClientRect","onSVGMouseMoveThrottled","func","delay","trailing","pending","lastInvokeTime","timerId","pendingFunc","invokeTime","now","startTimer","cancelAnimationFrame","requestAnimationFrame","throttled","_len","cancel","throttle","svgRect","svg","offsetX","offsetY","top","closestX","xPoints","closestPoint","moveWithinXAxis","direction","moveWithinSeries","nextXIndex","moveBetweenSeries","yIndex","currentYIndex","nextYIndex","event","nodeContains","relatedTarget","preventDefault","keyCode","KeyCode","up","down","enter","handleKey","onBlockEnd","onBlockStart","onInlineStart","onInlineEnd","onActivate","_event","trigger","nodeBelongs","outsideClick","setTimeout","focusApplication","focusPlot","onContainerBlur","onDocumentKeyDown","useReaction","InternalAreaChart","controlledHighlightedSeries","controlledVisibleSeries","onFilterChange","controlledOnVisibleChange","controlledOnHighlightChange","hideFilter","additionalFilters","hideLegend","statusType","empty","noMatch","errorText","loadingText","recoveryText","onRecoveryClick","__internalRootRef","props","__rest","baseProps","getBaseProps","isDevelopment","sampleXValues","isSeriesValid","warnOnce","setWidth","setVisibleSeriesState","useControllable","componentName","controlledProp","changeHandler","useCallback","fireNonCancelableEvent","newVisibleSeries","useFilterProps","notifyHighlightedSeries","useHighlightProps","isEmpty","isNoMatch","showChart","getChartStatus","externalData","showFilters","showLegend","reserveLegendSpace","reserveFilterSpace","document","addEventListener","removeEventListener","ChartWrapper","root","contentMinHeight","defaultFilter","AreaChartFilter","chartStatus","ChartStatusContainer","chart","ChartContainer","legend","AreaChartLegend","legendAriaLabel","AreaChart","baseComponentProps","useBaseComponent","applyDisplayName","ColumnLayout","columns","variant","borders","disableGutters","minColumnWidth","externalProps","getExternalProps","InternalColumnLayout","Grid","gridDefinition","restProps","breakpoint","useContainerBreakpoints","InternalGrid","__breakpoint","searchableFields","matchesString","searchText","strictMatching","matchesSingleOption","dropdownOption","text","option","searchableTagFields","some","attr","filterOptions","options","currentGroup","parentMatched","acc","isInteractive","disabled","isGroupInteractive","isGroup","content","hasItems","LiveRegion","visible","tagName","DropdownStatus","testIndexMap","WeakMap","prepareOptions","filteringType","filteringText","flatOptions","parentMap","rest","parentDropdownOption","allOptionsDisabled","child","childDropdownOption","flattenOptions","filteredOptions","generateTestIndexes","filteredItems","getParentGroup","throughIndex","groupIndex","inGroupIndex","item","bind","totalCount","matchesCount","HighlightType","moveFocus","useHighlightedOption","isHighlightable","highlightedIndex","setHighlightedIndexState","highlightType","setHighlightType","setHighlightedIndex","highlightedOption","moveHighlightFrom","startIndex","newIndex","highlightOption","setHighlightedIndexWithMouse","moveHighlightWithKeyboard","moveHighlight","highlightOptionWithKeyboard","resetHighlightWithKeyboard","goHomeWithKeyboard","goEndWithKeyboard","getOptionId","menuId","findOptionIndex","__option","useSelect","selectedOptions","updateSelectedOption","onFocus","externalRef","keepOpen","fireLoadItems","setFilteringValue","useInteractiveGroups","interactivityCheck","filterRef","triggerRef","menuRef","hasFilter","activeRef","__selectedOptions","connectOptionsByValue","selectedOption","__selectedValuesSet","selectedValuesSet","isOpen","openDropdown","closeDropdown","toggleDropdown","openedWithKeyboard","useOpenState","onOpen","onClose","handleFocus","handleBlur","hasSelectedOption","dialogId","highlightedOptionId","selectOption","optionToSelect","focus","activeKeyDownHandler","goUp","goDown","goHome","goEnd","preventNativeSpace","detail","escape","stopPropagation","useMenuKeyboard","triggerKeyDownHandler","useTriggerKeyboard","getGroupState","totalSelected","hasSelected","allSelected","selected","indeterminate","prevOpen","usePrevious","preventScroll","useForwardFocus","highlightedGroupSelected","announceSelected","getTriggerProps","triggerProps","autoFocus","ariaControls","onMouseDown","getDropdownProps","dropdownContentId","dropdownContentRole","getMenuProps","menuProps","open","onMouseUp","itemIndex","nativeAttributes","getFilterProps","__onDelayedInput","__nativeAttributes","getOptionProps","highlighted","groupState","nextOption","isNextSelected","isRepeatedChar","str","useNativeSearch","isEnabled","delayedResetValue","useDebounceCallback","newValue","nextHighlight","currentHighlight","matchingOptions","active","findMatchingOption","parentGroup","__labelPrefix","description","labelTag","tags","el","Highlight","HighlightMatch","highlightText","noMatches","matches","splitOnFiltering","filteringPattern","regexp","idx","Label","triggerVariant","LabelTag","Description","Tags","tag","FilteringTags","_ref5","filteringTags","searchElement","filteringTag","OptionIcon","url","InternalIcon","validateStringValue","propertyName","isGroupOption","isGenericGroup","icon","__customIcon","iconName","iconUrl","iconSvg","alt","iconAlt","genericGroupProps","lang","_e","SelectableItem","ariaSelected","ariaChecked","hasBackground","isParent","isChild","virtualPosition","padBottom","screenReaderContent","ariaPosinset","ariaSetsize","classNames","contentRef","screenReaderContentRef","useLayoutEffect","setAttribute","a11yProperties","Item","filteringValue","hasCheckbox","wrappedOption","checkbox","CheckboxIcon","checked","Option","MultiSelectItem","getItemProps","checkboxes","optionProps","getTestOptionIndexes","renderOptions","hasDropdownStatus","virtualItems","virtualItem","globalIndex","isLastItem","ListItem","MutliselectItem","measureRef","PlainList","listBottom","useImperativeHandle","querySelector","scrollElementIntoView","OptionsList","_extends","rafId","observedNodes","run","changedStates","node","newRect","prop","callbacks","cb","window","useIsomorphicLayoutEffect","useRect","nodeRef","initialRect","_React$useState","setElement","_React$useReducer","rectReducer","dispatch","initialRectSet","_rect","observer","observe","wasEmpty","hasRectChanged","unobserve","splice","action","defaultEstimateSize","defaultKeyExtractor","defaultMeasureSize","horizontal","defaultRangeExtractor","overscan","useVirtual","_measurements","_ref$size","_ref$estimateSize","estimateSize","_ref$overscan","_ref$paddingStart","paddingStart","_ref$paddingEnd","paddingEnd","parentRef","scrollToFn","useObserver","onScrollElement","scrollOffsetFn","_ref$keyExtractor","keyExtractor","_ref$measureSize","measureSize","_ref$rangeExtractor","rangeExtractor","sizeKey","scrollKey","latestRef","scrollOffset","measurements","setScrollOffset","outerSize","defaultScrollToFn","resolvedScrollToFn","_React$useState2","measuredCache","setMeasuredCache","measure","pendingMeasuredCacheIndexesRef","measuredSize","_start","_size","_end","totalSize","scrollOffsetFnRef","onScroll","capture","passive","_calculateRange","getOffset","findNearestBinarySearch","calculateRange","indexes","measureSizeRef","_loop","len","_scrollOffset","old","_extends2","mountedRef","scrollToOffset","toOffset","_temp","_ref2$align","_latestRef$current","tryScrollToIndex","_temp2","_ref3$align","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","_latestRef$current2","measurement","scrollToIndex","low","high","getCurrentValue","middle","currentValue","VirtualListOpen","menuMeasureRef","menuRefObject","items","rowVirtualizer","useVirtualDefault","measuresCache","indicesKey","mountedCount","finalOptions","VirtualListClosed","VirtualList","filterProps","InternalInput","autoComplete","disableBrowserAutocorrect","invalid","__noBorderRadius","autoCorrect","autoCapitalize","ButtonTrigger","pressed","hideCaret","readOnly","warning","inlineTokens","inFilteringToken","ariaDescribedby","onKeyUp","attributes","fireKeyboardEvent","fireCancelableEvent","controlId","placeholder","isVisualRefresh","useVisualRefresh","generatedId","triggerContentId","ariaLabelledbyIds","joinStrings","triggerContent","TokenLimitToggle","allHidden","expanded","numberOfHiddenOptions","limitShowFewerAriaLabel","limitShowMoreAriaLabel","numberOfHiddenOptionLabel","limitShowFewer","limitShowMore","handleClick","toggle","tokenSelector","toggleButtonSelector","TokenList","alignment","renderItem","limit","after","moveFocusNextToIndex","onExpandedClick","tokenListRef","tokenElements","querySelectorAll","toggleButton","closestPrevIndex","closestNextIndex","activeIndex","nextElement","prevElement","HTMLElement","getFirstFocusable","useTokenFocusController","setExpanded","hasHiddenItems","visibleItems","hasVisibleItems","isExpanded","list","separator","vertical","dismissLabel","Token","warningText","errorIconAriaLabel","warningIconAriaLabel","errorId","warningId","showWarning","token","DismissButton","FormFieldError","FormFieldWarning","InternalTokenGroup","disableOuterPadding","checkControlled","removedItemIndex","setRemovedItemIndex","InternalMultiselect","filteringPlaceholder","filteringAriaLabel","filteringClearAriaLabel","filteringResultsText","ariaRequired","finishedText","renderHighlightedAriaLive","deselectAriaLabel","tokenLimit","onLoadItems","virtualScroll","hideTokens","expandToViewport","tokenLimitShowFewerAriaLabel","tokenLimitShowMoreAriaLabel","propertyValue","checkOptionValueField","formFieldContext","useFormFieldContext","i18nCommon","selectedAriaLabel","handleLoadMore","handleRecoveryClick","prevFilteringText","firstPage","samePage","useLoadItems","filtered","isAllChildrenSelected","optionsArray","select","union","visibleOptions","unselect","newSelectedOptions","intersection","rootRef","selfControlId","multiSelectAriaLabelId","footerId","handleNativeSearch","isFiltered","dropdownStatus","hasRecoveryCallback","previousStatusType","statusResult","isSticky","InternalStatusIndicator","__display","__animate","iconAriaLabel","InternalLink","onFollow","useDropdownStatus","Filter","clearAriaLabel","Trigger","onLoadMore","announcement","getParent","prevAnnouncedGroup","frameId","defaultOptionDescription","useAnnouncement","tokens","option__label","ListComponent","showTokens","tokenGroupI18nStrings","tokenLimitShowFewer","tokenLimitShowMore","dropdownProps","onKeyPress","Dropdown","header","activeElement","DropdownFooter","stretchBeyondTriggerWidth","optionToDeselect","targetRef","ScreenreaderOnly","defaultOptions","SeriesMarker","updateSelection","InternalFormField","segmentsRef","highlightedSeriesIndex","targetSeries","findSeriesIndex","handleSelection","handleMouseLeave","highlightInlineStart","currentIndex","nextIndex","highlightInlineEnd","contains","someHighlighted","elem","tabIndex","onMouseOver","handleMouseOver","applicationRef","focusTransitionRef","isFocused","setFocused","app","attributeName","getAttributeNames","removeAttribute","muteApplication","onApplicationKeyDown","removeChild","appendChild","application","attributeValue","getAttribute","FocusOutline","elementKey","elementRef","focusVisible","setFocusVisible","handleMousedown","handleKeydown","isModifierKey","useFocusVisibleState","showOutline","rx","DEFAULT_PLOT_FOCUS_OFFSET","DEFAULT_ELEMENT_FOCUS_OFFSET","offsetTop","ariaLiveRegion","isPrecise","focusOffset","svgRef","plotClickedRef","isPlotFocused","setPlotFocused","isApplicationFocused","setApplicationFocused","internalDescriptionId","ariaDescriptionId","plotFocusable","plotTabIndex","plotAria","focusable","marginTop","marginBottom","marginLeft","marginRight","clickable","precise","onPlotMouseDown","ApplicationController","fixedWidth","onMouseEnter","popoverObjectRef","onDocumentClick","isPinned","popoverStyles","PopoverContainer","arrow","keepPosition","allowVerticalOverflow","allowScrollToFit","PopoverBody","overflowVisible","expandedSeries","setPopoverText","setExpandedState","compactList","detailsRef","announced","expandabeleSectionHeaderStyles","innerText","compact","subItems","expandableId","dimmed","expandable","ExpandableSeries","itemKey","NonExpandableSeries","SubItems","ChartSeriesMarker","InternalExpandableSection","headerText","headerActions","_ref6","marker","backgroundColor","statusContainer","renderedRecoveryText","contentClassName","filtersNode","InternalSpaceBetween","legendNode","wrapper","getTextWidth","textNode","textRef","renderTextContent","textAnchor","visibleLength","truncateText","maxLength","getMeasure","skip","deps","measuredHeight","setHeight","stableGetMeasure","useResizeObserver","entry","borderBoxHeight","categoryPalette","isThreshold","getOwnColor","colors","categoryIndex","it","ownColor","defaultColor","thresholdColor","parseCssVariable","defaultValue","threshold","prev","atan2","cos","sin","epsilon","pi","PI","halfPi","tau","asin","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","cornerTangents","rc","cw","x01","y01","ox","oy","x11","y11","x10","y10","x00","y00","dx","dy","d2","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cornerRadius","padRadius","arc","a0","a1","da","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","p0","oc","x3","y3","x32","y32","intersect","ax","ay","bx","by","kc","acos","lc","centroid","minLabelLineAngularPadding","dimensionsBySize","small","innerLabelPadding","paddingLabels","medium","large","refreshDimensionsBySize","getDimensionsBySize","hasLabels","visualRefresh","dimensions","sizeSpec","getPixelSize","matchedSize","radiiRatio","balanceLabelNodes","nodes","markers","leftSide","radius","previousBBox","box","parseFloat","computeXOffset","lineNode","parentNode","endY","endX","squareDistance","edge","upperEdge","lowerEdge","closestEdge","rightSide","containerBoundaries","actualRef","virtualRef","timeoutId","groupRect","visibleWidth","clearTimeout","LabelElement","hideTitles","hideDescriptions","label__description","pieData","highlightedSegment","segmentDescription","visibleDataSum","setState","elementRect","useElementBoundaries","shouldOptimizeLabels","arcMarkerStart","arcMarkerBreak","labelDatum","smartAngle","paddedStartAngle","paddedEndAngle","computeSmartAngle","lineExtension","startX","startY","breakX","breakY","textX","textY","labelNodes","segment","Segments","focusedSegmentRef","popoverTrackRef","segmentAriaRoleDescription","arcFactory","highlightedArcFactory","centroidLeft","centroidTop","arcPath","highlightedPath","segment__path","segment__highlight","innerMetricValue","innerMetricDescription","detailPopoverContent","legendSegment","dataSum","pinnedSegment","setPinnedSegment","isRefresh","hasInnerContent","innerMetricId","isPopoverOpen","setPopoverOpen","popoverData","setPopoverData","highlightedSegmentIndex","detailFunction","defaultDetails","detailsValue","detailsPercentage","popoverContentRef","popoverContent","SeriesDetails","popoverDismissedRecently","escapePressed","highlightSegment","internalDatum","clearHighlightedSegment","checkMouseLeave","MAX","matched","blurTarget","Element","Labels","tagOverride","PieChart","controlledHighlightedSegment","visibleSegments","controlledVisibleSegments","setHighlightedSegment","setLegendSegment","setVisibleSegments","filterChange","sum","pieFactory","sortValues","pie","arcs","pa","hasNoData","defaultDimensions","InternalPieChart","Legend","StatusIndicator","wrapText","colorOverride","tauEpsilon","Path","_x0","_y0","_x1","_y1","quadraticCurveTo","bezierCurveTo","arcTo","x21","y21","l01_2","x20","y20","l21_2","l20_2","l21","l01","t01","t21","ccw"],"sourceRoot":""}